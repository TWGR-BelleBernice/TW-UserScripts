// ==UserScript==
// @name The West - TW-DB.info Cloth Calc [gr] - BB
// @namespace    https://github.com/TWGR-BelleBernice/TW-UserScripts
// @version 0.19.0
// @description The West Script: Cloth Calculation for game version 1.34 or higher
// @author Bluep, scoobydoo, Dun, Petee [tw-db.info], Belle Bernice
// @homepageURL  https://TWGR-BelleBernice.github.io/TW-UserScripts
// @supportURL   https://github.com/TWGR-BelleBernice/TW-UserScripts/issues
// @source       https://github.com/TWGR-BelleBernice/TW-UserScripts
// @icon         data:image/png;base64,UklGRlIDAABXRUJQVlA4TEUDAAAvGAAGAAfkKpIkxRpevsfvfZGH51/VHqMNt5EkKdLwwjGod5a8/5a8zPy/4Da2bVW58nj6JSLixxDRBv0HFOLw7d4z/8EmbVRRFEi2uEVgYKg8BdTBXmYT7LBWOADUj+wipwRKQZDAB7BWB0QzL4I4IziqAewsCkAzRUEGM4qJ4CRs/0ehwFa/uryjlhXpJIhmSCyyQA49jMAQvvpkambevvx9Ac8r/iauN4ffiTqqPacg2KhXwRkaCLYmmtFetOmhP7lVZsOJTEjWM+z0FimQ2uwvMmsnqZKBBIb0T8COtiD6o8BnxKka37Ml/rz8TNeJpdHycXkVmkbaOYYDzz3xTFKEARxVGoVwgL9Ig5JATCKjan2R5b87zwMmgWGnWARXATnV5LSf/LY36yZWzdwsqHO7Lu75LKha72L8L97jxelw95cbg0Rt25YoAoYeu7vF7u7ubpAl/FdGpmxlbE9+rz2F743of/YMTVQX17S+d7R0dVS2UWt7Z60mSK9ace+hyP3/ieMP+gyN4wUCCASIAMATx3M1C6OcAImeSZdIIDyTRhLpSoz7PecEWSIN0KV/nkmOK0I38aqG17y4TIjrki6J0rvzHteljX5RL1QL8qj6yLn6C/usIfozNVaQp81vilFhVVGnl7xhrk0UpJyLy8Zcsbq0IxQUFU4nmQsfgE1mIj0WUVvR5oyUq5u6vXJcBgQg2FY6GG6uL1jZknOdydB2GRDAtU+/LbrzOnP585u8fvnILJcF5Dun3zhxrWRw1t42v8vHE4+e5fqJZNY+ATFYqdDsrd3v59Tw8dpyk/cZZpku82FmUmbEbxqcyh4fbI+5NjECXMdPhic637TPiWePlPEsmyjwbXJYQDSS43cQi9pv7oDwyvVAPksggBm1ybOGWvU2HCazj3dANplIJ9LX5ofRwm9s8oouVzvJuwxRmADgH3cOrBly555Y3dLZ1DlhekGYJuacTozvbhvUtTYpV380FTTU1pSUfr5/vaAkUsur9Fe174UjgZdI1ohIJQAgwosiFO2pvKypiq5WlhQTiFBZCpTFtIblOYmTBUWUhZgkxAgiFAGcumOsrfa3dXVWvGpRXeNA/+DGD2hvvW9x4QcA
// @downloadURL https://update.greasyfork.org/scripts/547843/The%20West%20-%20TW-DBinfo%20Cloth%20Calc%20%5Bgr%5D%20-%20BB.user.js
// @updateURL https://update.greasyfork.org/scripts/547843/The%20West%20-%20TW-DBinfo%20Cloth%20Calc%20%5Bgr%5D%20-%20BB.meta.js
// @include http://*.the-west.*/game.php*
// @include https://*.the-west.*/game.php*
// @include http://*.tw.innogames.*/game.php*
// @include https://*.tw.innogames.*/game.php*
// @grant none
// ==/UserScript==

(function (f) {
  var d = document,
    s = d.createElement("script");
  s.setAttribute("type", "application/javascript");
  s.textContent = "(" + f.toString() + ")()";
  (d.body || d.head || d.documentElement).appendChild(s);
  s.parentNode.removeChild(s);
})(function () {
  if (isDefined(window.TWDB)) {
    new west.gui.Dialog(
      TWDB.script.name,
      '<div class="txcenter"><b><br>Το UserScript ClothCalc έχει εγκατασταθεί δυο φορές, με δυο διαφορετικές γλώσσες. Θα πρέπει να απενεργοποιήσετε μία από τις δυο γλώσσες για να λειτουργήσει το UserScript κανονικά.</br></b></div>',
      west.gui.Dialog.SYS_WARNING
    )
      .addButton("OK")
      .show();
  } else {
    TWDB = {};
    TWDB.script = new Object({
      version: "19.0",
      name: "The West - TW-DB.info Cloth Calc [gr] - BB",
      min_name: "clothcalc",
      folder_url: "TWGR-BelleBernice.github.io/TW-UserScripts/TW-ClothCalc-gr-BB/",
      update_suffix: ".user.js",
      update_link: "update.greasyfork.org/scripts/547843/",
      check: "version.js",
      url: "tw-db.info",
      protocol: location.protocol.match(/^(.+):$/)[1],
      game_version: 2.254,
      lang: "gr",
    });
    try {
      TWDB.script.notes = JSON.parse(
        '[{"version":"19.0","notes":"[bugfix] Διόρθωση συνδέσμου νέας έκδοσης"},{"version":"18.0","notes":"[bugfix] Διόρθωση έκδοσης σε κάποια σημεία, ας ελπίσουμε!"},{"version":"17.1","notes":"[bugfix] Διόρθωση έκδοσης σε κάποια σημεία"},{"version":"17.0","notes":"[main] Αφαίρεση revision"},{"version":"16.0","notes":"[bugfix] Αλλαγή συνδέσμου νέας έκδοσης χαρακτηριστικών"},{"version":"15.0","notes":"[bugfix] Διόρθωση καταργημένου κώδικα που χρησιμοποιούσε το UserScript"},{"version":"14.0","notes":"[main] Αφαίρεση περιττού κώδικα <br>[main] Αλλαγή λεπτομερειών στο παράθυρο Στρατολόγησης"},{"version":"13.0","notes":"[bugfix] Ουπς! Διόρθωση του UserScript"},{"version":"12.0","notes":"[bugfix] Διόρθωση λανθασμένης version"},{"version":"11.0","notes":"[main] Αφαίρεση περιττού κώδικα στο παράθυρο Στρατολόγησης <br>[main] Αλλαγή Updater"},{"version":"10.0","notes":"[bugfix] Διόρθωση της πινέζας αντικειμένων για σωστή εμφάνιση σε παράθυρο vanilla και TWIR <br>[bugfix] Διόρθωση ορθογραφικών λαθών της λέξης bugfix στα Χαρακτηριστικά Έκδοσης"},{"version":"9.0","notes":"[main] Καθαρισμός κώδικα - part 2 <br>[main] Αλλαγή μερικών υπερ-συνδέσμων"},{"version":"8.0","notes":"[main] Καθαρισμός κώδικα - part 1"},{"version":"7.0","notes":"[bugfix] Ανανέωση συνδέσμων για αυτόματη ενημέρωση"},{"version":"6.0","notes":"[bugfix] Αλλαγή μερικών υπερ-συνδέσμων"},{"version":"5.0","notes":"[bugfix] Ουπς! Διόρθωση του UserScript"},{"version":"4.0","notes":"[bugfix] Διόρθωση για την αφαίρεση χαρακτηριστικών"},{"version":"3.0","notes":"[main] Αφαίρεση πολλών άχρηστων χαρακτηριστικών"},{"version":"2.0","notes":"[bugfix] Διόρθωση μερικών ορθογραφικών λαθών <br>[main] Αλλαγή φόρμουλας version <br>"},{"version":"1.0","notes":"** Δημιουργία UserScript από το clothcalc_sk **"}]'
      );
    } catch (e) { }
    TheWestApi.version = Game.version = parseInt(Game.version, 10)
      ? Game.version
      : TWDB.script.game_version;
    TWDB.script.game_version = Game.version;
    TWDB.script.isDev = function () {
      return this.check.search("dev_version") !== -1;
    };
    Number.prototype.round = function (e) {
      var t = Math.pow(10, e);
      return Math.round(this * t) / t;
    };
    String.prototype.twdb_twiceHTMLUnescape = function () {
      return $($.parseHTML($($.parseHTML(String(this))).text())).text();
    };
    window.debLog =
      TWDB.script.isDev() && console.info
        ? function (e) {
          console.info.apply(
            console,
            ["CC:"].concat(Array.prototype.slice.call(arguments))
          );
        }
        : function (e) { };
    TWDB.images = {
      iconName:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAqBJREFUeNqslEtvElEUxy90gOHRDhQpDBIEaysKNQZpYpqiLroxaUjUrV/Bpd/BD6IrdySGmK5cVzf1sSgNgrzDAB0QBpgZxnPonYZSSLvwJj/unXMP/3vOfRyDpmnkfzUGf1Kp1Lw5A7BEwTYGVNpfaul0+kxsQbMAHOCmi/aBFtAF5IWRLbC7gLtPGOalPBpZG7J8cmKxHIDtN3AKaNcVw6gCYZNp/4XV+kaRJNKs16V3wSBG9pdyKTrjgr1aBsK7LPtqPBwStdsl1mbTGiuX98HuB6zzIpgnZgJuAHfWNc2ndjpEabcn3KtUtnERupfG64jZAH7XbN5bHg5ZVRTJT0Kq416PhATBsyJJUZj3AOarxPB7BQhuGo2Rcb9PTiVpcMDzuOnErCjMVqmUpKnarxLD1TxOgyF2X1F4TPHQbC4KNtug4HY30CFSrW5AFwKcswc4K4ar3YwbjU8xLQVSPOK4iUjW5xOw94miixfFBAy9s6kyc+5WOCHLG0qrRfqtlhLv93mcZGX53PdBsZisclwGhjlA0u8cM3O3vAFNiztrNccwlyOGdpvZPju9Cw1S9X+OxdZh+IO+itG0mH63go+bzWeD4+PJ3apxXPvChiqKabXXczgGAzaRz+99DYUOwVyeFdNTDNzK5dZQCDf8/c4OPp/vgAisAY/eZjLP8VTDjUYExHALHHRe08WwMrDJQuEhW6+zaMh7PFnoPgFH9Pngg69mvd5otFy+vVmr8RClq2W3W+hBqtNpDj2CsCQ4HGX40H75/R/A9g11cQ7A0xyD2EevKL4GH3WrWFz5Eoko9P/EgMUR6hk+oVVMkz4lrFsVSofWMIberQBNGX1qug/Us/PIVFpWMII/9Kgl+j2e8hGpraRnAwx0n38CDAD3lwpCS51YdAAAAABJRU5ErkJggg==",
      iconExperience:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAz9JREFUeNqsVNlPE0Ecntltt3u00FqK2KIQQCKERAQxKqCJB8YjMdEXH1Bjor6YoNEYH/wDJP4HJvpkYkxMCB7REOIRPDAicgkVa1sKEtqypff22u06g9Nkg6I+OMmXmZ3j+32/a6GqquB/DfiXfUqzxlbzmvUvQ/cHMhpBT2Y8FASZ4Ldk1CpEeN+AICAUjzy6cn/iyYUXaM0SAfBfyQBRwyGYL3edbeMpsSUbm9t07+7tM9VVFcxqZLrfqILEPR7BEgp4LTxtsohL0/RSdr7U7fHpiQitq6o2wBQh1hNXjNg9BKvXOytAOUwp0ncgBn3lgsCbyTlWzhAvlnloTaDZqxdPrp+ccjFbN9dsSKeltWYTV9F97dgph8HlUJLfYUK2Whw1LQEIQbSlqU64fulE9dGDbUzv0zcxnGlIFGE1wp2bnR121tdiNfNNlmJzA6QZvUFdZNW4k1LisyANLUqGqQrTFOXPpqJyOBoxS2XnHwTStlvnznfN6IgyPAvxDGeji8ytptzHLVwsA1XaCPJyFuRzyDBFIb+idD4+WuILyCWukDGt2I442SgvSlIIZx5CTQmUINgPHti78/j+2tP1hsdV63hRB/KoTtUcwJ0STQIw6gFgLGDPxbltz98PT9+YnHS60DvsZqYQPJqQmr65vfTgyIzY0NpZazfFjBwMA0XOAQVxRhIAfAmaQJDZtzAwON7tdE4jahDHRLiYKdIiuKrTCMg2SC0uivGXAyPjRpNZTUpZMBsEIJz4mfciTgZqPjPn8czMkfuZQlcUyLKYhBzGjAIvHd5dWaYkpuHQVxkMeO3qRNC2rM7KpcAaQ0TP8xy+KxEyBWiKD3/kiDppe3MN214jNnx2LoDRcGNiItLkGhLbfe7kRglnysr4K/fu2WUhbwq9qupWVDE+SDXWOdhXrz+8D4JDtm9LYKyvv38C+Sj7O3Y7jjSXH2czn6311W2NPQAMr9ZOeWIp6ZuPON8Nmzwy9DOfRsZEWVaW26z3Ud9UKLT97UZHLbo4617594CaudCPxuIioYjneXbBv5gjRqCmbXJrS22p1h1blZ6HzxZIvNWVZIXiNZC5kBx1BZmqiW+WxHuZ7IcAAwAW9VeYOecN4AAAAABJRU5ErkJggg==",
      iconDollar:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAwZJREFUeNqsk91P01AYxk+3buyj6+gGZXOTrwCSiRB0gkYiGXilYDSAqHjh56XXmhAT77nUS+/8AwhqTIQQE8CIfGNAkskE5thGYWPr1lk6unpqTkkz4M6T/HJOz2mfvu/7nBeTJAn8r6EB/3Fgxzxr0Fr5WQ4ioRmg9cFQssPzhDRoT4/QojMRIiBExKH64HlCsoAJQnTc7D11rulCcwZ3dWd4PkdpY2+jkfD4m1cDyypR6ai0MCRkhthaWttO17Y+HIiksOqNaBpsxdKgxKYHbgpnLpWxj148fzYK39tT0s5PU06nAGKB0Fr6bMfgxEZ5NS2BzTD8RkiCXUEHlqZztL9U6CMI83g6zWVVNTxUaFmMdLrLSn8mSJ8JY3UV0swsZRT5YkICd8/nQOWJFMCz8Wqv12s9wryDyJR6GWs89TWTnOTOpgGImq2UjSrUJpNaMD05/BqPbE12XL1CbEYKTapApPx7plGcDK4u7XR79WmDRgCfwxWVfgbThaAYV+zrLCAd5Ip/PfDu/afEUZFhCCPEDnFBqnq6rrfZikoaAoxo/7btLuM4DuA6A9AYrMDjEMNdDXtP+/tfjsB3M7KrigHqDpB3xJ7e2+U8ZsUX5ueXSi1ssMppEFykAO43ZQBN5MDcIkMvBFKPnzy4U4KMw45rJ2nZH0xsW3x9VOO9Gziul2zG7I7OVAgiv76P1jrxFBB5PBTeavZ4atpUl/pQB/yLlbJaDD/Wfmd241nyVnvLZc0fPchpdwBrbPTMrCSNesCAKgfJr60FI/l1w9UpQrJfx0ZWO7uKhhb3yWuDE1krhpswgYuDkJhyOghBavcVCzQBJoY+DK8cZ4B8LQiVCa4mb2O93eGqm2OKmrk0a+25SO1RZm0gFot/HPsyNRiJMus8z8uuChJyQBGTczegDpAF5eLaDYYCm6fuTAVlp08CgV2fnl2cYtlUCJ4xkITKTSm/N3HUBXKEJIJAUefQh0lECsLLZZHPlKuB5aUsR6hDokY040hMQAI8Wu+jWiuBgb8CDAAXATNfWNNYlgAAAABJRU5ErkJggg==",
      iconLuck:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA39JREFUeNqsVEtvG1UUPvO2x+OxnTp+xY7T2iRUlEcKqFCVV1cVEiD1HxQWSLACJCSoxAL27Nixh58AGxYQlJaXILIT0zhOnNiJY8f2vD32vLhj3UHTUnXFSJ/uvZp7vvude893CM/z4P/6iIesyRCo0D8XwcGjD+9RZAQOZhA4hAieUzhwhjBFMPHceZCQfoDcD4wKQiz5yecfvOWsMLeHxkgo8ZnpzrBFuDOLfnXhuU+/uP3l183WwQQT3hdMhFT5ahI0Q2effW39zSOif2V3sE/vjg+41qDN1RrbTJZOly8VV7/buPOLhNO9T1lwT35qMUSUtGb2ufqv26PpOmht5TBOovPlgQLE0IPR0SguHUminwFO8987pLCiOdG7H9164fK1p68uV4sXO80OJZA8p4pGUZIVxObBWuQ8PJZdcQaG9LvlWvKNN67zU9WcjUbSnIzEl8wjpP6o1fhplfxMfnz63oXXqzflfUkpTwtj/9yVWB5Wl6ugZx1Cyc5eghuRTbvgfv/xh++/EmRI40kMIZ09n7nalY+jh0oX9l07VngmHWU5OrpKlEGgYqBmTDA5LalljHcGWwPo0SmRWCLeFuPChqJqFh1WtryYv7BHnqA3csFQdGhYSrpMLkE5XgCdmsCutgcz2YGJoUOc4kEgYkT/9Ey3bIcJlJFYHXdGSNnjcQ/GPRkIA6AiLMECswB9QoKcmwJ34sC21gLbtkFVVejTQ+9sNNqaTCbz1yRDL2IPm/2meaJ63JByn2Ar3pO5iyDmU6DSBrT1Y6iwJXiRfwp4mXM5jXFFMq799POdzaBEaFx4flUrSlP5czEimizDVMq5pWqkFM8MiB4Jkgcd8xQ4k4G/v218lStk7UuVy7lERDz8Zmvz2BfiE1JY3dxWiqSY3U5P3mu2z1DRuLDGlA9GR4ykyOCYLpyeDLwSm7/712/1Hxv15g/bO/c2LMuWUejcDb4yC0H3CTXdALx2FFlJ1Xd3JqfDfjRJiWBODL/WPJ6PGa7rttGeISJS0WgEtgqnGe4EZK/TZ192rrXWxHKC0qA7sMfDc8WF1TQpmndZtj+bzWRsfDswPRHqHIGlEgiLCPliqVC2pxaXTCZoZDO5Vm/Urjy/rtd37nU1TdcxEQQiHtaCfM8JCEkE34MsPtlPxze3gufTR7WgoESCTRYOpEJrM5Taf75/BBgAw3Si4MpJ570AAAAASUVORK5CYII=",
      iconDanger:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAuNJREFUeNqsVE1rE1EUvfMy08xUbc0kU6U2H6WYSWwpRQgU6cZFV9KV4E/wBwiCP8Cf4dJuRARXVZCqYDbagk1tYwshhKZpmkzitJOkaZKZ8b72ThkL7vrgwPu65553z3tPWFpagqtqDK6wib6+QOQBAh+7CIfgJReo783btO+CTKC+jLhGEGnzKaJPRJIvpovoIE4QPU7qLQSIIIy4jbiFUChrmwIYzck0byKqiDrimCcVSVUQEUIkRiTp/tN0+smUZU2Wt7YarxnLlmSZBwUWJybSDxQlJRWLsFKvf86GQqs4/xsx4BBJ1TBiTGLs3suFhecJ29Zgbw/uVKth3bJiz+bmfjxOJiceRaOTgETQbIKezU51Z2dH1mOxZYy1uHrRJ19b1LSHiU5Hg40NgLU1AMOAm5Ikv7Dt6buuG4L1dYBcDniiouuyYLG4CLHYF4wtIwyPjB/zhu44OhQKAJubAKUSlh/rL8uQzOdV2N8/I4fDQ3D6fWhyBstSBccJu4xxMaLfTUFqNETooEGmeU7E2ymaWcbEAm4ZYGls+8wNpObqBNFGExkTvHvjkvXtg3p9H3Z30Zvji4sFLi73emekLhLxu7CN4Gc7UZS2K0kGXRObkc18j/F2dPRj3jBaJVTXoAwucfJN/GjfEbzi24LgBFOpD9it0NXoB3Rd944JA8YgF4mYjmnq3W5X8Zzh7RDxlYgKktSTZ2ZWpWj0PQ53EDUuiJO5vufRaweDVj4eL6HUMcU0VRFdO8KFT0RkqWpDmZ9/J0YiKzjcovJZfmXeG+vTkdu1SKRSCYdttVaL5rDIb/iRx8crw5nMsjA09I2I+JU4oifneGQeYZ+KyZ9Qu6UoRjUUqh8fHEzXNG1HyWReoas/cS1Pii6ILv8anqsOPQ/eb1VUtZxMJJrX4/Ff9rkS7z22Lnn0Dxn4jOPq/lDWxm46XaD5EyLpUEL3f/+Zv3lfz4ACAz7Ftv8P87e/AgwA2Gk+sVBbJGIAAAAASUVORK5CYII=",
      iconLaborpoints:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeVJREFUeNqclM1OwkAUhVtaKMViA2K7cOfOV/JF2LLyFVjwEkRehK0rUxISBUUrP/2xP95LzjRjaSNxki80LXPmzLl3RlVOhwoahCa9T4mMyMGvkee5oteINYkWYUCQRSKQQPiswQt0iRvizvf92W63mwVBMJtMJrdYSD3XGTsxiT7hRlGk6LquaJqmLBaLCyyW1LmoEjPgbhCGodJsNo+Cq9WqVcrxRKwhhc1YxCXRI65YLE1TIWbhey5lVxRFl8I24YiFHBZiQSHG7ubzuYVv/P+QCIiY+GYxFdthgf50On3gSX/BLsWv4zj3LEoFSHTJjUsVU5IkqYTdiWcWElvHfHZ3FNOw1TZvqU5IbFU8S2KaXIAMYcaj0egxy7Ie/dEm21167o7H44FwNRwOn9Y0DMP4sCzr3XXdF8wvxLirt8Ta87xIVJG45rDJbSG2XC496rUlvd8QPvGG+aks9gV3n2CPFVtyjrZts5NnCHElD5ifKVI3HxCihpKr6Kc+nwCRkWma7GgNsQSIPjuKpVJu4qCb2PqOi8JBs1in0wnwfi/dHHn5OOWlq+Ybbv04jgtnJLzH98prSK04Ytw3NvcdaCOCFfGKTMOyWN2tkSLcDRy2EMEWbpO6g17lrPGfy5Gd/QgwADbFOC1FlFuVAAAAAElFTkSuQmCC",
      iconCount:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAv1JREFUeNqElMtPE1EUxs9MH0zfL2iAlkCLQkkBRR4hBk1oYkiMduUCNi5cuPZvcGPiyhjXGHGlMTFBXBAlEQUkkUBTWmyaYm1REAq0A9On045nmlszYIs3+WUyc+795rvnnHspQRBAHF6vFySDRuQEJSKDk6OI/CbwSAnI5GpDXKxGNIgWYRCKxMSFeeQYSRNqilHEjQGxeocsw+pCvGExqohvscrMxIipQ8UFuEmf7R2ZnyfuTohRxJEoVI84kLbb11ofKgMvmZXvQ1P97WblxGXteGBu/RDAFiLbFB3mKrmRbk2FWEQRxH2uWTuqLOwxvliBj6R09haL7AKkQjCzoWExbkP05Of0WWKiq662ZlNfOR11hqQ4oa1JrwU+Bxxdn8FXM5kvr+jIq4jVT98feQqAVc7jbnYW4KKVbZi+k/CADusR84Od5tw5OjMWLvWvkHVUrZypYO0BGsJ08GmYWQfYTgF4XMugUS7Ds88AsxtYZhOUaGs5Z6WKgFRMIAHB+/rKI3z2To2+8azGAXww9jEeOdSNt37p8+1qOF2n5wPG50kli9LmhCru5O4Wldboug5XXUyOByXf02HXdrvd0N+uOyYCvNRVtT4TxRX3brmHNXW0DRSb0Is1u6tPOrpcbiPIEjBg/8FoVP7zaUEb+7TrXDxLrHx8PM6jgXLyIy8glgDmhtPnAD4JP8JBCG+BKcWxpjRt3QRwFv/nTPZ+Kbg2Ygn1TM6DPHzcuBNg5fywNdjyBDMVSjuiQrHwy2zQrOKBy5EtC6dzViIdnX28oJ9j6Jw8ug/wjRr8Gs007RcxGkkZknXW7lmm6dLzjLpTPE5i8xZqiYkB9qY7yxwmWTjIlzudG2w8UO9h2gUZE8V3PxJGtpEjsuafgy5+yCIJOxVmX/lV4SPBLC5a2ktm1dEdtUyhNr5FC0H89hNB35CptFO5FST3GU2uHfG2MBIYSQ8WyKFOke1xlduiVtMWJNbZU3GeNGn+dLPWEuMluaOq5LTC3wpKxx8BBgAeuiDOQ7ICHgAAAABJRU5ErkJggg==",
      iconKilled:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAx9JREFUeNpslE1v20YQhmeXXxIlUYodObArNDXSHoIgSJt7Pg4OmpOBBOhP6M/rsafeCvTcOBc7iBPHlmQ7shSJkknxY7nsu8IoUBUTeEACu/vOvDOzFGVZ0v7+PvEjgAVc4DE2KEEOEpACBQpae+yVbyPkAB80wSZogSrQYAa+MFOQseg3YkuhOmiDu67r3tvd3X2wvb39gxBCHh0eHgyurt4WRfER6z0w5iB6XUyCCrgNfoLAk70Xe791Ot930jS2puGUajX/Wb/X/+fNwcEfKI1k62O2rVfFzLsBdhqN+uPXr1/97lUqt05PP9JoNCLHtmg8GftRFD2/s3XHu/x8qdiiYiFjuVwVC8B3v758+cr17FunZyd0dHREURRTM/CpWvFpOLpyRsPJz41G7SSezyOt9TVnZpqhlmLLem1tbGw87Pa69OnkA2XpHMWUlKaKhJxTI6jjOwmCVrDn16rzwWB4gTMT7rKSLGbxGNTDcFoOh0OK4xlJKVEYSddRZGyS40ra7mzR8fH7rX/fHLzgGtf4/P9GwwjbUXydqyy3pbCpUvUJ5aJZnCwyJNS93+9R96ynSxNlZ+HG5WkguSJmuqPTNFOW5VLFDRb7HBsV0JrMcDuOC+uKlCoKjI7ijMS6mOYi5lKKXFjIqlKlqushsxLfNUIMkFKWK0QttW3bOZ8pma9iy+uSCRK5DyEhrUXnVZGRDa/Skovs8jRHGkJblhVxJ/N1sYJnZWbELAgJKSjJMjTBeNAQtEljV5amRhSlsML1e2qviM3BKJyEkziad5I0hkVBzUawyKzQkpIkhdWMcL0Uajbkkfia2aqYGcDL4w/Hf+V5XptOZzvI0Gvf3qTNjRY5lkNJmUF0cU5jbEZ4xyymbxK7GAwGf8JCVyn1NC3SR59Or9v98/O679cIQWgynlBRqATZfeYz2U2ZGf8mmsafIcLmM9j7G93/BSL3Ly7P7w4GV+0wnFCr1Tr0PO8d9oY3ZVZyBM2LJqKpSRe8cxyn3Ww2A4B2/GjWznltKfbNz3E5HoqzjPhHeMH3tspDmvFayG+1tPmfAAMAqEx/WbBWiOIAAAAASUVORK5CYII=",
      iconNew:
        "data:image/png;base64,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",
      iconChat:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAPCAYAAAC4EqxxAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA41JREFUeNrkl39oTWEYx7/n3t1rY8yw0a6xe8eda1lMkqaw/OF3mZQUkT/Ijz9WU6SU7A9lbMUf8o+lKBSh/NhClmnNlmVk0YhZ2MXYZjP33h3f9+6913GcO+eMojz16bzvOe/znPO87/M+73MUVVUxWJnpdg1auf55q4K/IHGRxt5CBfNHAa+q4MjuwYjWOmSO70ViCBnNCcjyn0GguxEBCA8vqlWx7J0nV0g1aSaZJI8sIQX4ByRO21FUpA5NwFaPig0zRmCizW9HD5xfnsFxKxmOYgUfa0Lo6zOw85aUkFKuXEhzv0nASCjntZAUkbExvsVOFhEXmUYaiZ9Ukq5f+GFaN+pwIIDRLheOLRiFlajhjaf9dhKQFJ8N32IvfHM6ULXxAVov8oE+lEvoaMkA4SsmoYSOi+5BgyHbyR4yzuDZJ3Kc7Cah39W1RZ5keFHoXU5n3eykk0Rx1yHtpLOVO3IzdpR5MdtrEMalJiOqVI7XyiFyJMYHC0kiOw30BqcrkpagqQv+z6LZRq6RZQTjyH7yUA2gUw3y1mGU74ro5GakqWRTpG8GMV7oyb5blSKjxhCN5GtsuVVrEtaNhvSTYRjdwmtKCpA2D4hvQZtakfPB/nXtlPfwhDdpNxmDhbm6Way2mDeqdSsQnXgTkmika1ISf9jD3LahIPsBtj/HA+2r0joDFdvaUs95smhZiZeDQ0gaojPUbPHF2vENYouLEy6cNJWfTyrNRLyUSchQ9xcS1Y06XMf9/IHXN+Q1UhFK3pSBrUvTmWeVMY392zqNfEXLO8CnNZYps7FZydT1l5ETIssOsMrCsTWkJ5buQEe+Vjfq8L3HqO/2OWf1ht0SR+c8u+K229UVAD1EO9flVbdY4VOXgWKtwTyLDufp+mKOF5PpZB2ZQETqbJUrc4bciWHLsm7U4fYyxz4cnXweDp9TQU54t0IE7yQyi44m8GB7fPWso/P+Dd1Ll4hzVnf+xqrM7LII0UuWzLhTyQWy2sIEWtK1fd9Z6nUcCG5ROlz+/kkaDjhlHHtEt/YsbA07bYjr1NkokEWFGSmMUXGJfZgvjxfGVPjNpitcK7rfK604JYjmnpNq+dO7ylzPekwOTkFfwIn2F+/QVH0JHcFKKA5WLYYlcJEsKkqNVlqubKTSMpLTpFZWSbfDqcK8WNJV/vDPg+laWvPzIMLpkUxANy1+gmVd5X/7W/omwACxMr4C5yIs3wAAAABJRU5ErkJggg==",
      iconClock:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA+1JREFUeNpclFlvG1UUx/+zeWa8xGOPndiJE9dxGxcUtWoKJA2q8sDSp4DYHgAhBHwUPggfgCdeKlQWARISBVpSitIqOHGSxvFuT7zMvnDH3EhRLf00M9Y9//s/5557mO3tbTz3YwgyIUXIE+YJMYJN6BDqhC5hQnAvBvLPiXCECEElFAkvfP7pR1/KIjtzWv3Tvf+4/tVpZ/QtXdci6FQwuCgWCgkXHIVCq4SbHBNkWs0WV3vWxWSib1ARlsaEDscEh+Dz9E+eppIlXOJ5/vpiYeHNzfW1im2MrH7zUOr1B57MuyU+Kb+tja2o5wVhBlVCkzAiWDy1HKVCKyklufH+u299XJjPLTKBx83EJaSTCSxfrrDpVCL78MHD7OHxSXEw8XO9M+N76jKso89VKhWJvGQI5WhU3vjskw+/uFxaWJREjjVNA8WFHPr9DmLxGF5ZW0ViRkFU4uPHRwcVlouYluP1aaoGS9ObE0Xx2tbtzfcKC/n5CC9geSkP1tJxclRDPjuDQjaJk9o+VCWOrVfXUS4txXy9/Y4sCi+R+BwhHqaZCFtgc/3m66tXl0uOZcCcGHhWfYxcjqxhWDBE3LQtmFYAhhh5Wm8ik8mA5zjFMEevgZH+JhqNc2fZUrFwnQ08WYxwyGUUyJKM+nGVCHdBdgdDNhFggYtEsHKljDtbt5BOpzDotsq0TLHQWVizuOfayb6mMdrZGfjAnaYpSCKe7u7g0e/3UVoso3h1BYLAo9ft45+9AwwnJrThOJ7ITg9QZM87tt9t+6NBFwLHQE3NwHFcyHIUi8UyLEaElJ0j58bCs02wpJksQ8doNIFlOz6VCEJnZnga7W5HU6JCdHYuz+zuHyEtEtHZWXgshxev3YBuOzg5rUP2A2g+CzWTxmisgxciY3q1bJ6+tHXdfGIO20qz2Yr5nIQ3bt9Cr91DXFXAMwIC0iaDoQY2peLrb+6i3uygdlxHUs0dnN9VlnZv4+i0d6+t2VVdnwQbL6+hfTZEXxvAtSw0221Y5Dk2bLI9h5XlJfxbPUTACloqnfkxjA91zp21hiN9x+C5aMcZKewvPy05iDAZNYVYyiCl4jDQHTQGI/z61z389scOTNOc5AuXvouI0gN6X8c8HS0a4dBxPfIteY92ax/IIndlPMzKjUYDju3CdYlYq4O96qEvilKXCP2gpNS7JG6fpjm9mx4dJZ3pKGFYW0qofdMYbz3ZO7hhmFbG0HWJ1N0ThMhISWdrqpr5WZKjoaMDmuJ0cvB0Frk0Xf9/p4wmyokjQji7FDrjfBrUo5MiTK1Pa26fjyBcENQvCHfoVZPpiApoG02oaPi06Pppr/0nwABCMa7R/XpFcQAAAABJRU5ErkJggg==",
      iconUpb:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA6BJREFUeNpcVN9v22QUPbEdx47TplnSNnaSdm1hDMZDN2CAoLww9oBE33jiCal/0SZN/BlIqHvhAU0CJgQriA5o0q5DbZw0bRonTWI7/sn9oi+Sh6WjOPp0j++553w3Fccxtre3QU+KIBIEgsSRJmQ5FH7uE4YcI4JHiMELwAlYoUrQEsgR8oQF9v7J1sc3Hcee/Prb3vf03+QkISFIkkm8sEAwCMuERULx7t333lIUVbftcW5r66MN3/Oig/phMBwOn9C5y8EI4xkZ62qesLqzs/N1GIa1ZrNZWlmp5u7c3tQLhVLasizsPt7FarUKvbz8peM4rSAIulRjccJXyJiU6+9/eOcrMSWiVNJxdtbE/v5zeu/iuHGEBw8f4YvPP4OmaWue590SBOGAz5LNLhL+J3OpfvgcPz19gmG3B9sewXXGEMmaSlXHu7ffhigJiONQIpk1PpYsNwYzMuakzAg9P8ThcR394SUWcvlpsWM7UFUFN99cB8lDLqch8H0jQSYlycCdEfxggotBG/3RFfLaPDIZGa47gSCIWNINpOi3eK0EURSKURSVuCLWSGpGFvH8uKlICsh9mDQvKAqMcgVKVsXloIe12nXcv/fp9Ls3brxejqKwzCPEyIQZWcjDZ4dh0F1cLKBlniIKQ3hhgPNuhySIoDNsbt5iEjHxvAyZoPPOMsnOQm7vqN8bDUvzRnR+1oXvezS3HDySyRwWRCL0KJ9SBJEqSb7BI8XCLs3IAk52dd7ptjY2NsJYdtBuNVFYKGJ9dQ2yLIFdvZ41wPJSmdyt0NzEWdCn3SVn5jCyWm0llFVRPG2/RP3oH6jaHMI4gmX16dMSHOp2xahgXsuxiCxGcbTEu1OSMhlZ73d6mqedztgdx/XG39OxRnTsxyFSpM267CEtp6ed1iqGQXNb5TIzUqIzJtPap2fi2X+uV98oXlp9mVKOuayGg4sGWhMPbbNDOVPQeHEM23Xjq751f6Jkd/P5vCglMjYhDAjto8OXz+699sE7Deuv0mBwBbN9gb29P/CCCFqtNtJpyRal9MCduGoUxo8L17JnLA1JMmbCmNChMB5l0rmTbFYtfvPoYernp7/ANE0/Lcvd+Xy+oWW1OjlrjsdjT1XVZ9R9mymTEjcg4t2xLXBSXNAvDvYb5rc/flfy/OBc140fyL1/qfCEztm2GNCFZwuyz4xjM08lNu3sws8R2DWp8r2mcYP6nMTiW9blQfe4qvA/AQYA7z2lEDB0G6EAAAAASUVORK5CYII=",
      iconMoti:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA0VJREFUeNqUlMtvG0Ucx+e16117/U5ixzhxQo1MGypHFBOCOJJjkLj0VAmhihy5cOKf6aVHOHBqORYpAqHSoBYk0kei5qEm2LHX3oe9j9mZztCxFIkghZU+0mpW+53vfH+/38DNzU0CANAVGnjzRIJQEAsScMlHCqUFBUFekFE/jwS2wBUwAb+MGFJCDcH1rz7sfHMT42/F+zuCObUR/j/Oyhih5pcbG7c/YMnHDx498lKr7d0QQOnQF0wuOCr/L2f5rfWPbnUK+fXe74/h2Pet1KD/mVi/IpgVZJVDU6ErE/AiZ6Tre4H74CfA9/cAiyLIu90GKpXfZwD2lCtHuZHvY+VWQs+L4VarVTsZjczGycmq5TpG1OsDD2PNrczmKcRSLCVzbVTmlq7krCV7PAkp51RV+l9i+YjSLEqnF5quVw8nYwiDEIZWhgS5nEEZLzTn51e21ta2Mvd+bD/W9WcUIU85C8/nJzOzRe2PHibJ9kDXfZzJgCJjoLV/kF3p9iorpdK1rzc+/dza258/2N1diTlvi3/mBZZyTRSIqF46pYy9+M0w/moC0HmBETDDAF6fjJdri3UEn/yBD+/dB39HEeGusw5K5X2VI1AZyuNG8phTh/oAIUDH7o1BLqs9zVpgZ/Et/CuNEN3eBumXh2DIORho2IzKM6dKSE6MgRHUxScmxbgqM0owBua7zeJe2lx6bo/8oeM6vuOduSnj7O04tnJhiEPGDLtajRmEZqdeb31SLq2VxuPyQZIcEzUuMsyzhPOnXS+4Syg/qs5VhYbhQAjTIu3KcZyg9nC0vO64eNZ1Fmbaq/VOsVg5/v675OeUfh/UF38hyi6d9pLrjUUG8LlhmpoaJTmvtYeF/JDo2hcsDHLpnZ1GE2HU73bBDzS2XyLMhZA5FWOqzEwF2lU5AtX1PV/T/CdXW5W+Pbj5iiawFk3c5aGtnTLOWdX6p0XIuVmjqsNDleE0S02tRT0rN4GWdVAI42JMSHpQi696h0cLXNf6co7JBQPML1iT7SMKBgIOUC+VSs3ImdaXG7Zp2zcCQp7JfiWXuFmmESSqUPKeeyWH/zSgf4Jr793R3mzmkEteVYkSjZSgc+5mRmpO49cCDABebWpp4n76+wAAAABJRU5ErkJggg==",
      iconYield:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABBJJREFUeNpclFtv22QYxx87tuP4kJOTdG0X2qrQoiE2DlpXJgaTAAk0VdoNF1z1km/AFR8IkJC4Aa4QIHUCVrYO2q1dD2mbpkmd2Ens+GzH5nH1RqqI9JPt2O//fQ7/96HW1tbKAJBHZERAMkiIuMgIcchzSoyMCel9Ald+DFJF6sgsoiBZxEMGiEauqaBPNkixyXN4VTAVq99/f+XLaim/kqHGlRwTU549gu2d59Zf+/pPoijtkQgtxER0pEuu6X8BifRS7Pp8febTLJuRXFPFHCOwbAu8KMn5rvWRLOcX1r94+HpXVcfNk4a2fdj5BtccIQ2kTTZIox2nYqXE7oBSysKfh1uwf6xCo6VDGIVQlQvlxbnpzNAY1Xq9LsSxrwhsvJ7juTN14P3AMMwOrm+ScripWPa8a8YyjXX3R8AmPmSoBJwgBNuPhPN2R5AEDox+F16rK9zy/NRSs6XOn7b1RJILPK7nSMm0zPLy8qpS4O+ZTsg/edmB064F3aEDxsgDrT8E1zJA5sZwoRvw/c+PYDTswddfrdOfP7w/t/ficKk3cC5omk5r56Zit0QuXl2eyuQ9U4fYt0AbWuA4Lry1UIaP356FBYWDeonDesZQnyrCTE2mJEGi77zzZun3R5v1KMm8RLFhmubguD1sLFaYWZqigErGsDRbhLuf3IBaUQDXD2EOBWqFHDy4vQAjN4TG3i609hsQixW4++7Sq9/+uPlepVo9ScV6jj/e/Hu3teqYfdbBjx/cngY2mwVJFOHezWuX/ozRotE4dUAElaIMh+c6bD09gESq0a5j3UC7SqlYl+Oyz3ZPOk9FMO/YXgR72NGYosGq1yCJQ1icLkM5L0EYJxBQLJz0NOhbATzeV6FQDMB2HM73fTatWSqYZHOS3tEdxfGj7HSBybGYc+B50LrQ4aCpQlsfAsuwYGDkLJr+u99ewGlnEHcH9iDLi08kSdpkiOla6JnMK/MLsW3bH/Ssi88UKZJ4LgMCy2CKMewed2D76AJoloMgZuFcM8ENktHM9WvPZFn+g+f5NkPOYT8tDLY4xhfuhWrx7YH2YUX0pPmqQOdz2En0oRuOod3tg+7EoBvuOF8oa/l8/jHyz8Rnk0kwmRSWIEptP2Z0zQHqrGfxYRDwNDbaxBRNx4f2wMc2cF3s4EaxWPwVgzhIzypD3DsmEaYTIKIoylMURSuVSjuO49xsDvSVpmEslrKRMrR8GNrxqDpV2yoUChtYniNy6F3myjiKyViJSZQm7tjDwp6JorhjmuYbak+9ZbnRHC+IDUztF0EQ/sXvVDKSoqtiE8Hg0kwk5bSeGGkHozjCxRuGYShBEIS4yXN8d04aeDk4/y8GJNXJJI2uTFyNZVm+UqkwZLFDIvIm8+w/AQYAA2L5OdadVygAAAAASUVORK5CYII=",
      iconRate:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA85JREFUeNpsVNtOG1cUPXOzPeMxvoHHJnY8JnZtrECISKpQVEVFPKSRaB/6nk+I+pLP6BdEkapGVaVWEelD27QPBSyVqA1CDUGQggW48f0CnvHYnrHHnu6DjiuKamlJs/eeWd5n7bUPtbKyQiOEOIAdIABsAJzrA3RAFzAAUOQ9DETqI+A6YklRBPgA44AxQoaJTgEN8oxzDgBPyDRAmxD9S+YETACuirw/PSXdXW6dWUKperSv219nIJ8DtEhnYnz803u7mWHUCmw+5scbx6RzNCLDnUxGgzeXUqFPPn/zUrF3NOi8I31ULoiLwYXfvoD6GWAoOgKS1Zx6lC+9OImnG4/JqajLZFLEt/DZ8yc5e2n4Xckn2ert/aXpttm/IZT5xbFgdw9rI4nzH659dSzw7+18Dzz42EOANSKjiejuTt0TPyltocisduiJnNUCqWoJl8+qw/ehHgWEjYr8scavH12Jc7sQGwSDi2T4RzXKOmJAW85GmTgxdZ03GYpHFH0u+ETEc3fh5c91j1euviAaqmQw/yHD7FohX67xlIzUg5kIRwusw4yHdCuPRDeDJyb0SsnbCruuhGK23QskI7sw+Jkl/1JrGNs/9VDwQT0rJZRsMrFjbSBTeKv6IkzeNbgtv1qri2NTReiKwz50ERvR5HtsEwOTKYCiO/F21eSK7fK71nJz0BBEL1VJp/wHoLFFK9enu9xGO5nissSPFrFUEzcCqOCJs8R4VTwZv6y2/DJag/c9EPsh5QvYF++82TYEX6zxCnKeoHsmLksfpNQ6YnO5k6zKbD5jhNbOyBoGEbNPWnYTE+OYc/RuzKnWRjsRVwp+x9z0pP3+/No3RdQzhkhwXQmXazfTkaXMI2xemgjZJcetkS5x+91rE/dmN39ouFyxLBadCjrvJJ9/uYfq4pND562vM7VqRe90O4HyIb8Mde/IGlgDk3SDyNLz5ml4XuEyajBunE+wp4qiZv2FIknmHWsbmPItpcTAumotTcYajsgQGbONLP0YbMTc9q96TAzn1iGu465bzT6yUwE06LFYHhS95mctWAITtfEmDC+TceRm4JjWzP2qvnkanbb9AvHfeOHzpeMjGwogdW8h4bXNTtQOgiEV/Yl8QWYL24O9RHZO7tQX0xs/FhOWf38VTpyHVA8f2xC2nnVp6aFW6IUqq1yojZ4iynvwOjAZ/gN3f5EMkcXVc3t9q+/+/enVJPctxAUycc45WdRkd62Yz/aWDbMpSD5qPxwL42vqBJNRcNNeXC0H0cxJnnFHHTIYmtjm/y5QrKn6jwADAOdNghDsOz2+AAAAAElFTkSuQmCC",
      iconItem:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA1BJREFUeNp0VE1vGzcUJJek90O25A9JVpQYdZLC7sUoArTJJe2tKBrAKJD+xl576KE99VQ0xwBBkIuLtqitRLEcWdZqP8TdJbfzNlRhuCmBAUjucjjz3uPjx8fH7MbggHcDtYMBrMN/hryxpoMKCIAICN2aiDSQAbmbV27/g2QC8IENYAfoA9uOlJTEwDtgAlwBKVBcJ5TOlnQqtoBhXdf3ksXi8yxLHuZLva2kLDbbG6cbnc4zW/NX+OfUkcbXVFpxeHhIJG1gANwHPr2cTr+dXl48TdL0bpZlO4sk7Z9PLj5eD+WDqNXSdc2Fc8KdMrsi62JyGzjUevl4djX75u3b88+MsWSXC+FxKSW3kBQneRD6qg+yrrGmjX3jyEhZSfZ6wMFsdnl8cT752jDbLcuKpUnCOOdM+YqtKcU8z2MCzKPxZH86nX3Uaa9/cXs4/HVre+cH+o8IpTFm982b10/iOP6urExgqopZaxn3OKswL9KSZbg7jELWaoVMreH+2vLJZLq+iNOvDg5q2+31KBmpt1gsekk8fwzJgbWGlWXBqqJkNQjoRo97731A7VLrJkxRFBAh07qQo9HoS8T1AWXfA0nOhTwBiY7CoElxrvNGFbLagMKMWUNYFBVTEraFADi7mi823k2nj3CsK46OjtphGFVZlt8CwXYURbIsS7bMQWgMex8O3sSMUJaaFVBIhKR8hX6//xtlcw2jBEmWptluVRaddrst4Y9ZY6GkwLPgzFiaa2xzqOXMD/wmBEQUBH7c6/V+oWxeUs2EYejt7e3Zs7PTp1rrTzY3O0EYhGy5zBt7FjGig3JNMSlkU2BKSawlYhj9QQUs3bOgUQdBYO7c2dPj8fgJSuNISrHVarU42aYMX28FpIpsS6n+HAwGP2P3nGz+W3TAUil1BZuvhZQpsufDpkIOpIfTFJ4mftyzyIfGa3i5v7//ve/7z3H2TJycnDBHaNzDzXHjHIpGIP3L94MLrDMoq5sqF2IOW78Pbg1/Gg6HP6KQX2D/bwoXv95C0NuEazmr90pdowebu2maDpHtCMqXuGiMkhqTNddJ5uSK/09zXJFSS2o5hK67WNfTKNaJm1OIrPxAw1zFcGWbGuLMXeDd+F458qan/SPAADZkjTT769JCAAAAAElFTkSuQmCC",
      iconReset:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABB5JREFUeNpMlM9vG0UUx2dm1/Z6vY7txE5cE5yQQOymMSERJGmjSFBVSqUgAVJVoR44IA4cOJdzVfE3IBAnJISK4FQOICSKhNS0KCQqpGnaJnZ+NI7t+Nfau17vr1nelHGVkT7aGdnzfW++8+bhvwhBRBTRjeVljBDyAUEgDEQBBQgAFNCBFofNTcAFPMSHeHNl5cUckIE4MAy8DAwNG0byWTBYhXkTqABF/m0AHcDmwZ4LsEEACRgAxmVKZ6+Uyx+NVasTgmUR2u2iI0KO1lKp39dHRu7woOwULIgGWCxDIZPJ9EQjQFr0vJlPi8Xr6Wo17bXb2G21kK3riBhG30ilMg0BXqmGw0VNkjSeld07LhMTuTdJYHJJVT/MFYuTLghQTUNFUdS3EolqJRyuEUq9uKaNnj0+nq9EIhtNWa7Dnm5PkAn5gT4gBbyaabdzHgULXBcVIpHqdwsLmxTjPULIMfxujJbL0fM7Owvvra/fuD0z80k+kWCCArOKnBJjmaXPqGrUsyzkQlY/53JPPEIOBEHYBrE89pHKYSq1fWtp6cut0dGvLm1tXePmk55Xvvf3999+yTA+LoliBJ+cCFang6qC4E7t7qZlx4k8ymTyx7EY+XdOvTL2UP5NafuMP86du+8gtNlnmrQVCDDPEPMstB2NGgbG4oVCYZnoutj+v5iIIwjm3fn575uK0mor9sTBlHFVlbrJocPArud57b14PG+KoooxZjXnCNlsVoZF6ESWcSMQQK+VSmfBUdxQFO3O4uItOxhsOIQmd8+b18wgDdX8+iDuUhRt+gu8NFQQZpfgsrMSEHPAE/VRKnV3I51epWDlxuTkT6YkFVzBE/YW7Q86MRq3XBsZrokfjtUuFVLqmyAiAYS/Ao/AAuenO1mWKhhd+TOX++FocHAVjF41BjzhYMF5FxRErDuG4UICDkWDZamyn2gu/Z0tvQMimF8AZhcQKMX0i+asq09tRB9Yomj8Ojf3Lbslf4XaqRLdgLS1wxXrgmGBGBwx9zR+T7LEX+A/a7z66fPM2C1MrUV+rA9ZV+9drH1eTHVetzwv4bruKKV0AjIf355ujVXtpg8ZFIVUQQOhJ/yNNnnRur3SsJSW2MzeV24+mmt98c8b9c+CWbHZr0kqcbGvJneUE7HVh3QIblKUaCg7sOcpF1N596CnnxMO6oLdf+TfbMidwWbEHNdDTrQeMsIt3AkgC/x1PSR1RW12N/mNSMkD2HPAM7N7bYiJeXzh+m1iDh8pj8OqeNzx2zETOZJLXR+LO1CX9t7aPvN10PIxn/aBGs/KO93DLN5G2Lkd1qOSJbkJrMM8pslWv9Lx13lNPQMO+bzb62O9IRxcj6DxxwrlQl3e8FQeuey3hTx8Czwb5lO91xRvX97zMjvRF2L/CTAAXkAASAqjjOQAAAAASUVORK5CYII=",
      button:
        "data:image/png;base64,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",
      iconChatSM:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3AoMDB4YZ3mPAAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABeklEQVQoz3WTvW4TURCFv2+DiFIipXbWCgqiySP4Idy6oEJyCV1eIR1FXoDCUqrU1JFQHiEikrVri9KioOAnEhwK3zU3KNxm9/6cM2fOzEi1ulW3Bxyr0yQz4AS4AxbAlbpsR+2v4b0V8FB9V0DbS7fXSYb/BfCmHbWbHbgAr4GXBZeaeIuPKklugcn4aLyxW3V76ntgNoCqSI/ugUWSVw1wXEk1yQo4B26SCNyo50lWZU+SmXrcqNNKGsDl+Gh8lmRezuftqD0DLofo5TttCkvxR9RJv+5P1XnJcd6v+1NgUsj/Ru9W3U/1aW3UkGOS32rzmAfAfVPqOOi2IkFteGh5XcK7pjg3AL4m+QD8GB4nuVc74GORnMK1sFt1J+qnQvBdvQA+D3Utaz/Ja/V5JeTFE2AJLNRZkgPgLfAF+Fbs31efAQd1nYGlAP26P0xyrf63wyqXb9VJO2o3DUDp1UmVv7VBFdFiAPIP+26qgGlp191UqVfAg6n6A0q42/cMWcqjAAAAAElFTkSuQmCC",
      iconChatNoColor:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAWFJREFUeNqMUz1LA0EU3N1gY2OQs7HwI8L9gUAqG5VYWqS1EIOQIv4OtUxjKwS8NoWI+APyG0RCzrtLaWKwVPFYZ46nRLmNtzDs2903c7v35mmrslEC0jiJOG9prRvW2kPEPjAAAqCH/XB9bSNVMgywBDy+V6v7OOwi7oA4xFzHehGoIx5i7mDuJqPY+yYrfvmjsnmUlsufk4uzcyt7eYhHcStKogfAy26MoITN69fT9iU2noHafwLMJ49kH7iTw4MiAsyHgG/4c7C+klfcACfALVBTjgEO8xuGfxWL/sxZEYE+eUbKMf5zOFcAROb7Ruq4kqPuFMBNmT8gOYDStuN6LgHmB0ac01TukSfQBKdHcghM4ZxWEYEXGIn5GU8K79E5NMC8+tJIdOIbrMy1lsZQaAqP/sX7l6WOLMdYfg7fyKdNV3d27xfCp2PEez9kEci6igYAfnUV38irznbVlwADABPWyIVOu15aAAAAAElFTkSuQmCC",
      iconExport:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAr5JREFUeNqkU0tME1EUve/Np62hUyhBIfYTFI2u3Bj5LIplw8KthhgTTDRgDCvZoMQgbghrNkSWagyEhW4kAg3GaIsKwbYKjYQmiggBOrTQMv1M5413akoCRGPiTc7kZd57555z731E13X4n+CNz9DQEPj9/v07SMzxPEmnMzpjGvA8DxzHASHkMMGrqSl4PjKyb8PldDZ3dNzuWt/YCGK8DoXCn2R5a+WgAvLR4YB4IgFpRQGKP9YZgzaTaO+9e+9Re/uty/JWjOU1TUklkzuyLEcXFxcDszMz06Hw5/DS0tIyeYuXOJRlSONw/YMxa2dNTd3I8PBoqc1m293dBYp2jFLxPAcmkwnQkpZXVW1wcPA+TygF9lsNh2c8ZoDOFrc7elSSbPLaGmj5PFBRBBAEyGYZJFMpMJtMnNls1rfi8Q2jBkZVTiKuY0e6SyilntXVlURPD6hoC5AA6uuBNDUBRRJd0woq5ue/hH0+34RBYEf0Iq7paINHrfZIxJGKRArMxZrzXi8wSkAoGGVaIBCYjMXkNYMgh3iMKEWhl1S0RE9UA2XGfCByKhCXG1ekQMajis3N2Lpv0ves2MYkYgI35yKM3XCVVzys6OszZwWxcEFTc8CsEp7EGcAOEYFCKBh6P7+wEN6bAyMsjMVenKoOdff3U3b2HCZnwHQjL6rIKAXvhgY1m1HGxl4+KU4wNSpsQe8dnFDecPNqV6VLES3ZFShhChzRksDlYiByBETRVCje9+/LX9/5/ePFxLRuexsGWlpgWtedyk5K870JRj7MzkV/RoMJgeaY1XYMJMkONkmCsrIywOxPFSWd3htlggp0nHNg+W8P+gbasOEWHElLVVXlGW+jx1tbe+G82+2schx3WDOZTHx8fGL0wJvRobW19U8PzYY4LUlSc0ND/Z2LjZ4rh079heCf4pcAAwAOSzJPzSWG8AAAAABJRU5ErkJggg==",
      iconImport:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtBJREFUeNqkU1tIFGEU/uayt2xm3UxX000RLKVeBFES0awHKYIgKn1p8cWwNYqeRCiJXnoUwhDsoQdFkehJErxgEO4WKOqaGq4KZWFednZWV2fHnVv/iAYqRdA/fPMwZ853zne+81OGYeB/Dmu+2tvb4ff7D0YIMcOyVDwuG7qugWVZMAwDiqKOEgwPDKPnbc+BwGmPp6qh4V7j6traJDnvg8GpCUGI/DjcAZXZkglRFCFJEkCTLxuA/ZXN1dTc1F5Xd/emEAnrqqZJW7HYpiAIi6FQKDA2OvoxOPV5amFhYYnCU5LEmFR7WARyPuRc7e7o7kpLSXNGY1HQpG1zUqYMm80GIklTFUVra2t7TJOqNhI9Bh3HsYMkaojKSNxIPOyN9DpXoitgdRaaqkFVFWxvbyMsCKTbOEMzLB0RxTUKz1BPyPMIUgg02kIn2eP2KxIl8WXpZajNrcW55POwUAw0Q4OmG+A5DrOzM+M+n++aOcTrBJcIrOZQdFWHxEi7ckaWRjAuTuBlUSsKUwqhKRosjKlX1wKBwGA4LPw0Cab3kk8RISobZVI5nnOLm1GkJ7tRnVONVHsqEloCFE2BtViwvh5eHRoc6tq3sYXAQQZpRSf4+94Hrcvu7+5o8gbqC+qRz+WTZAWyIoMmBBRNIzgZ/DQzOzu1T7C8ayjprEDNvewtvn02Yldg0SictKUirkpQVJlIondtUnZkqa/vXcf+BrNWxkr6VoHXTIrvTs0TNzPNJbN5MBwuyOoGqSoT65KIUQwYUn0+FJob8fv79xeJjjXGUDNTA2PO8IhbW8qAf/pLYHR08dv8WNRKJ3TO6QbPn4CT5+FyuUCqdxIb479X2eyAJY9hqF+bn7+oAywOshuOjIz0/MqK8sqSkuKi7GxPRlZmFifLstjfP/Dm0J0x4PV6/3TRnARneJ6vKi298OhiRfmtI3/9heCfzi8BBgASRjBF6Hz+5AAAAABJRU5ErkJggg==",
      iconReset2:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtFJREFUeNqsVEtME1EUvfPrtCVRoNQfJEXjgoQJxJDACuOPhdEFRRYkJqzcGAILE3ThJ2FpIolujGyMIoSFWlQGIcYVIMVgEVrAFtLaUiJ105IWOh3m550pEJBqMPEmb8578947c++59w6haRr8F/sbka2w8Kjdbj+4Hx5CJyIIYs+G1Wp1dD15/A5RjSwtjU1Ofhnxer3T0Wj0ezKZkvdLRDmd9bc7H3R2JFMpYFkT6H5viKKQSCSCaOMTbvfo3Py8b3p65psgCBs5iUiSdPT19fGVlZXc+npaF0DXAFQEk4kBi8ViSCJLkhoMLvra22856VzhOhyOUxzHlWUyGZBlKfvSeBCQTqdhHQeJcwybZBiTthKL/SBzEJlqa2vPmM0sLcuy7p3hDYGoqWp2vWk0TUFPb+/TZDIp5iAiDl+oqzstiqLhviShR0T2mEGmqbqwGKIJlpejP4eGhl8ZpFvXq6uq6hH68XKooqKsWEjHoftZL3yemISz58+Bs6ERKIo09CQRGYYGt9v9Mh6Pr+wiQnuDJN14sPmti4fikhKDpASx4UqjQaAoCnpFoFcEiBlRdL12Pd8Oc2dQ4UjkPlfONQ3yvAmF1MWEltZWwwNVUbPZxbBYloWvU55x3+ycZzvTO4lOlBbXtLVcY/S5np2Lly7DgfxCQ2TQFKOWUCKgUCtXv6tLVVVtD5HPHzh+43rzTd/E8HZRhYMBYKk1oKkMsOY81IVBZCEWWwmPjX76sKv2trAgv+Dk3ELYzI/44VBRgXTsSJHqmZoBfyAIFqsdi9AMeRiqzWaDAX6gJ7G6mshFRMiiEB36OG7TF975xZbZQKgDNdl49LBL8fv9KK1gtMpaKpkZ5N+/+L1otsRWSh2OJkSPnrmlaEQ/aLGWl6/RDHP13p27IbPVMlNTXc1h5haDodDCvrt/ZwPj0BNg2fzwKg7pn/5HufrwTxu/BBgArZRH3O1yru8AAAAASUVORK5CYII=",
      buttonSleep:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAZCAYAAABzVH1EAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFRkU1NkIxNzg1N0VFMjExQTJEQUMwQTIxNTUxREQyOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3RTMwNEJCRTdFOEMxMUUyQjBDRURFM0I5NkY5QkY5NiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3RTMwNEJCRDdFOEMxMUUyQjBDRURFM0I5NkY5QkY5NiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkY0RTU2QjE3ODU3RUUyMTFBMkRBQzBBMjE1NTFERDI5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVGRTU2QjE3ODU3RUUyMTFBMkRBQzBBMjE1NTFERDI5Ii8+IDwvcmRmOkRlc2NyaXB0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",
      buttonBank:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAZCAIAAAD8NuoTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFRkU1NkIxNzg1N0VFMjExQTJEQUMwQTIxNTUxREQyOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNEZCQUJBMDg5QkUxMUUyODZDMkNGRjA0OThCNDIwNiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNEZCQUI5Rjg5QkUxMUUyODZDMkNGRjA0OThCNDIwNiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjBGMDUxMUFGQkQ4OUUyMTE5MTMyRjkyRDBERDlFNjRDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVGRTU2QjE3ODU3RUUyMTFBMkRBQzBBMjE1NTFERDI5Ii8+IDwvcmRmOkRlc2NyaXB0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",
      iconAlarm:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5Q0JGRTU5MDhBOEFFMjExQkM0RkRGRTM4QUMzODJBMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDMjVGQjlCMDhBOEExMUUyODFBMTg4RUE2RTEwNTY4QiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDMjVGQjlBRjhBOEExMUUyODFBMTg4RUE2RTEwNTY4QiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjlEQkZFNTkwOEE4QUUyMTFCQzRGREZFMzhBQzM4MkEwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjlDQkZFNTkwOEE4QUUyMTFCQzRGREZFMzhBQzM4MkEwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bLqFjQAAA3tJREFUeNqsVVlIm0EQ3kRr1UgVTY23tR5oQKFFBKGKBwoKSl+qb0JREEQJ0vqgqFh8yYOFgDRajQ+tF6KgjXhGqxRCFashFCvxQoxgDPFITRRzTWd/+H+iEfriwPLvZme+neObCQ8AyEMKnzyweN/9YWhoqGJpaSk7KirKWF5e/iU5OVnnfq9Wq1+OjIxU2Gw2QWlp6WRxcbHyFgANmV39/f3SlJQUiIuLg/DwcOjs7FSwd5eXl8RkMpH29vYfERERkJCQAOnp6TA7O1vnjsFjc7i1tfW8trZ2b39/n+Tk5OgrKyvfnZ6eRi0sLBQg0AtUcQqFwl9FRUVKLy8vS1dXl3x1dTUkKyvLOjAwIPLx8bHe8hANX8XGxgICaYxGo7ijo0MRFhYGYrEYJBKJq6amxpWUlASYCujp6fmAD+cVFBQYMjIy4Pr6OoTF4QBdLpdfU1PT8tra2puGhobFgIAAmJ6ehpubG1hfXwetVgsWiwW6u7sBvQGFQvENPZQ0Nzer0J7nAcguzNsEhgQajQZYqa+vh8bGRu48NTUFAoEAlErlR2pjNpvJvYB2u12YmpoKUqmUMRweHobx8XEOyGAwwMXFBbPPz8+HkpISx8nJCf/8/NwTcHd3lwwODlZFR0fDwcEBIC0AQwJ61ul0cHV1xVSfeudwOGBsbAwSExNhY2Mj290pjtiYWIJVfRoaGkrQgFaaiEQisrOzQ5BvJD4+nszNzZGYmBhSVlZGsDjE29ubhht8dnbmSWyqEBkZacKwCJ/PJzMzM8TX15dgAcj8/DxNBwNKv729vZTgjB6uc+rMvcRGujyj1Ghra4P/CfIRCgsLAdnxxB3DnTbMt6+v709gYCCsrKxwxq2trdDS0sKdVSoV+Pv7w/Ly8ve7LOE2TqeT3T9G4ytqMDo6yvBwcXGRAaGFwQdZHpqprrszt1qPFazwI71e/xYHhEwul/vRIiBFmKLRXFKKYANYc3Nz32NP9wUHB9vvHQ57e3uMMoanplQ5PDx8jUuB57/Yjq7q6mqXTCa7QJ1Pm5ubdTQt+OBXaosU43C4KqMxsVqtBDtAhfyKRgL/RpJPYGWrsI+ZiiMQCQoKItvb23lpaWl6nEw/maHK53vSho4nmkfs4UkEwkdt+uPjY4YmOGUItiPjydHREfVEm5mZ+RnTsURt6R0rvIf+C/gnwABBPec5UzOlgQAAAABJRU5ErkJggg==",
      notiBell:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpDMjhFNDI0QzYyOURFMjExOEQwMUUwQkVBMzJBREI2MiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4N0EzMEJDMDlENjIxMUUyODhFNUM1MTdFQzA2NTAwQiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4N0EzMEJCRjlENjIxMUUyODhFNUM1MTdFQzA2NTAwQiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMzOEU0MjRDNjI5REUyMTE4RDAxRTBCRUEzMkFEQjYyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMyOEU0MjRDNjI5REUyMTE4RDAxRTBCRUEzMkFEQjYyIi8+IDwvcmRmOkRlc2NyaXB0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",
      pinMini:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtpJREFUeNqsU0trE1EYPTOT9+TRpE1qYmlibAQ1BcGCVKStC0EQQdzoTvoDLIhLdwrdKC5c6Mqdr7pRqNCFILgQRVSsQhdqK5WURpvapOk0mcxMxnNtYlGpqdALh+/O/e537vkeI9m2ja1aMrZwOZqbcUlCQHHtjybjo/Ln2b4VG/m3wOgccHsn/QHiGHGBuNyKzBHfnu0+M/zKejoGQwG6yojU87j1DZin/Cf1/0mzs3/wulubgTb9EXYUKMWAoAfoAe5S1fkasEPaLJky8bB/dfwOnIyGRTQiDSDmBK4QM0zjXGkzZFpl1VBXAZsSbJOqFoHlKlCgL0/wGJ+Aq32qesIfi/2b7DlwM88CRRgRmSZJDpjkORWBx5glJoh+07xxMpmU5ERi4wa4gREG750q4jDrj3JDTfM1sRdNKOr6tmgud9DV1vbMW6mgWq2iQvubskFm1wvcT3HvaYxCGyFGWl977KdKQbii6/uMQsHn9Xp9mUxGymazcDqd68p610yVpUKGeEd8EIENYvGA3t4ONRisv5+bUyxFObIELFiWNZtOpwsDAwP6L2VHibPAAz+tEL2b2EN0cZhjRM3hwIGhIczE469f1GoLzG8X3QLZXC6X0jQtIDX/TUlam4VrwCmS3psSMkWNZBnz9CU9HiQDgfLxfP7SpLhr2xJTW1FVtRQOh78Gg8Gc48+OjABjIrVh4KKLL+v1OtKSVPuiaS9Pa9qjSVFG247wylKdPsMwJNM03bIsh/5S1lzdgOsQs2dnM5wz8zGDeRxt9EVjcFVRlIrP5yuHQqFiR0fH4oZk65Mod9LZRzU9vCzznkUim6gxTY1paiRbjkQiRUern9epKIscgTe6rheopJPwkUgmkelyuYQyze/3l4VtScZ6mFQzn0gkvnNAw/xsZ7Dq8Xhkklkk0amuKhS2JBNlKJVKoDo9lUrlaQucLQ8L7yaZ4na7bRLVaY0fAgwAsOEOz+nRA24AAAAASUVORK5CYII=",
      pinItems:
        "data:image/png;base64,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",
      duelMotBar:
        "data:image/png;base64,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",
    };
    TWDB.Util = (function (e) {
      var t = {};
      var n = function (t, n) {
        var r = "twdb_css";
        if (typeof n !== "undefined" && typeof n === "string") {
          r += "_" + n.replace(/\W+/g, "");
        }
        if (e("head style#" + r).append("\n" + t).length === 1) {
          return;
        } else {
          e("head").append(e('<style type="text/css" id="' + r + '">').text(t));
        }
      };
      t.addCss = function (e, t) {
        return n(e, t);
      };
      var s = function () {
        var e = [],
          t,
          n,
          r = "twdb_" + Character.playerId + "_",
          i;
        if (localStorage.getItem(r + "embackup") === true) {
          return;
        }
        for (i = 0; i < localStorage.length; i++) {
          t = localStorage.key(i);
          if (
            t.search(r) === 0 &&
            t.search(/(marketreminder|notes|settings|statistic)$/i) !== -1
          ) {
            e.push({
              key: t,
              newkey: "backup_" + t,
              val: localStorage.getItem(t),
            });
          }
        }
        for (i = 0; i < e.length; i++) {
          localStorage.setItem(e[i].newkey, e[i].val);
          console.log("key " + e[i].key.substr(r.length) + " saved.");
        }
        localStorage.setItem(r + "embackup", true);
      };
      t.backupData = function () {
        return s();
      };
      return t;
    })(jQuery);
    TWDB.ClothCalc = {
      uid: "twdb_clothcalc",
      calcdata: {
        skills: {},
        items: {},
        jobs: {},
        custom: {},
        animals: [],
        used: {},
        loaded: false,
      },
      ready: false,
      loaded: false,
      up2date: true,
      gui: { job: {}, custom: {} },
      bidsLoading: false,
      bids: {},
      getBids: function () {
        if (this.bidsLoading) return;
        this.bidsLoading = true;
        var e = this;
        Ajax.remoteCall("building_market", "fetch_bids", {}, function (t) {
          if (t.error)
            return new UserMessage(t.msg, UserMessage.TYPE_ERROR).show();
          var n = t.msg.search_result;
          for (var r = 0; r < n.length; r++) {
            e.bids[n[r].item_id] = 1;
          }
          e.bidsLoading = false;
        });
      },
      recLoading: false,
      recipes: {},
      getLearned: function () {
        if (this.recLoading) return;
        this.recLoading = true;
        var e = this;
        Ajax.remoteCall("crafting", "", {}, function (t) {
          var n = t.recipes_content;
          if (n) for (var r = 0; r < n.length; r++) e.recipes[n[r].item_id] = 1;
          e.recLoading = false;
        });
      },
      init: function () {
        if (this.ready) {
          return;
        }
        var e = this;
        this.getBids();
        this.getLearned();
        TWDB.Eventer.set("TWDBdataLoaded", function () {
          e.handleTWDBData();
        });
        this.gui.copyright = jQuery(
          '<div style="position:absolute;bottom:0px;left:0px;height:15px;display:block;font-size:10px;color:#000000;">.:powered by TW-DB Team:. | <a href="https://tw-db.info" style="font-weight:normal;color:#000000;" target="_blank">.:TW-DB.info:.</a> | ' +
          "0." +
          TWDB.script.version +
          " | BB</div>"
        );
        this.gui.cache = jQuery(
          '<div style="position:absolute;top:10px;right:8px;width:20px;height:20px;cursor:pointer;" />'
        );
        if (!TWDB.Updater.wasUpdated()) {
          var t = TWDB.Cache.load("calcdata");
          if (typeof t === "object" && t !== null && isDefined(t.loaded)) {
            this.calcdata = t;
          }
        }
      },
      getLPForJob: function (e) {
        if (
          !isDefined(this.calcdata.jobs[e]) ||
          !isDefined(this.calcdata.jobs[e].laborpoints)
        ) {
          return null;
        }
        return this.calcdata.jobs[e].laborpoints;
      },
      isLoaded: function () {
        if (isDefined(this.calcdata.loaded)) {
          return this.calcdata.loaded;
        }
        return false;
      },
    };
    (function ($) {
      var _base = TWDB;
      var w = window;
      var Images = _base.images;
      var Script = _base.script;
      var ClothCalc = _base.ClothCalc;
      var Debugger = (function (e) {
        var t = {};
        return t;
      })($);
      _base.Debugger = Debugger;
      var Error = (function (e) {
        var t = {};
        var n = "twdb_error";
        var r = [];
        var i = true;
        t.report = function (e, t) {
          if (!isDefined(e.message)) {
            r.push({ msg: "failed to add error", e: t });
          } else {
            r.push({
              msg:
                t +
                " " +
                ((e.stack && (e.stack.match(/:\d+:\d+/) || [])[0]) || ""),
              e: e.message,
            });
          }
          if (i) {
            i = false;
            WestUi.NotiBar.add(
              new OnGoingPermanentEntry(
                function () {
                  s();
                },
                "TW-DB.info: Παρουσιάστηκε σφάλμα",
                "tip"
              )
            );
          }
        };
        var s = function () {
          var t = new west.gui.Scrollpane();
          e(t.getMainDiv()).css("height", "370px");
          e(t.getMainDiv())
            .find(".tw2gui_scrollpane_clipper_contentpane")
            .addClass("selectable");
          var i = '<table border="1" cellpadding="3" cellspacing="1">';
          for (var s = r.length - 1; s >= 0; s--) {
            i +=
              "<tr><td>" +
              s +
              "</td><td>" +
              r[s].msg +
              "</td><td>" +
              r[s].e +
              "</td></tr>";
          }
          i += "</table>";
          t.appendContent(i);
          var o = wman
            .open(n, null, "noreload")
            .setMiniTitle("TWDB Errorlog")
            .setTitle("TW-DB.info - Errorlog")
            .appendToContentPane(t.getMainDiv());
        };
        return t;
      })($);
      _base.Error = Error;
      Debugger.Error = Error;
      var Loader = (function (e) {
        var t = {};
        var n = [];
        var r = {};
        var i = {};
        var s;
        var o = false;
        var u = false;
        var a = false;
        var f = 0;
        t.add = function (e, t, r, i) {
          var s = { ready: false };
          n.push({ key: e, txt: t, call: r, dep: i || {}, ready: s, count: 0 });
          return s;
        };
        t.init = function () {
          if (s) {
            return;
          }
          s = w.setInterval(function () {
            l();
          }, 500);
        };
        var l = function () {
          if (u) {
            return;
          }
          u = true;
          if (o === false) {
            if (!c()) {
              u = false;
              return;
            }
            TWDB.Cache.init();
            r.Cache = true;
            try {
              Updater.query();
              h();
            } catch (e) {
              Error.report(e, "");
              new UserMessage(
                "Η εγγραφή του UserScript TW-DB.info στο TheWestApi απέτυχε.",
                UserMessage.TYPE_FATAL
              ).show();
              return d();
            }
            return p();
          }
          if (isDefined(i[o.key])) {
            return p();
          }
          if (o.ready.ready) {
            r[o.key] = true;
            a = false;
            return p();
          }
          u = false;
        };
        var c = function () {
          if (
            !isDefined(w.jQuery) ||
            !isDefined(w.TheWestApi) ||
            !isDefined(w.TheWestApi.version) ||
            w.ItemManager.get(2e3) === undefined ||
            !isDefined(w.Character) ||
            w.Character.playerId === 0 ||
            !w.Bag.loaded
          ) {
            return false;
          } else {
            return true;
          }
        };
        var h = function () {
          var t = w.TheWestApi.register(
            "twdb_clothcalc",
            "TW-DB.info - Cloth Calc",
            "2.04",
            String(Script.game_version),
            "scoobydoo, Dun, Petee, Bluep, Tom Robert, xShteff [tw-db.info] - BB",
            "https://tw-db.info"
          );
          var n =
            '<br><br><form action="https://www.paypal.com/cgi-bin/webscr" method="post">' +
            '<input name="cmd" value="_s-xclick" type="hidden">' +
            '<input name="encrypted" value="-----BEGIN PKCS7-----MIIHNwYJKoZIhvcNAQcEoIIHKDCCByQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYChINvT18jAz9CalhBmJdmLCwpXoNRJP+VkXk8FX8ggf0svoPqtoBds+0Jtzdvj9jQ0Sf6erVBUCcRpMpkb+Tf3GCQVHTglnw8JrK6ZzzRhjsZZCJn7tgFwu2LimWCyFnNbeGNt3JeAUyoPqqNlc8tD5abn15g/a8T7+lmSJMLZOjELMAkGBSsOAwIaBQAwgbQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIKDoxC57piTyAgZCs1uffooeE6z5oFOY8gF33GntGddTvCLpVnR2oEfR3HaNWR2/DSZsxTSBxOQ9h43E+9A9WN1QJDj+4qyu/20IbTBVkFCl/eoGTV44O///OowbrCRqIUbDKtBBj6rrv876AFW0aV8/iRoreP66eCBd3FG7K6Pue0rBR7khec7TFMM0kd++ZT0QTSvuQ4IvsbOWgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMTAxMTkyMDQ1NDVaMCMGCSqGSIb3DQEJBDEWBBSftIcjkFDuoOkdAfklhyX0/yFgtzANBgkqhkiG9w0BAQEFAASBgF9SGe3NSMpJbcwAlWM9fDzOYOQovnXP1jCT9eR7ZCsZ4UdlS5u5/ubq4KvSd2s/Iz7H8I69CL5vY6n50Qk57lZv2m+DSmY/p+xjcPG0JBuRaT0uGNOeiPdXwC+HiDPP6EhJXXEZv5fqXPmOUJPdovWYgyu/LgVCRAZw1qp3995m-----END PKCS7-----" type="hidden">' +
            '<input type="image" src="https://www.paypalobjects.com/en_US/DE/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - Ο ασφαλέστερος και ευκολότερος τρόπος για να πληρώνετε online!">' +
            '<img width="1" border="0" height="1" src="https://www.paypal.com/en_GB/i/scr/pixel.gif" alt=""></form><br>';
          var r = e(
            "<div style='font-family:comic sans ms; font-size:13pt; padding-top:10px; text-align:center;' />"
          ).append(
            "Το UserScript ClothCalc είναι ένα έργο που δημιουργήθηκε από την ομάδα TW-DB.info. Προσφέρει πολλές δυνατότητες και επεκτάσεις που θα σας δώσει μια βελτιωμένη εμπειρία παιχνιδιού - εξοικονόμηση του χρόνου σας και τη βελτιστοποίηση σε ορισμένες από τις δραστηριότητες σας.",
            n,
            "Ευχαριστούμε!"
          );
          t.setGui(r);
          if (t.isOutdated()) {
            w.TheWestApi.displayOutdated();
          }
        };
        var p = function () {
          if (n.length === 0) {
            return d();
          }
          o = n.shift();
          o.count++;
          if (o.count > f) {
            if (a) {
              Error.report(
                { message: "deadlock detected" },
                "failed to load module: " + o.key
              );
              i[o.key] = true;
              return p();
            }
            f++;
            a = true;
          }
          for (var e in o.dep) {
            if (!isDefined(r[e])) {
              if (TWDB.script.isDev()) {
                console.log(o.key, "needs ", e);
              }
              n.push(o);
              return p();
            }
          }
          try {
            o.call();
          } catch (t) {
            Error.report(t, "failed to load module: " + o.key);
            i[o.key] = true;
            return p();
          }
          u = false;
          l();
        };
        var d = function () {
          w.clearInterval(s);
          w.setTimeout(function () {
            delete t;
          }, 1e3);
        };
        t.stack = n;
        t.loaded = r;
        t.failed = i;
        t.current = o;
        return t;
      })($);
      Debugger.Loader = Loader;
      var Cache = (function (e) {
        var t = {};
        var n = {};
        var r = "";
        var i = {};
        var s = function (e) {
          if (!i[e]) {
            i[e] = true;
            t.save("keys", i);
          }
        };
        var o = function () {
          if (n.ready) {
            return;
          }
          r = "twdb_" + Character.playerId + "_";
          i = t.load("keys");
          if (!i) {
            i = { keys: true };
          }
          n.ready = true;
        };
        t.load = function (e) {
          s(e);
          try {
            return JSON.parse(decodeURIComponent(localStorage.getItem(r + e)));
          } catch (n) {
            Error.report(n, "load " + e + " from cache");
            t.save(e, null);
            return null;
          }
        };
        t.save = function (e, n) {
          s(e);
          try {
            localStorage.setItem(r + e, encodeURIComponent(JSON.stringify(n)));
            return true;
          } catch (i) {
            Error.report(i, "save " + e + " to cache");
            t.save(e, null);
            return false;
          }
        };
        t.reset = function (n, s) {
          try {
            if (n) {
              if (isDefined(s)) {
                localStorage.removeItem(s);
              } else {
                for (var o in i) {
                  localStorage.removeItem(r + o);
                }
              }
              new UserMessage(
                "Η επαναφορά ολοκληρώθηκε, η σελίδα θα φορτωθεί ξανά",
                UserMessage.TYPE_SUCCESS
              ).show();
              location.href = location.href.replace(location.hash || "#", "");
            } else {
              var u = e(
                "<div><h2>Θέλετε σίγουρα να επαναφέρετε ολόκληρο το Cache του tw-db UserScript;</h2></div>"
              );
              var a = new west.gui.Textfield("twdb_cache_key")
                .setSize(40)
                .setLabel("Key:");
              u.append(a.getMainDiv());
              var f = new west.gui.Checkbox("all Keys").setSelected(true);
              f.setCallback(function (e) {
                if (e) {
                  a.setValue("");
                }
              });
              e(a.getMainDiv()).find("span").css("font-size", "12px");
              e(a.getMainDiv())
                .find("input")
                .keyup(function () {
                  f.setSelected(false);
                });
              u.append(
                e('<div style="display:block;" />').append(f.getMainDiv())
              );
              new west.gui.Dialog(
                "Επαναφορά Cache tw-db",
                u,
                west.gui.Dialog.SYS_QUESTION
              )
                .addButton("ΟΚ", function () {
                  if (f.isSelected()) {
                    t.reset(true);
                  } else {
                    t.reset(true, a.getValue());
                  }
                })
                .addButton("Ακύρωση")
                .show();
            }
          } catch (l) {
            Error.report(l, "cache reset");
          }
        };
        t.init = o;
        return t;
      })($);
      _base.Cache = Cache;
      Debugger.Cache = Cache;
      var Worker = (function (e) {
        var t = {};
        var n = [];
        var r = false;
        var i = false;
        t.add = function (e) {
          n.push(e);
          if (r) {
            return;
          }
          r = w.setInterval(function () {
            s();
          }, 100);
        };
        var s = function () {
          if (i) {
            return;
          }
          i = true;
          var e = n.shift();
          try {
            e();
          } catch (t) {
            Error.report(t, "Worker");
          }
          if (n.length == 0) {
            w.clearInterval(r);
            r = false;
          }
          i = false;
        };
        return t;
      })($);
      Debugger.Worker = Worker;
      var Jobs = (function (e) {
        var t = {};
        var n = {};
        var r = [];
        var i = {};
        var s = {};
        var o = [1828e3, 1829e3, 183e4, 2e6, 2003e3, 2006e3, 2009e3];
        var u;
        var a = {};
        var f = function () {
          if (n.ready) {
            return;
          }
          var t = 0;
          var f = 0;
          var c = {};
          while (true) {
            t++;
            var h = w.JobList.getJobById(t);
            if (!h) {
              f++;
              if (f > 5) {
                break;
              }
              continue;
            }
            f = 0;
            r.push(h.id);
            i[h.name.toLowerCase()] = h.id;
            s[h.shortname.toLowerCase()] = h.id;
            for (var p in h.yields) {
              if (isNaN(p) || c[p]) {
                continue;
              }
              c[p] = true;
              o.push(Number(p));
            }
          }
          u = (function (e) {
            var t = {
              description: "",
              duration: 1800,
              energy: 6,
              groupid: null,
              id: 255,
              malus: 0,
              name: "Κατασκευή",
              randomyields: [],
              shortname: "construction",
              skills: { build: 3, repair: 1, leadership: 1 },
              yields: {},
              calcJobPoints: function () {
                return 0;
              },
              canDo: function () {
                return true;
              },
            };
            return t;
          })(e);
          r.push(255);
          i[u.name.toLowerCase()] = 255;
          s[u.shortname.toLowerCase()] = 255;
          var d = function (e, t) {
            var n = e === 255 ? u : w.JobList.getJobById(e);
            var r = t === 255 ? u : w.JobList.getJobById(t);
            return n.name > r.name;
          };
          r.sort(d);
          o.sort();
          a = Cache.load("jobdata");
          if (a === null || typeof a !== "object") {
            a = {};
          }
          Eventer.set("TWDBdataLoaded", function () {
            l();
          });
          n.ready = true;
        };
        n = Loader.add("Jobs", "tw-db Jobsystem", f, { Cache: true });
        var l = function () {
          a = {};
          Cache.save("jobdata", a);
        };
        t.getJobByName = function (n) {
          n = e.trim(n).toLowerCase();
          if (!isDefined(i[n])) {
            return null;
          }
          return t.getJobById(i[n]);
        };
        t.getJobByShortname = function (n) {
          n = e.trim(n).toLowerCase();
          if (!isDefined(s[n])) {
            return null;
          }
          return t.getJobById(s[n]);
        };
        t.getJobById = function (t) {
          var n;
          if (t === 255) {
            n = u;
          } else {
            n = w.JobList.getJobById(t);
            if (!n) {
              return n;
            }
          }
          var r = e.extend(true, {}, n);
          var i = 1;
          if (w.Character.charClass == "adventurer") {
            if (w.Premium.hasBonus("character")) {
              i *= 1.2;
            } else {
              i *= 1.1;
            }
          }
          if (w.Premium.hasBonus("money")) {
            i *= 1.5;
          }
          for (var s = 0; s < r.randomyields.length; s++) {
            r.randomyields[s] = (r.randomyields[s] * i).round(2);
          }
          if (typeof r.yields.length == "undefined") {
            for (var o in r.yields) {
              r.yields[o].prop = (r.yields[o].prop * i).round(2);
            }
          }
          return r;
        };
        t.openJob = function (e, t, n) {
          w.JobWindow.open(e, t, n);
        };
        t.startJob = function (e, t, n, r) {
          w.JobWindow.startJob(e, t, n, Number(r) || 3600);
        };
        t.getAllJobs = function () {
          return r;
        };
        t.isProduct = function (t) {
          return e.inArray(Number(t), o);
        };
        t.getPopup = function (e, n) {
          var r = '<div style="min-width:60px;text-align:center" >';
          var i = t.getJobById(e);
          if (isDefined(i)) {
            r +=
              '<span style="font-weight:bold;display:block;">' +
              i.name +
              "</span>" +
              '<div class="job" style="position:relative;left:50%;margin:10px -25px;">' +
              "<div " +
              (!isDefined(n) ? "" : 'class="featured ' + n + '"') +
              "></div>" +
              '<img src="' +
              Game.cdnURL +
              "/images/jobs/" +
              i.shortname +
              '.png" class="job_icon" >' +
              "</div>";
          }
          return (r += "</div>");
        };
        return t;
      })($);
      _base.Jobs = Jobs;
      Debugger.Jobs = Jobs;
      var Window = (function (e) {
        var t = {};
        var n = "twdb_window";
        var r = null;
        var i = null;
        var s = {};
        var o = {};
        var u = function () {
          if (o.ready) {
            return;
          }
          var t = e('<div title="TW-DB.info | BB" class="menulink" />')
            .css("background-image", "url(" + Images.button + ")")
            .on("mouseenter", function () {
              e(this).css("background-position", "-25px 0px");
            })
            .on("mouseleave", function () {
              e(this).css("background-position", "0px 0px");
            })
            .click(function () {
              a();
            });
          e("#ui_menubar").append(
            e(
              '<div class="ui_menucontainer" id="TWDB_ClothCalc_menubuttons" />'
            )
              .append(t)
              .append('<div class="menucontainer_bottom" />')
          );
          ready = true;
          o.ready = true;
        };
        o = Loader.add("Window", "tw-db Scriptwindow", u);
        t.open = function (e) {
          a(e);
        };
        var a = function (t) {
          r = wman
            .open(n, null)
            .setMiniTitle("TW-DB.info")
            .setTitle("TW-DB.info");
          r.appendToContentPane(
            e(
              '<div style="width:100%;text-align:center;position:absolute;bottom:0px;left:0px;height:15px;display:block;font-size:12px;color:#000000;">.:powered by TW-DB Team:. | <a href="https://tw-db.info" style="font-weight:normal;color:#000000;" target="_blank">.:TW-DB.info:.</a> | ' +
              "0." +
              Script.version +
              " | BB</div>"
            )
          );
          var o;
          for (var u in s) {
            if (!isDefined(o)) {
              o = u;
            }
            if (t == u) {
              o = u;
            }
            r.addTab(s[u].name, u, function (e, t) {
              f(t);
            });
            s[u].gui.children().remove();
            r.appendToContentPane(s[u].gui);
          }
          if (isDefined(o)) {
            i = s[o].gui;
            f(o);
          }
        };
        var f = function (e) {
          i.hide();
          r.showLoader();
          r.activateTab(e);
          if (!isDefined(s[e])) {
            return;
          }
          if (s[e].title !== "") {
            r.setTitle("TW-DB.info - " + s[e].title);
          } else {
            r.setTitle("");
          }
          i = s[e].gui;
          i.show();
          w.setTimeout(s[e].callback, 10);
        };
        t.addTab = function (t, n, r, i) {
          s[t] = { title: r, name: n, callback: i, gui: null };
          s[t].gui = e('<div style="margin-top:10px;"/>').hide();
          return s[t].gui;
        };
        t.hideLoader = function () {
          r.hideLoader();
        };
        return t;
      })($);
      Debugger.Window = Window;
      var Timer = (function (e) {
        var t = {};
        var n = 0;
        var r = 0;
        var i = 0;
        t.getTimeout = function () {
          var e = new Date().getTime();
          if (e - n < 2e3) {
            r++;
          } else {
            r = 0;
          }
          if (e - n < 6e4) {
            i++;
          } else {
            i = 0;
          }
          n = e;
          var t = 0;
          if (i > 50) {
            t = 6e4;
          }
          if (r < 20) {
            return t + 200;
          }
          return t + 2e3;
        };
        return t;
      })($);
      Debugger.Timer = Timer;
      var Eventer = (function (e) {
        var t = {};
        var n = {};
        t.set = function (e, t, r) {
          if (!isDefined(n[e])) {
            n[e] = {};
          }
          if (!isDefined(r)) {
            var r = false;
          }
          var i = Number(new Date().getTime());
          while (n[e][i]) i++;
          n[e][i] = { id: i, call: t, count: r };
          return i;
        };
        t.trigger = function (e) {
          if (!isDefined(n[e])) {
            return;
          }
          var t = 0;
          for (var r in n[e]) {
            if (!isDefined(n[e][r].id)) {
              continue;
            }
            w.setTimeout(n[e][r].call, 10);
            if (n[e][r].count == false) {
              t++;
              continue;
            }
            n[e][r].count--;
            if (n[e][r].count > 0) {
              t++;
              continue;
            }
          }
          if (t == 0) {
            delete n[e];
          }
        };
        t.remove = function (e, t) {
          if (!isDefined(n[e]) || !isDefined(n[e][t])) {
            return false;
          }
          delete n[e][t];
        };
        return t;
      })($);
      _base.Eventer = Eventer;
      Debugger.Eventer = Eventer;
      var Settings = (function (e) {
        var t = {};
        var n = {};
        var r = null;
        var i = {};
        var s = function () {
          if (i.ready) {
            return;
          }
          var e = Cache.load("settings");
          if (typeof e === "object" && e !== null) {
            n = e;
          } else {
            n = {};
          }
          TWDB.Util.addCss(
            "span.twdb_sett_capt { font-size: 115%; font-weight: bold; font-style: italic; display: inline-block; margin-top: 8px; text-shadow: 2px 1px 2px #643; }"
          );
          r = Window.addTab("settings", "Ρυθμίσεις", "Ρυθμίσεις", o);
          i.ready = true;
        };
        i = Loader.add("Settings", "tw-db Settingssystem", s, {
          Cache: true,
          Window: true,
        });
        var o = function () {
          r.children().remove();
          var i = new west.gui.Scrollpane();
          e(i.getMainDiv()).css("height", "300px");
          r.append(i.getMainDiv());
          var s = [
            [9, "", "Αποθέματα", false],
            [
              0,
              "collector",
              "Σημείωση αντικειμένων στον Έμπορο και την Αγορά που δεν έχετε ακόμα στα αποθέματά σας",
              false,
            ],
            [
              0,
              "pinitems",
              "Καρφίτσωμα αντικειμένων στο παράθυρο των Αποθεμάτων",
              false,
            ],
            [9, "", "Αποστολές", false],
            [0, "questcancle", "Επιβεβαίωση ακύρωσης αποστολής", false],
            [9, "", "Αγορά", false],
            [0, "marketmap", "Προσθήκη παραθύρου Χάρτη Αγοράς", false],
            [
              0,
              "marketreminder",
              "Προσθήκη μιας υπενθύμισης για τις δημοπρασίες της Αγοράς",
              false,
            ],
            [
              0,
              "marketselldialog",
              "Βελτίωση του παραθύρου πωλήσεων στην Αγορά",
              false,
            ],
            [9, "", "Δουλειές", false],
            [
              0,
              "jobwin_showlp",
              "Προσθήκη των Πόντων εργασίας στα παράθυρα δουλειών",
              false,
            ],
            [9, "", "Λίστα εργασιών", false],
            [
              0,
              "tasklistpoints",
              "Προσθήκη ένδειξης Πόντων εργασίας και συμβουλές πόντων ζωής στην Λίστα εργασιών&nbsp;-&nbsp;[Κάτω δεξιά]",
              false,
            ],
            [9, "", "Γραφικά", false],
            [
              0,
              "duelmotivation",
              "Προσθήκη ενός μόνιμου δείκτη για το Κίνητρο Μονομαχίας&nbsp;-&nbsp;[Κάτω από τον δείκτη Ενέργειας]",
              false,
            ],
            [
              0,
              "directsleep",
              "Προσθήκη ενός κουμπιού για την απευθείας μετάβαση στο Ξενοδοχείο ή στους Στρατώνες",
              false,
            ],
            [
              0,
              "deposit",
              "Προσθήκη ενός κουμπιού για την Κατάθεση χρημάτων στην Τράπεζα που βρίσκεσαι",
              false,
            ],
            [
              0,
              "noshopsale",
              "Απενεργοποίηση της ειδοποίησης για ΠΩΛΗΣΗ&nbsp;-&nbsp;[Κάτω από το κουμπί Σαλούν]",
              false,
            ],
            [
              0,
              "expbarvalues",
              "Προσθήκη τιμών στην Μπάρα Εμπειρίας - Εύσημα και ευχαριστίες σε (Leones/Slygoxx/Belle Bernice)",
              false,
            ],
            [
              0,
              "mini_chatgui",
              "Προσθήκη ενός κουμπιού για την σμίκρυνση των Δωματίων chat",
              false,
            ],
            [
              0,
              "customcounterpos",
              "Μετακίνηση μετρητή εκδηλώσεων σε μεγάλες οθόνες (Νόμισμα Εκδήλωσης, Hiro&#38;#39;s script)",
              false,
            ],
            [
              0,
              "noscrollbars",
              "Απενεργοποίηση των γραμμών κύλισης σε μικρές οθόνες ή όταν μετακινείτε τα παράθυρα πολύ μακριά",
              false,
            ],
            [9, "", "Μικρός χάρτης", false],
            [
              0,
              "showbonusjobs",
              "Προσθήκη επιλογής εμφάνισης δουλειών με μπόνους",
              false,
            ],
            [
              0,
              "showscrollto",
              "Προσθήκη επιλογής για μετακίνηση σε καθορισμένες συντεταγμένες",
              false,
            ],
            [9, "", "Οχυρό", false],
            [
              0,
              "fortrecruitment",
              "Προσθήκη της επισκόπησης Στατολόγησης οχυρού",
              false,
            ],
            [
              0,
              "enhancedfortrecruitment",
              "Προσθήκη επιλογής εμφάνισης παικτών κοντά στο οχυρό",
              false,
            ],
            [9, "", "Διάφορα", false],
            [
              0,
              "chat",
              "Ενεργοποίηση της βελτίωσης συνομοιλίας - [Χρώματα στο chat]",
              false,
            ],
            [
              0,
              "notes",
              "Προσθήκη των Σημειώσεων στο παράθυρο Τηλεγραφείου/Αναφορών",
              false,
            ],
            [
              0,
              "autodeposit",
              "Προσθήκη ειδοποίησης για κατάθεση, εάν φτάσετε στην πόλη σας με χρήματα",
              false,
            ],
            [
              0,
              "chestanalyser",
              "Προσθήκη του Αναλητή Θηκών στο παράθυρο Τηλεγραφείου/Αναφορών",
              false,
            ],
            [
              0,
              "weeklycrafting",
              "Προσθήκη ειδοποίησης για την λήξη περιόδου αναμονής των δημιουργειών",
              false,
            ],
            [
              0,
              "telegramsource",
              "Προσθήκη ενός κουμπιού για να αλλαγή σε μη μορφοποιημένο κείμενο στα τηλεγραφήματα",
              false,
            ],
            [9, "", "Premium ρυθμίσεις", false],
            [
              0,
              "noworkqueuepa",
              "Ανενεργοποίηση ειδοποιήσεων για την αγορά Premium Αυτοματισμού",
              false,
            ],
            [
              0,
              "nofetchallpa",
              "Απενεργοποίηση Premium προτροπής όταν λαμβάνεις αντικείμενα από την αγορά",
              false,
            ],
            [
              0,
              "nowofnuggets",
              "Απενεργοποίηση Σβόλων ως προεπιλεγμένο μέσο πληρωμών σε εκδηλώσεις (όταν είναι διαθέσιμο)",
              false,
            ],
          ];
          var o = {};
          var a = e("<table />");
          var f = {};
          for (var l = 0; l < s.length; l++) {
            var c = s[l][1];
            o[c] = t.get(c);
            var h = e("<tr />");
            if (s[l][0] === 9) {
              h.append(
                e('<td colspan="2" />').append(
                  e('<span class="twdb_sett_capt" />').text(
                    (s[l][2] + "").twdb_twiceHTMLUnescape()
                  )
                )
              );
              a.append(h);
              continue;
            }
            if (s[l][0] === 8) {
              h.addClass("placeholder_" + s[l][1]);
              a.append(h);
              continue;
            }
            switch (s[l][0]) {
              case 0:
                var p = (function (e) {
                  return function () {
                    o[e] = !o[e];
                  };
                })(c);
                var d = new west.gui.Checkbox(
                  "",
                  !o[c] ? "" : "tw2gui_checkbox_checked",
                  p
                );
                h.append(
                  e('<td style="width:25px;" />').append(d.getMainDiv())
                );
                break;
            }
            h.append(e("<td />").text((s[l][2] + "").twdb_twiceHTMLUnescape()));
            if (s[l][3]) {
              var v = s[l][3];
              if (!isDefined(f[v])) {
                f[v] = e("<table />").hide();
                a.append(
                  e(
                    '<tr><td style="width:25px;cursor:pointer;" /><td style="cursor:pointer;" class="item_sell"><span class="twdb_cat butMinus" style="margin-top: -3px;background: no-repeat url(https://westgr.innogamescdn.com/images/scrollbar/scroll_down.png);width: 350px;height: 16px;" />&nbsp;&nbsp;&nbsp;&nbsp;' +
                    v.twdb_twiceHTMLUnescape() +
                    "</td></tr>"
                  ).click(
                    (function (t) {
                      return function () {
                        e(f[t]).toggle();
                        e(this)
                          .find("span.twdb_cat")
                          .toggleClass("butMinus")
                          .toggleClass("butPlus");
                      };
                    })(v)
                  ),
                  e("<tr>").append(
                    e('<td style="width:25px;">'),
                    e("<td>").append(f[v])
                  )
                );
              }
              f[v].append(h);
            } else {
              a.append(h);
            }
          }
          var m = new west.gui.Combobox();
          a.append(e("<tr><td>&nbsp;</td></tr>"));
          var g = new west.gui.Button("Αποθήκευση", function () {
            u(o);
          });
          var y = e('<div style="width:100%;text-align:right;" />').append(
            e(
              '<img style="position:relative;top:-20px;cursor:pointer;" title=" Επαναφορά Ρυθμίσεων" src="' +
              Images.iconReset +
              '" />'
            ).click(function () {
              Cache.reset();
            })
          );
          i.appendContent(a);
          r.append(g.getMainDiv()).append(y);
          Window.hideLoader();
        };
        t.get = function (e, r) {
          if (!isDefined(n[e])) {
            t.set(e, r);
            return r;
          }
          return n[e];
        };
        t.set = function (e, t) {
          n[e] = t;
          Cache.save("settings", n);
        };
        var u = function (e) {
          for (var t in e) {
            n[t] = e[t];
          }
          if (Cache.save("settings", n)) {
            new UserMessage(
              "Αποθήκευση επιτυχής",
              UserMessage.TYPE_SUCCESS
            ).show();
          } else {
            new UserMessage("?save_error", UserMessage.TYPE_ERROR).show();
          }
        };
        return t;
      })($);
      _base.Settings = Settings;
      Debugger.Settings = Settings;
      var JobWindowCC = (function (e) {
        var t = {};
        var n = {};
        var r = function () {
          if (n.ready) {
            return;
          }
          if (Settings.get("jobwin_showlp", true)) {
            s();
          }
          n.ready = true;
        };
        var s = function () {
          try {
            JobWindow.prototype.__twdb__initView =
              JobWindow.prototype.__twdb__initView ||
              JobWindow.prototype.initView;
            JobWindow.prototype.initView = function () {
              var t = JobWindow.prototype.__twdb__initView.apply(
                this,
                arguments
              );
              var n =
                "&nbsp;&nbsp;(" +
                (this.currSkillpoints - this.job.workpoints) +
                "&nbsp;Π.Ε.)";
              e(
                "div.tw2gui_inner_window_title > .textart_title",
                this.window.divMain
              ).append(n);
              return t;
            };
          } catch (t) {
            Error.report(t, "manipulate JobWindow.prototype.initView");
          }
        };
        n = Loader.add("JobWindowCC", "tw-db Job window", r, {
          Settings: true,
          ClothCalc: true,
        });
        return t;
      })($);
      var Updater = (function (e) {
        var t = {};
        var n = {};
        var r;
        var i = false;
        var s = function () {
          if (n.ready) {
            return;
          }
          r = Window.addTab(
            "notes",
            "Χαρακτηριστικά Έκδοσης",
            "Χαρακτηριστικά Έκδοσης",
            function () {
              u();
            }
          );
          if (!Cache.load("version"))
            Cache.save("version", Script.version);
          else if (
            Script.version !==
            Cache.load("version")
          ) {
            Cache.save("version", Script.version);
            i = true;
            var e = "Το UserScript έχει ενημερωθεί!";
            var t =
              '<div class="txcenter">Το UserScript =1= ανανεώθηκε. Θέλετε να δείτε τα χαρακτηριστικά έκδοσης;</div>';
            t = t.replace("=1=", "<b>" + Script.name + "</b>");
            new west.gui.Dialog(e, t, "warning")
              .addButton("Όχι")
              .addButton("Ναι", function () {
                Window.open("notes");
              })
              .show();
          }
          n.ready = true;
        };
        n = Loader.add("Updater", "tw-db Updater", s, {
          Cache: true,
          Window: true,
        });
        var o = function (e) {
          var n = "Το UserScript χρειάζεται ανανέωση";
          var r =
            '<div class="txcenter">Μια νέα έκδοση είναι διαθέσιμη για το UserScript =1=, παρακαλώ κάντε κλικ στο OK για να το ανανεώσετε.</div>';
          r = r.replace("=1=", "<b>" + Script.name + "</b>");
          r +=
            "<div><br />Τρέχουσα έκδοση: " +
            "0." +
            Script.version +
            "<br />Νέα έκδοση: " +
            "0." +
            e +
            "</div>";
          var i = Script.protocol + "://" + Script.update_link + Script.name + Script.update_suffix;
          var s = function () {
            window.open(i);
            new west.gui.Dialog(
              Script.name,
              "Φορτώστε ξανά το παιχνίδι μετά την εγκατάσταση.",
              "warning"
            )
              .setModal(true, false, true)
              .show();
          };
          new west.gui.Dialog(n, r, west.gui.Dialog.SYS_WARNING)
            .addButton("Όχι τώρα")
            .addButton("ΟΚ", s)
            .show();
        };
        t.wasUpdated = function () {
          return i;
        };
        var u = function () {
          r.children().remove();
          var t = new west.gui.Scrollpane();
          e(t.getMainDiv()).css("height", "335px");
          var n = false;
          for (var i = 0; i < Script.notes.length; i++) {
            var s = e(
              "<h3><a>Έκδοση - " +
              "0." +
              String(Script.notes[i].version) +
              "</a></h3>"
            )
              .css("border-bottom", "1px solid black")
              .click(function () {
                e(this).next().toggle();
              });
            var o = e("<div>" + Script.notes[i].notes + "</div>");
            t.appendContent(s).appendContent(o);
            if (n) {
              o.hide();
            }
            n = true;
          }
          r.append(t.getMainDiv());
          Window.hideLoader();
        };
        t.query = function () {
          setTimeout(function () {
            e.getScript(
              Script.protocol +
              "://" +
              Script.folder_url +
              Script.check +
              "?" +
              new Date().getTime()
            );
          }, 500);
        };
        t.check = function (e, n) {
          if (Script.version !== e) {
            o(e);
          }
        };
        return t;
      })($);
      _base.Updater = Updater;
      Debugger.Updater = Updater;
      var Sleep = (function (e) {
        var t = {};
        var n = null;
        var r = [];
        var i = [];
        var s = {};
        var o = 1;
        var u = false;
        var a = {};
        var f;
        var l = false;
        var c = 0;
        var h = [];
        var p = [
          "",
          "cubby",
          "bedroom",
          "hotel_room",
          "apartment",
          "luxurious_apartment",
        ];
        var d = function () {
          if (a.ready) {
            return;
          }
          if (Settings.get("directsleep", true)) {
            var e =
              "ul.tw2gui_selectbox_content.twdb_sleepmenu {max-width: 320px!important; white-space: nowrap; overflow-y: auto; overflow-x: hidden;}" +
              "ul.tw2gui_selectbox_content.twdb_sleepmenu > div.tw2gui_scrollpane {width: 320px!important}" +
              "ul.tw2gui_selectbox_content.twdb_sleepmenu > li {padding-right: 20px!important;}";
            TWDB.Util.addCss(e);
            s = Cache.load("barracks");
            if (s == null || typeof s !== "object") {
              s = {};
            }
            v();
            if (Character.homeTown.town_id !== 0) x();
            else S();
          }
          a.ready = true;
        };
        a = Loader.add("Sleep", "tw-db DirectSleep", d, {
          Cache: true,
          Settings: true,
        });
        var v = function () {
          n = GameInject.CharacterButton.add(Images.buttonSleep);
          n.addMousePopup("Ύπνος").click(function (e) {
            if (w.Character.homeTown.town_id !== 0 && r.length == 0) b();
            else y(e);
          });
        };
        var m = function (t, n, r) {
          var i = new west.gui.Selectbox(true).addListener(function (e) {
            switch (e) {
              case "home":
                b();
                break;
              default:
                E(e);
                break;
            }
          });
          if (w.Character.homeTown.town_id !== 0)
            i.addItem(
              "home",
              "Ξενοδοχείο&nbsp;" +
              w.GameMap.calcWayTime(f, w.Character.homeTown).formatDuration()
            );
          for (var s = 0; s < r; s++)
            if (t[s].stage !== 0)
              i.addItem(
                s,
                "Στάδιο&nbsp;" +
                t[s].stage +
                "&nbsp;" +
                t[s].distance.formatDuration() +
                "&nbsp;|&nbsp;" +
                t[s].name
              );
          e(i.elContent).addClass("twdb_sleepmenu");
          i.show(n);
          l = false;
        };
        var g = function (e, t, n) {
          Ajax.remoteCallMode(
            "building_hotel",
            "get_data",
            { town_id: h[e].town_id },
            function (r) {
              if (r.error) return new UserMessage(r.msg).show();
              h[e].stage = r.hotel_level;
              if (++c == t) m(h, n, t);
            }
          );
        };
        var y = function (e) {
          if (l) return;
          l = true;
          f = Map.getLastPosition();
          if (w.Character.homeTown.town_id === 0) {
            for (var t = 0; t < h.length; t++)
              h[t].distance = w.GameMap.calcWayTime(f, h[t]);
            h.sort(function (e, t) {
              return e.distance - t.distance;
            });
            var n = h.length > 5 ? 5 : h.length;
            c = 0;
            for (var i = 0; i < n; i++) {
              if (h[i].hasOwnProperty("stage")) {
                if (++c == n) m(h, e, n);
              } else g(i, n, e);
            }
          } else {
            for (var t = 0; t < r.length; t++)
              r[t].distance = w.GameMap.calcWayTime(f, r[t]);
            r.sort(function (e, t) {
              return e.distance - t.distance;
            });
            m(r, e, r.length);
          }
        };
        var b = function () {
          Ajax.remoteCallMode(
            "building_hotel",
            "get_data",
            { town_id: w.Character.homeTown.town_id },
            function (e) {
              if (e.error) return new UserMessage(e.msg).show();
              var t = p[e.hotel_level];
              w.TaskQueue.add(new TaskSleep(w.Character.homeTown.town_id, t));
            }
          );
        };
        var E = function (e) {
          if (isDefined(h[e]))
            w.TaskQueue.add(new TaskSleep(h[e].town_id, p[h[e].stage]));
          else if (isDefined(r[e]))
            w.TaskQueue.add(new TaskFortSleep(r[e].id, r[e].x, r[e].y));
        };
        var S = function () {
          Ajax.get("map", "get_minimap", {}, function (e) {
            if (e.error) return new UserMessage(e.msg).show();
            for (var t in e.towns)
              if (e.towns[t].member_count) h.push(e.towns[t]);
          });
        };
        var x = function () {
          if (w.Character.homeTown.alliance_id == 0)
            Ajax.remoteCall("fort_overview", "", {}, function (e) {
              for (var t in e.js) {
                var n = e.js[t],
                  r = e.page.match(
                    new RegExp(
                      '<div id="ownforts">[\\S\\s]+FortWindow.open\\(undefined, ' +
                      n[1] +
                      ", " +
                      n[2] +
                      '\\)\\)">(.+?)</a>[\\S\\s]+<div id="lastbattle">'
                    )
                  );
                if (r) i.push({ fort_id: n[0], x: n[1], y: n[2], name: r[1] });
              }
              if (i.length > 0)
                w.setTimeout(function () {
                  T();
                }, Timer.getTimeout());
            });
          else
            Ajax.remoteCallMode(
              "alliance",
              "get_data",
              { alliance_id: w.Character.homeTown.alliance_id },
              function (e) {
                if (e.error) return new UserMessage(e.error).show();
                i = e.data.forts;
                if (i.length > 0)
                  w.setTimeout(function () {
                    T();
                  }, Timer.getTimeout());
              }
            );
        };
        var T = function () {
          try {
            if (i.length <= 0) {
              return;
            }
            var t = i.pop();
            var n = t.fort_id;
            if (!isDefined(s[n])) {
              s[n] = { time: 0, stage: 0 };
            }
            e.extend(s[n], { id: n, x: t.x, y: t.y, name: t.name });
            if (
              s[n].stage !== 5 &&
              s[n].time + o * 86400 > new Date().getTime() / 1e3
            ) {
              r.push(s[n]);
              if (i.length > 0) {
                w.setTimeout(function () {
                  T();
                }, Timer.getTimeout());
              } else {
                Cache.save("barracks", s);
              }
              return;
            }
            Ajax.remoteCallMode(
              "fort_building_barracks",
              "index",
              { fort_id: n },
              function (e) {
                if (e.error) {
                  new UserMessage(e.error).show();
                } else {
                  s[n].time = Number(new Date().getTime() / 1e3).round(0);
                  if (isDefined(e.barrackStage)) {
                    s[n].stage = e.barrackStage;
                  }
                }
                r.push(s[n]);
                if (i.length > 0) {
                  w.setTimeout(function () {
                    T();
                  }, Timer.getTimeout());
                } else {
                  Cache.save("barracks", s);
                }
              }
            );
          } catch (u) {
            Error.report(u, "getFortData");
          }
        };
        return t;
      })($);
      Debugger.Sleep = Sleep;
      var Analyser = (function (e) {
        var t = {};
        var n = false;
        var r = null;
        var s = null;
        var o = false;
        var u = [];
        var a = [];
        var f = 0;
        var l = {};
        var c = {};
        t.extra = false;
        var h = {};
        var p = function () {
          if (h.ready) {
            return;
          }
          TWDB.Util.addCss(
            ".messages-analyser-job .item img.tw_item { width: 30px; height: 27px; }" +
            ".messages-analyser-job .item .count { bottom: -4px; }" +
            ".messages-analyser-job .item span.usable { display: none; }" +
            "div.tw2gui_window .messages-analyser-job div.fancytable .row > div { display: none; vertical-align: top; }" +
            ".messages-analyser-job.view-rewards div.fancytable .row > div.view-rewards { display: inline-block; }" +
            ".messages-analyser-job.view-items div.fancytable .row > div.view-items { display: inline-block; }" +
            "div.tw2gui_window .messages-analyser-job div.fancytable div.trows div.tbody div.row { height: auto; }"
          );
          var t = Cache.load("statistic");
          if (typeof t == "object" && t !== null) {
            r = t;
          } else {
            d("all", true);
          }
          if (!r.ver) {
            d("all", true);
          }
          switch (r.ver) {
            case 1:
              d("job", true, 1);
              d("duel", true, 1);
              r.ver = 2;
            case 2:
              d("job", true, 1);
              d("duel", true, 1);
              r.ver = 3;
            case 3:
              d("chest", true, 1);
              r.ver = 4;
          }
          s = e.extend(true, {}, r);
          GameInject.addTabOnMessagesWindow(
            "Αναλυτής Δουλειών",
            "analyser-job",
            function () {
              T("job");
            }
          );
          if (Settings.get("chestanalyser", true)) {
            GameInject.ItemUse(v.add);
            GameInject.addTabOnMessagesWindow(
              "Αναλυτής Θήκης",
              "analyser-chest",
              function () {
                v.show();
              }
            );
          }
          h.ready = true;
        };
        h = Loader.add("Analyser", "tw-db Job-Analyser", p, {
          Cache: true,
          Settings: true,
          Jobs: true,
        });
        t.restore = function () {
          r = e.extend(true, {}, s);
        };
        t.debug = function () {
          console.log(r);
          console.log(c);
        };
        var d = function (t, n, i) {
          if (n == true) {
            if (!i) {
              var i = 0;
            } else {
              var s = /\[report=([0-9]+)([A-Fa-f0-9]{10})\]/;
              var o = String(i).match(s);
              if (o) {
                var i = o[1];
              }
            }
            if (isNaN(parseInt(i, 10))) {
              var u = 0;
            } else {
              var u = parseInt(i, 10) - 1;
            }
            switch (t) {
              case "job":
                r[t] = { last: u, items: { last: 0 } };
                break;
              case "duel":
                r[t] = { last: u };
                break;
              case "chest":
                r[t] = {};
                break;
              case "all":
                r = { ver: 4 };
                d("job", true, u + 1);
                d("duel", true, u + 1);
                d("chest", true, u + 1);
                break;
            }
          } else {
            var a = e(
              '<div><h2>Θέλετε πραγματικά να επαναφέρετε τα στατιστικά του Αναλυτή Δουλειών;</h2><span style="font-size:12px"><br />Δώστε τον σύνδεσμο αναφοράς της πρώτης αναφοράς που θα πρέπει να διαβαστεί μετά την επαναφορά</span></div>'
            );
            var f = new west.gui.Textfield("twdb_analyser_last").setSize(40);
            f.setLabel("Σύνδεσμος-Αναφοράς:");
            a.append(f.getMainDiv());
            var l = new west.gui.Checkbox(
              "ή χρησιμοποιήστε όλες τις αναφορές&nbsp;&nbsp;"
            );
            var c = new west.gui.Checkbox(
              "ή χρησιμοποιήστε μόνο μελλοντικές αναφορές"
            );
            l.setCallback(function (e) {
              if (e) {
                c.setSelected(false);
                f.setValue("");
              }
            });
            c.setCallback(function (e) {
              if (e) {
                l.setSelected(false);
                f.setValue("");
              }
            });
            e(f.getMainDiv()).find("span").css("font-size", "12px");
            e(f.getMainDiv())
              .find("input")
              .keyup(function () {
                l.setSelected(false);
                c.setSelected(false);
              });
            a.append(
              e('<div style="display:block;" />')
                .append(l.getMainDiv())
                .append(c.getMainDiv())
            );
            var h = new west.gui.Dialog("Επαναφορά - ReportAnalyser", a);
            h.addButton("ΟΚ", function () {
              if (l.isSelected()) {
                d(t, true);
              } else if (c.isSelected()) {
                d(t, true, r[t].last + 1);
              } else {
                d(t, true, f.getValue());
              }
              h.hide();
              MessagesWindow.open("analyser-" + t);
            });
            h.addButton("Ακύρωση");
            h.show();
          }
        };
        var v = (function (e) {
          var t = {};
          t.add = function (e, t) {
            var n = false;
            for (i = 0; i < t.msg.effects.length; i += 1) {
              var s = t.msg.effects[i];
              if (s.type == "lottery" || s.type == "content") {
                if (!isDefined(r.chest[e])) {
                  r.chest[e] = { count: 0, items: {} };
                }
                var o = r.chest[e];
                if (!n) {
                  o.count++;
                  n = true;
                }
                s.items.each(function (e) {
                  if (!isDefined(o.items[e.item_id])) {
                    o.items[e.item_id] = 0;
                  }
                  o.items[e.item_id] += e.count;
                });
              } else if (s.type == "learn_recipe")
                TWDB.ClothCalc.recipes[s.recipe] = 1;
            }
            Cache.save("statistic", r);
          };
          t.show = function () {
            if (!MessagesWindow.window) {
              return;
            }
            var t = e(MessagesWindow.window.getContentPane()).find(
              ".messages-analyser-chest"
            );
            MessagesWindow.window.showLoader();
            t.children().remove();
            var n = new west.gui.Scrollpane();
            e(n.getMainDiv()).css("height", "385px");
            t.append(n.getMainDiv());
            for (var i in r.chest) {
              var s = r.chest[i];
              var o = new tw2widget.Item(
                ItemManager.get(i),
                "item_inventory"
              ).setCount(s.count);
              o.getImgEl().addClass("item_inventory_img");
              n.appendContent(
                e(
                  '<div style="float:left;position:relative;height:61px;width:61px;" />'
                ).append(o.getMainDiv())
              );
              var u = 0;
              var a = e(
                '<div style="float:left;position:relative;width:610px;" />'
              );
              for (var f in s.items) {
                u++;
                var o = new tw2widget.Item(
                  ItemManager.get(f),
                  "item_inventory"
                ).setCount(s.items[f]);
                o.getImgEl().addClass("item_inventory_img");
                a.append(o.getMainDiv());
              }
              n.appendContent(
                '<div style="float:left;position:relative;width:10px;height:' +
                String(Math.ceil(u / 10) * 61) +
                'px;background: url(/images/window/report/devider_report.png) repeat-y;" />'
              )
                .appendContent(a)
                .appendContent(
                  '<div style="clear:both;position:relative;height:10px;display:block;background: url(/images/window/dailyactivity/wood_devider_horiz.png) repeat-x;" />'
                );
            }
            MessagesWindow.window.hideLoader();
          };
          return t;
        })(e);
        var m = function (e) {
          if (o) {
            return;
          }
          o = true;
          u = [];
          g(e);
        };
        var g = function (e, t) {
          if (!t) {
            t = 1;
          }
          f = t;
          Ajax.remoteCall(
            "reports",
            "get_reports",
            { page: t, folder: e },
            function (t) {
              y(e, t);
            }
          );
        };
        var y = function (e, t) {
          var n = true;
          if (typeof t.reports !== "object") {
            t.reports = [];
            n = false;
          }
          if (typeof t.page == "undefined" || f !== t.page) {
            t.reports = [];
            n = false;
          }
          for (var i = 0; i < t.reports.length; i++) {
            var s = t.reports[i];
            if (s.report_id <= r[e].last) {
              n = false;
              break;
            }
            u.push({ id: s.report_id, hash: s.hash, type: e });
          }
          l.bar.setMaxValue(u.length);
          if (n) {
            window.setTimeout(function () {
              g(e, f + 1);
            }, Timer.getTimeout());
          } else {
            b(e);
          }
        };
        var b = function (e) {
          if (u.length > 0) {
            l.bar.setValue(l.bar.getValue() + 1);
            w(u.pop());
          } else {
            Cache.save("statistic", r);
            o = false;
            T(e, true);
          }
        };
        var w = function (t) {
          e.post(
            "game.php?window=reports&mode=show_report",
            { flash: null, hash: t.hash, report_id: t.id },
            function (e) {
              E(t.type, e);
            },
            "json"
          );
        };
        var E = function (e, t) {
          if (!t || !t.report_id || !t.publishHash) {
            new UserMessage(
              "empty Server Response",
              UserMessage.TYPE_ERROR
            ).show();
            return false;
          }
          if (
            typeof t.page !== "string" ||
            typeof t.title !== "string" ||
            typeof t.js !== "string"
          ) {
            a.push(t.report_id);
          } else {
            switch (e) {
              case "job":
                x(t);
                break;
              case "duel":
                S(t);
                break;
            }
            r[e].last = t.report_id;
          }
          window.setTimeout(function () {
            b(e);
          }, Timer.getTimeout());
        };
        var S = function (e) { };
        var x = function (n) {
          try {
            data = {
              id: null,
              hash: null,
              job: null,
              motivation: null,
              duration: null,
              wage: null,
              bond: null,
              experience: null,
              injury: 0,
              killed: false,
              date_received: null,
              items: {},
            };
            data.id = n.report_id;
            data.hash = n.publishHash;
            var i = Jobs.getJobByName(n.title.slice(n.title.indexOf(":") + 1));
            if (!i) {
              a.push(data.id);
              return false;
            }
            data.job = i.id;
            data.date_received = n.date_received;
            var s = e(n.page);
            s.find(".rp_row_jobdata").each(function (t) {
              var n = e.trim(e(this).children("span:last-child").html());
              n = n.split("&nbsp;").join(" ");
              switch (t) {
                case 0:
                  data.motivation = parseInt(n.slice(0, n.indexOf(" ")), 10);
                  break;
                case 1:
                  var r = parseFloat(n);
                  data.duration =
                    r == 1 ? 3600 : r == 10 ? 600 : r == 15 ? 15 : null;
                  if (!data.duration)
                    Error.report(
                      { message: "Unrecognized time on report:" + n },
                      "Job-Analyser"
                    );
                  break;
                case 2:
                  data.wage = parseInt(n.slice(n.indexOf(" ") + 1), 10);
                  break;
                case 3:
                  data.bond = parseInt(n, 10);
                  break;
                case 4:
                  data.experience = parseInt(n.slice(0, n.indexOf(" ")), 10);
                  break;
              }
            });
            s.find(".rp_hurtmessage_text").each(function () {
              var t = new RegExp("[0-9]+");
              data.injury = Number(t.exec(e(this).html()));
            });
            s.find(".rp_row_killmessage").each(function () {
              data.killed = true;
            });
            var s = n.js.split(";");
            e(s).each(function () {
              var e = new RegExp(
                /\s*ItemManager\.get\(([0-9]+)\)\s*\)\.setCount\(([0-9]+)\)/m
              );
              var t = e.exec(this);
              if (t) {
                data.items[Number(t[1])] = Number(t[2]);
              }
            });
            if (!r.job[data.job]) {
              r.job[data.job] = { count: 0, products: {} };
            }
            var o = r.job[data.job];
            o.count++;
            if (!o[data.motivation]) {
              o[data.motivation] = {
                count: 0,
                duration: 0,
                wage: 0,
                bond: 0,
                experience: 0,
                injury: {},
                killed: 0,
                items: {},
                extraitems: {},
              };
            }
            var u = o[data.motivation];
            if (!isDefined(u.duration)) {
              u.duration = 0;
            }
            u.count++;
            u.duration += data.duration;
            u.wage += data.wage;
            u.bond += data.bond;
            u.experience += data.experience;
            if (!u.injury[data.injury]) {
              u.injury[data.injury] = 0;
            }
            u.injury[data.injury]++;
            if (data.killed) {
              u.killed++;
            }
            for (var f in data.items) {
              var l = Number(f);
              var c = 138e3;
              if (l === c) {
                if (!isDefined(r.extra)) {
                  r.extra = { count: 0 };
                  t.extra = true;
                }
                r.extra.count++;
                r.extra[r.extra.count] = data;
              }
              var h = data.items[l];
              var p = ItemManager.get(l);
              if (Jobs.isProduct(l) !== -1) {
                if (!o.products[l]) {
                  o.products[l] = { last: 0 };
                }
                var s = o.products[l];
                for (var d = 0; d < h; d++) {
                  var v = o.count - s.last;
                  s.last = o.count;
                  if (!s[v]) {
                    s[v] = 0;
                  }
                  s[v]++;
                }
              } else if (p.price == 0) {
                if (!u.extraitems[l]) {
                  u.extraitems[l] = 0;
                }
                u.extraitems[l]++;
              } else {
                luck = true;
                if (!u.items[l]) {
                  u.items[l] = 0;
                }
                u.items[l]++;
              }
            }
          } catch (m) {
            a.push(data.id);
            return false;
          }
        };
        var T = function (t, n) {
          if (!MessagesWindow.window) {
            return;
          }
          l.window = e(MessagesWindow.window.getContentPane()).find(
            ".messages-analyser-" + t
          );
          if (typeof n == "undefined") {
            MessagesWindow.window.showLoader();
            l.bar = new west.gui.Progressbar(0, u.length);
            l.window.children().remove();
            l.window.append(l.bar.getMainDiv());
            m(t);
          } else {
            switch (t) {
              case "job":
                var r = k();
                break;
              case "duel":
                var r = showDuels();
                break;
            }
            l.window.children().remove();
            l.window.append(r);
            N();
            C();
            N();
            MessagesWindow.window.hideLoader();
          }
        };
        var N = function (t) {
          try {
            if (typeof t != "undefined") {
              if (c.type == t) {
                c.ord *= -1;
              } else {
                c.ord = 1;
                c.type = t;
              }
            } else {
              var t = c.type;
            }
            var n = c.ord;
            var r = function (r, i) {
              var s = e(r)
                .find(".cell_" + t)
                .html();
              var o = e(i)
                .find(".cell_" + t)
                .html();
              if (Number(s) == s) {
                return s * 1 > o * 1 ? n : -n;
              } else {
                return s > o ? n : -n;
              }
            };
            l.rows.sort(r);
            for (var i = 0; i < l.rows.length; i++) {
              l.bodyscroll.appendContent(l.rows[i]);
            }
          } catch (s) {
            Error.report(s, "Analyser sort");
          }
        };
        var C = function () {
          switch (c.avg) {
            case "avg":
              c.avg = "sum";
              break;
            case "sum":
              c.avg = "avg";
              break;
          }
          e(l.window)
            .find("div.row div")
            .each(function (t) {
              var n = e(this).data(String(c.avg));
              var r = e(this).data(String(c.avg) + "-t");
              e(this).html(n).attr("title", r);
            });
        };
        var k = function () {
          l.window.addClass("view-rewards");
          c = { ord: 1, type: 0, avg: "avg" };
          var t = e(
            '<div class="fancytable">' +
            '<div class="_bg tw2gui_bg_tl"></div>' +
            '<div class="_bg tw2gui_bg_tr"></div>' +
            '<div class="_bg tw2gui_bg_bl"></div>' +
            '<div class="_bg tw2gui_bg_br"></div>' +
            '<div class="trows">' +
            '<div class="thead statics">' +
            '<div class="row row_head">' +
            '<div class="cell_0 view-rewards view-items" style="width:91px; text-align:center;">' +
            '<span title="Όνομα" style="cursor:pointer, margin-bottom:3px;">' +
            '<img src="' +
            Images.iconName +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_1 view-rewards view-items" style="width:50px; text-align:center;">' +
            '<span title="Αριθμός">' +
            '<img src="' +
            Images.iconCount +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_2 view-rewards view-items" style="width:50px; text-align:center;">' +
            '<span title="Διάρκεια">' +
            '<img src="' +
            Images.iconClock +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_3 view-rewards" style="width:50px; text-align:center;">' +
            '<span title="Εμπειρία">' +
            '<img src="' +
            Images.iconExperience +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_4 view-rewards" style="width:50px; text-align:center;">' +
            '<span title="Χρήματα">' +
            '<img src="' +
            Images.iconDollar +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_5 view-rewards" style="width:50px; text-align:center;">' +
            '<span title="Ομόλογα">' +
            '<img src="' +
            Images.iconUpb +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_6 view-rewards" style="width:50px; text-align:center;">' +
            '<span title="Κίνητρο">' +
            '<img src="' +
            Images.iconMoti +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_7 view-rewards" style="width:50px; text-align:center;">' +
            '<span title="Κίνδυνος">' +
            '<img src="' +
            Images.iconDanger +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_8 view-rewards" style="width:50px; text-align:center;">' +
            '<span title="Λιποθύμισες">' +
            '<img src="' +
            Images.iconKilled +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_9 view-rewards" style="width:50px; text-align:center;">' +
            '<span title="Προϊόντα">' +
            '<img src="' +
            Images.iconYield +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_9 view-items" style="width:63px; text-align:center;">' +
            '<span title="Προϊόντα">' +
            '<img src="' +
            Images.iconYield +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_10 view-rewards" style="width:50px; text-align:center;">' +
            '<span title="Αντικείμενα">' +
            '<img src="' +
            Images.iconItem +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_10 view-items" style="width:378px; text-align:center;">' +
            '<span title="Αντικείμενα">' +
            '<img src="' +
            Images.iconItem +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_11 view-rewards" style="width:41px; text-align:center;">' +
            '<span title="Τύχη">' +
            '<img src="' +
            Images.iconLuck +
            '" />' +
            "</span>" +
            "</div>" +
            '<div class="cell_reset view-rewards view-items" style="width:20px; text-align:right;">' +
            '<span title="Επαναφορά">' +
            '<img src="' +
            Images.iconReset +
            '" />' +
            "</span>" +
            "</div>" +
            "</div>" +
            "</div>" +
            '<div class="tbody">' +
            '<div class="_bg tw2gui_bg_l"></div>' +
            '<div class="_bg tw2gui_bg_r"></div>' +
            "</div>" +
            '<div class="tfoot statics">' +
            '<div class="row row_foot"></div>' +
            "</div>" +
            "</div>" +
            "</div>"
          );
          t.find(".row_head > div").each(function () {
            var t = e(this)
              .attr("class")
              .match(/cell_(\d+|reset)/)[1],
              n = e(this).find("img");
            if (t == "reset") {
              e(this).click(function () {
                d("job");
              });
            } else {
              e(this).click(
                (function (e) {
                  return function () {
                    N(e);
                  };
                })(t * 1)
              );
            }
          });
          t.find(".row_head").find("img").css("cursor", "pointer");
          var n = 0;
          var i = {
            jobs: 0,
            count: 0,
            duration: 0,
            experience: 0,
            wage: 0,
            bond: 0,
            motivation: 0,
            injury: 0,
            killed: 0,
            products: 0,
            items: 0,
            luck: 0,
          };
          var s = r.job;
          var o = e();
          l.rows = [];
          for (var u in s) {
            var a = Jobs.getJobById(u);
            if (!a) {
              continue;
            }
            var f = {
              count: 0,
              duration: 0,
              experience: 0,
              wage: 0,
              bond: 0,
              motivation: 0,
              injury: 0,
              killed: 0,
              products: 0,
              items: 0,
              luck: 0,
              all_products: {},
              all_items: {},
            };
            var h = s[u];
            f.count = h.count;
            var p = 0;
            for (var n = 0; n < a.randomyields.length; n++) {
              p += a.randomyields[n];
            }
            if (typeof a.yields.length == "undefined") {
              for (var v in a.yields) {
                p += a.yields[v].prop;
              }
            }
            for (var v in h.products) {
              for (var m in h.products[v]) {
                if (m == "last") {
                  continue;
                }
                var g = ItemManager.get(v);
                f.products += Number(h.products[v][m]);
                f.luck += Number(g.price * h.products[v][m]);
                f.all_products[v] = (f.all_products[v] || 0) + h.products[v][m];
              }
            }
            for (var y in h) {
              if (y == "count" || y == "products") {
                continue;
              }
              var m = h[y];
              f.motivation += y * m.count;
              f.bond += m.bond;
              f.duration += m.duration || 0;
              f.experience += m.experience;
              for (var b in m.injury) {
                f.injury += b * m.injury[b];
              }
              for (var v in m.items) {
                var g = ItemManager.get(v);
                f.items += Number(m.items[v]);
                f.luck += Number(g.price * m.items[v]);
                f.all_items[v] = (f.all_items[v] || 0) + m.items[v];
              }
              f.killed += m.killed;
              f.wage += m.wage;
            }
            var w = e('<div class="row row_' + n + '" />');
            var m = e(
              '<div class="cell_0 view-rewards view-items" style="width:91px; text-align:left;cursor:pointer;font-size:11px;" ></div>'
            );
            m.data("sum", a.name);
            m.data("sum-t", a.name);
            m.data("avg", a.name);
            m.data("avg-t", a.name);
            w.append(m);
            i.jobs++;
            var m = e(
              '<div class="cell_1 view-rewards view-items" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", f.count);
            m.data("sum-t", f.count);
            m.data("avg", f.count);
            m.data("avg-t", f.count);
            w.append(m);
            i.count += f.count;
            var m = e(
              '<div class="cell_2 view-rewards view-items" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", (f.duration / 3600).round(2));
            m.data("sum-t", String((f.duration / 3600).round(2)) + " ώρες");
            m.data("avg", (f.duration / (3600 * f.count)).round(2));
            m.data(
              "avg-t",
              "&Oslash; " +
              String((f.duration / (3600 * f.count)).round(2)) +
              " ώρες"
            );
            w.append(m);
            i.duration += f.duration;
            var m = e(
              '<div class="cell_3 view-rewards" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", f.experience);
            m.data("sum-t", String(f.experience));
            m.data("avg", (f.experience / f.count).round(2));
            m.data(
              "avg-t",
              "&Oslash; " + String((f.experience / f.count).round(2))
            );
            w.append(m);
            i.experience += f.experience;
            var m = e(
              '<div class="cell_4 view-rewards" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", f.wage);
            m.data("sum-t", "$" + String(f.wage));
            m.data("avg", (f.wage / f.count).round(2));
            m.data("avg-t", "&Oslash; $" + String((f.wage / f.count).round(2)));
            w.append(m);
            i.wage += f.wage;
            var m = e(
              '<div class="cell_5 view-rewards" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", f.bond);
            m.data("sum-t", String(f.bond));
            m.data("avg", ((f.bond / f.count) * 100).round(2));
            m.data(
              "avg-t",
              "&Oslash; " + String(((f.bond / f.count) * 100).round(2)) + "%"
            );
            w.append(m);
            i.bond += f.bond;
            var m = e(
              '<div class="cell_6 view-rewards" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", f.motivation);
            m.data("sum-t", String(f.motivation) + "%");
            m.data("avg", (f.motivation / f.count).round(2));
            m.data(
              "avg-t",
              "&Oslash; " + String((f.motivation / f.count).round(2)) + "%"
            );
            w.append(m);
            i.motivation += f.motivation;
            var m = e(
              '<div class="cell_7 view-rewards" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", f.injury);
            m.data("sum-t", String(f.injury));
            m.data("avg", (f.injury / f.count).round(2));
            m.data(
              "avg-t",
              "&Oslash; " + String((f.injury / f.count).round(2))
            );
            w.append(m);
            i.injury += f.injury;
            var m = e(
              '<div class="cell_8 view-rewards" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", f.killed);
            m.data("sum-t", String(f.killed));
            m.data("avg", ((f.killed / f.count) * 100).round(2));
            m.data(
              "avg-t",
              "&Oslash; " + String(((f.killed / f.count) * 100).round(2)) + "%"
            );
            w.append(m);
            i.killed += f.killed;
            var m = e(
              '<div class="cell_9 view-rewards" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", f.products);
            m.data("sum-t", String(f.products));
            m.data("avg", ((f.products / f.count) * 100).round(2));
            m.data(
              "avg-t",
              "&Oslash; " +
              String(((f.products / f.count) * 100).round(2)) +
              "% [" +
              p * 100 +
              "%]"
            );
            w.append(m);
            i.products += f.products;
            var m = e(
              '<div class="cell_9 view-items" style="width:63px; text-align:center;cursor:pointer;" ></div>'
            );
            var E = e.map(f.all_products, function (e, t) {
              return new tw2widget.Item(ItemManager.get(t))
                .setCount(e)
                .getMainDiv();
            });
            m.data("sum", E);
            m.data("avg", E);
            w.append(m);
            var m = e(
              '<div class="cell_10 view-rewards" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", f.items);
            m.data("sum-t", String(f.items));
            m.data("avg", ((f.items / f.count) * 100).round(2));
            m.data(
              "avg-t",
              "&Oslash; " + String(((f.items / f.count) * 100).round(2)) + "%"
            );
            w.append(m);
            i.items += f.items;
            var m = e(
              '<div class="cell_10 view-items" style="width:390px; text-align:center;cursor:pointer;" ></div>'
            );
            var E = e.map(f.all_items, function (e, t) {
              return new tw2widget.Item(ItemManager.get(t))
                .setCount(e)
                .getMainDiv();
            });
            m.data("sum", E);
            m.data("avg", E);
            w.append(m);
            var m = e(
              '<div class="cell_11 view-rewards" style="width:50px; text-align:center;cursor:pointer;" ></div>'
            );
            m.data("sum", f.luck);
            m.data("sum-t", "$" + String(f.luck));
            m.data("avg", (f.luck / f.count).round(2));
            m.data("avg-t", "&Oslash; $" + String((f.luck / f.count).round(2)));
            w.append(m);
            i.luck += f.luck;
            l.rows.push(w);
            w.click(function () {
              L(e(this).children(".cell_0").html());
            });
            n++;
          }
          l.bodyscroll = new west.gui.Scrollpane();
          e(l.bodyscroll.getMainDiv()).css("height", "300px");
          t.find(".tbody").append(l.bodyscroll.getMainDiv());
          l.footer = t.find(".row_foot");
          var m = e(
            '<div class="cell_0" style="width:71px; text-align:center;" ></div>'
          );
          m.data("sum", i.jobs);
          m.data("sum-t", i.jobs + " Δουλειές");
          m.data("avg", i.jobs);
          m.data("avg-t", i.jobs + " Δουλειές");
          l.footer.append(m);
          var m = e(
            '<div class="cell_0 view-rewards view-items" style="width:87px; text-align:center;cursor:pointer;color:#444;" ></div>'
          );
          m.on("mouseenter", function () {
            e(this).css("color", "#888");
          }).on("mouseleave", function () {
            e(this).css("color", "#444");
          });
          m.click(function () {
            C();
          });
          m.data("sum", "&sum;");
          m.data("sum-t", "Αλλαγή σε &Oslash; μέσο όρο");
          m.data("avg", "&Oslash;");
          m.data("avg-t", "Αλλαγή σε &sum; σύνολο");
          l.footer.append(m);
          var m = e(
            '<div class="cell_1 view-rewards view-items" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", i.count);
          m.data("sum-t", i.count);
          m.data("avg", i.count);
          m.data("avg-t", i.count);
          l.footer.append(m);
          var m = e(
            '<div class="cell_2 view-rewards view-items" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", (i.duration / 3600).round(2));
          m.data("sum-t", String((i.duration / 3600).round(2)) + " ώρες");
          m.data("avg", (i.duration / (3600 * i.count)).round(2));
          m.data(
            "avg-t",
            "&Oslash; " +
            String((i.duration / (3600 * i.count)).round(2)) +
            " ώρες"
          );
          l.footer.append(m);
          var m = e(
            '<div class="cell_3 view-rewards" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", i.experience);
          m.data("sum-t", String(i.experience));
          m.data("avg", (i.experience / i.count).round(2));
          m.data(
            "avg-t",
            "&Oslash; " + String((i.experience / i.count).round(2))
          );
          l.footer.append(m);
          var m = e(
            '<div class="cell_4 view-rewards" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", i.wage);
          m.data("sum-t", "$" + String(i.wage));
          m.data("avg", (i.wage / i.count).round(2));
          m.data("avg-t", "&Oslash; $" + String((i.wage / i.count).round(2)));
          l.footer.append(m);
          var m = e(
            '<div class="cell_5 view-rewards" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", i.bond);
          m.data("sum-t", String(i.bond));
          m.data("avg", ((i.bond / i.count) * 100).round(2));
          m.data(
            "avg-t",
            "&Oslash; " + String(((i.bond / i.count) * 100).round(2)) + "%"
          );
          l.footer.append(m);
          var m = e(
            '<div class="cell_6 view-rewards" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", i.motivation);
          m.data("sum-t", String(i.motivation) + "%");
          m.data("avg", (i.motivation / i.count).round(2));
          m.data(
            "avg-t",
            "&Oslash; " + String((i.motivation / i.count).round(2)) + "%"
          );
          l.footer.append(m);
          var m = e(
            '<div class="cell_7 view-rewards" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", i.injury);
          m.data("sum-t", String(i.injury));
          m.data("avg", (i.injury / i.count).round(2));
          m.data("avg-t", "&Oslash; " + String((i.injury / i.count).round(2)));
          l.footer.append(m);
          var m = e(
            '<div class="cell_8 view-rewards" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", i.killed);
          m.data("sum-t", String(i.killed));
          m.data("avg", ((i.killed / i.count) * 100).round(2));
          m.data(
            "avg-t",
            "&Oslash; " + String(((i.killed / i.count) * 100).round(2)) + "%"
          );
          l.footer.append(m);
          var m = e(
            '<div class="cell_9 view-rewards" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", i.products);
          m.data("sum-t", String(i.products));
          m.data("avg", ((i.products / i.count) * 100).round(2));
          m.data(
            "avg-t",
            "&Oslash; " + String(((i.products / i.count) * 100).round(2)) + "%"
          );
          l.footer.append(m);
          var m = e(
            '<div class="cell_9 view-items" style="width:63px; text-align:center;" ></div>'
          );
          m.data("sum", i.products);
          m.data("sum-t", String(i.products));
          m.data("avg", ((i.products / i.count) * 100).round(2));
          m.data(
            "avg-t",
            "&Oslash; " + String(((i.products / i.count) * 100).round(2)) + "%"
          );
          l.footer.append(m);
          var m = e(
            '<div class="cell_10 view-rewards" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", i.items);
          m.data("sum-t", String(i.items));
          m.data("avg", ((i.items / i.count) * 100).round(2));
          m.data(
            "avg-t",
            "&Oslash; " + String(((i.items / i.count) * 100).round(2)) + "%"
          );
          l.footer.append(m);
          var m = e(
            '<div class="cell_10 view-items" style="width:390px; text-align:center;" ></div>'
          );
          m.data("sum", i.items);
          m.data("sum-t", String(i.items));
          m.data("avg", ((i.items / i.count) * 100).round(2));
          m.data(
            "avg-t",
            "&Oslash; " + String(((i.items / i.count) * 100).round(2)) + "%"
          );
          l.footer.append(m);
          var m = e(
            '<div class="cell_11 view-rewards" style="width:50px; text-align:center;" ></div>'
          );
          m.data("sum", i.luck);
          m.data("sum-t", "$" + String(i.luck));
          m.data("avg", (i.luck / i.count).round(2));
          m.data("avg-t", "&Oslash; $" + String((i.luck / i.count).round(2)));
          l.footer.append(m);
          var o = e('<div style="margin: 0px 6px 0px 6px;width:680px;" />')
            .append(
              e(
                '<a href="#">Εναλλαγή μεταξύ ανταμοιβών και αντικειμένων που έχουν βρεθεί</a>'
              )
                .css({
                  marginTop: "-8px",
                  display: "block",
                  textAlign: "center",
                })
                .click(function () {
                  e(".messages-analyser-job").toggleClass(
                    "view-rewards view-items"
                  );
                })
            )
            .append(t);
          return o;
        };
        var L = function (e) { };
        t.getExtra = function () {
          if (isDefined(r.extra)) {
            return r.extra;
          }
          return null;
        };
        return t;
      })($);
      Debugger.Analyser = Analyser;
      var Notes = (function (e) {
        var t = {};
        var n = null;
        var r = {};
        var i = function () {
          if (r.ready) {
            return;
          }
          if (r.ready) {
            return;
          }
          if (Settings.get("notes", true)) {
            GameInject.addTabOnMessagesWindow(
              "Σημειώσεις",
              "notes",
              function () {
                s();
              }
            );
          }
          r.ready = true;
        };
        r = Loader.add("Notes", "tw-db Notes", i, {
          Cache: true,
          Settings: true,
        });
        var s = function () {
          if (!w.MessagesWindow.window) {
            return;
          }
          n = e(w.MessagesWindow.window.getContentPane()).find(
            ".messages-notes"
          );
          n.css("width", "680px")
            .css("margin", "0 auto")
            .css("position", "relative")
            .css("top", "0");
          a(Cache.load("notes"));
        };
        var o = function (e) {
          Cache.save("notes", e);
          new UserMessage(
            "Αποθήκευση επιτυχής",
            UserMessage.TYPE_SUCCESS
          ).show();
        };
        var u = function (t) {
          n.children().remove();
          w.MessagesWindow.window.showLoader();
          var r = new west.gui.Textarea()
            .setWidth(660)
            .setHeight(300)
            .setContent(t);
          n.append(
            e('<div style="margin-left:8px" />').append(
              new west.gui.Bbcodes(r).getMainDiv()
            )
          )
            .append(r.getMainDiv())
            .append(
              e('<div style="margin-left:8px" />')
                .append(
                  new west.gui.Button("Αποθήκευση".escapeHTML(), function () {
                    o(r.getContent());
                    a(r.getContent());
                  }).getMainDiv()
                )
                .append(
                  new west.gui.Button(
                    "Προεπισκόπηση".escapeHTML(),
                    function () {
                      a(r.getContent());
                    }
                  ).getMainDiv()
                )
            );
          w.MessagesWindow.window.hideLoader();
        };
        var a = function (t) {
          n.children().remove();
          var r = new west.gui.Scrollpane();
          e(r.getMainDiv()).css("height", "324px");
          e(r.getMainDiv())
            .find(".tw2gui_scrollpane_clipper_contentpane")
            .addClass("selectable");
          n.append(
            e('<div style="margin:8px" />').append(r.getMainDiv())
          ).append(
            e('<div style="margin-left:8px" />')
              .append(
                new west.gui.Button("Αποθήκευση".escapeHTML(), function () {
                  o(t);
                }).getMainDiv()
              )
              .append(
                new west.gui.Button("Επεξεργασία".escapeHTML(), function () {
                  u(t);
                }).getMainDiv()
              )
          );
          if (t) {
            w.MessagesWindow.window.showLoader();
            Ajax.remoteCall(
              "settings",
              "get_parsed_text",
              { text: t },
              function (e) {
                r.appendContent(w.Game.TextHandler.parse(e.parsed_text));
                w.MessagesWindow.window.hideLoader();
              }
            );
          }
        };
        return t;
      })($);
      Debugger.Notes = Notes;
      var Map = (function (e) {
        var t = {};
        var n = false;
        var r = 181;
        var i = 79;
        var s = 0;
        var o = 0;
        var u = {};
        var a = {};
        var f = null;
        var l = null;
        var c = {};
        var h = function () {
          if (c.ready) {
            return;
          }
          if (Settings.get("showscrollto", true)) {
            d();
          }
          Ajax.get("map", "get_minimap", {}, function (e) {
            if (e.error) {
              c.failed = true;
              return new UserMessage(e.msg).show();
            }
            u = e.job_groups;
            c.ready = true;
          });
        };
        c = Loader.add("Map", "tw-db Map", h, { Settings: true });
        t.getNearestJob = function (e) {
          var n = JobList.getJobById(e);
          var r = u[n.groupid];
          if (!r) {
            return [];
          }
          var i = [];
          var s = t.getLastPosition();
          for (var o = 0; o < r.length; o++) {
            var a = r[o][0] - s.x;
            var f = r[o][1] - s.y;
            var l = Math.sqrt(a * a + f * f);
            var c = window.GameMap.calcWayTime({ x: r[o][0], y: r[o][1] }, s);
            var h = Number((Math.atan(f / a) * 180) / Math.PI).round(0);
            if (a < 0) {
              h -= 180;
            }
            i.push({ dist: l, time: c, x: r[o][0], y: r[o][1], angle: h });
          }
          var p = function (e, t) {
            return e.dist * 1 > t.dist * 1 ? 1 : -1;
          };
          i.sort(p);
          return i;
        };
        t.getLastPosition = function () {
          var e = { x: Character.position.x, y: Character.position.y };
          var t = TaskQueue.queue;
          for (var n = 0; n < t.length; n++) {
            var r = t[n].wayData;
            if (r.x) {
              e.x = r.x;
              e.y = r.y;
            }
          }
          return e;
        };
        t.setMinimapJob = function (t) {
          if (f) {
            window.clearInterval(l);
            window.clearInterval(f);
          }
          var n = function (t) {
            if (
              !MinimapWindow.window ||
              e(MinimapWindow.window.divMain).find(".tw2gui_jobsearch_string")
                .length == 0 ||
              !e(MinimapWindow.window.divMain)
                .find(".tw2gui_jobsearch_string")
                .is(":visible")
            ) {
              return;
            }
            window.clearInterval(f);
            window.clearInterval(l);
            f = null;
            l = null;
            MinimapWindow.resetSearchContext();
            e("input.tw2gui_jobsearch_string", MinimapWindow.DOM)
              .val(t)
              .keyup();
          };
          l = setInterval(function () {
            window.clearInterval(f);
            window.clearInterval(l);
            f = null;
            l = null;
          }, 3e5);
          f = setInterval(function () {
            n(t);
          }, 200);
        };
        var p = function (e) {
          var n = false;
          var u = 0;
          var e = [];
          var a = s;
          var f = o;
          for (var a = s; a <= r; a++) {
            for (var f = o; f <= i; f++) {
              u++;
              e.push([a, f]);
              if (u > 299) {
                n = true;
                break;
              }
            }
            if (n) {
              break;
            }
            o = 0;
          }
          s = a;
          o = f + 1;
          if (e.length > 0) {
            window.GameMap.Data.Loader.load(e, function () {
              setTimeout(function () {
                t.loadMap();
              }, Timer.getTimeout());
            });
          }
        };
        t.loadMap = function () {
          p();
        };
        var d = function () {
          var t =
            "div#mmap_twdb_coords {position: absolute; bottom: 35px; left: 1px; display: block;}\n" +
            "div#mmap_twdb_coords > img {cursor:pointer; opacity:0.5; position:relative;}";
          TWDB.Util.addCss(t, "minimap");
          var n = function () {
            var t = e('<div id="mmap_twdb_coords" />');
            var n = new west.gui.Textfield();
            var r = new west.gui.Textfield();
            var i = "";
            var s = "";
            n.setWidth(45);
            r.setWidth(45).setMaxLength(5);
            var o = function () {
              var e = Number(n.getValue());
              var t = Number(r.getValue());
              window.GameMap.center(e, t);
              n.setValue("");
              r.setValue("");
            };
            e(n.getMainDiv())
              .find("input")
              .keyup(function (t) {
                window.setTimeout(function () {
                  var u;
                  if (t.ctrlKey && t.keyCode === 86 && !t.altKey) {
                    u = new RegExp("^([0-9]{1,5})([^0-9]+)([0-9]{1,5})$").exec(
                      e.trim(n.getValue())
                    );
                    if (u) {
                      n.setValue(u[1]);
                      r.setValue(u[3]);
                      e(r.getMainDiv()).find("input").focus();
                      i = n.getValue();
                      s = r.getValue();
                      return;
                    }
                    u = new RegExp("^([0-9]{1,5})$").exec(e.trim(n.getValue()));
                    if (u) {
                      n.setValue(u[1]);
                      e(r.getMainDiv()).find("input").focus();
                      i = n.getValue();
                      return;
                    }
                    n.setValue(i);
                  }
                  if (t.keyCode === 13) {
                    return o();
                  }
                  if (String(e.trim(n.getValue())).length === 0) {
                    i = n.getValue();
                    return;
                  }
                  u = new RegExp("^([0-9]{1,5})$").exec(e.trim(n.getValue()));
                  if (u) {
                    n.setValue(u[1]);
                    if (String(u[1]).length === 5) {
                      e(r.getMainDiv()).find("input").focus();
                    }
                    i = n.getValue();
                    return;
                  }
                  n.setValue(i);
                }, 100);
              });
            e(r.getMainDiv())
              .find("input")
              .keyup(function (t) {
                window.setTimeout(function () {
                  if (t.ctrlKey && t.keyCode == 86 && !t.altKey) {
                    var n = new RegExp("^([0-9]{1,5})$").exec(
                      e.trim(r.getValue())
                    );
                    if (n) {
                      r.setValue(n[1]);
                      e(r.getMainDiv()).find("input").focus();
                      s = r.getValue();
                      return;
                    }
                    r.setValue(s);
                  }
                  if (t.keyCode == 13) {
                    o();
                    return;
                  }
                  if (String(e.trim(r.getValue())).length == 0) {
                    s = r.getValue();
                    return;
                  }
                  var n = new RegExp("^([0-9]{1,5})$").exec(
                    e.trim(r.getValue())
                  );
                  if (n) {
                    r.setValue(n[1]);
                    if (String(n[1]).length == 5) {
                      e(r.getMainDiv()).find("input").focus();
                    }
                    s = r.getValue();
                    return;
                  }
                  r.setValue(s);
                }, 100);
              });
            var u = new west.gui.Button(
              "Ok",
              function () {
                o();
              },
              null,
              null,
              "Μετακινήστε τον χάρτη στις δεδομένες συντεταγμένες"
            ).setWidth("48");
            var a = e(
              '<img title="Εμφάνιση συντεταγμένων στον χάρτη" src="' +
              Images.iconCount +
              '" />'
            ).click(function () {
              if (e(this).css("opacity") === 1) {
                e(this).css("opacity", "0.5");
                window.GameMap.hideCoords();
              } else {
                e(this).css("opacity", "1");
                window.GameMap.showCoords();
              }
            });
            t.append(
              a,
              n.getMainDiv(),
              "<span>|</span>",
              r.getMainDiv(),
              e(u.getMainDiv()).css("top", "6px")
            );
            e(".minimap-right", MinimapWindow.window.divMain).append(t);
          };
          GameInject.injectMinimap(function () {
            n();
          });
        };
        return t;
      })($);
      _base.Map = Map;
      Debugger.Map = Map;
      var BonusJobs = (function (e) {
        var t = {},
          n,
          r = {},
          i = { gold: false, silver: false },
          s = function () {
            if (r.ready) {
              return;
            }
            if (!Settings.get("showbonusjobs", true)) {
              r.ready = true;
              return;
            }
            var e,
              t,
              s,
              a,
              f = get_server_date(),
              l = 1,
              c = new Date();
            c.setUTCHours(l);
            c.setMinutes(15);
            c.setSeconds(0);
            c.setMilliseconds(0);
            var h = c.getTime();
            if (
              f.getUTCHours() < l ||
              (f.getUTCHours() == l && f.getMinutes() < 15)
            )
              h -= 24 * 60 * 60 * 1e3;
            n = Cache.load("bonusjobs") || {};
            i = Cache.load("bonusdisplay") || { gold: false, silver: false };
            for (e in n) {
              if (!n.hasOwnProperty(e)) {
                continue;
              }
              t = n[e];
              s = 0;
              for (a in t) {
                if (!t.hasOwnProperty(a)) {
                  continue;
                }
                if (t[a].gold) {
                  s++;
                  continue;
                }
                if (t[a].time > h) {
                  s++;
                } else {
                  delete t[a];
                }
              }
              if (s == 0) {
                delete n[e];
              }
            }
            u();
            o();
            r.ready = true;
          };
        r = Loader.add("BonusJobs", "tw-db BonusJobs", s, {
          Settings: true,
          Cache: true,
          Jobs: true,
        });
        var o = function () {
          var e = function (e) {
            var t = window.GameMap.Helper.getPosition(e.parent);
            if (!isDefined(t) || !isDefined(t.x) || !isDefined(t.y)) {
              return;
            }
            if (
              !isDefined(window.GameMap.JobHandler.Featured[t.x + "-" + t.y])
            ) {
              if (isDefined(n[t.x + "-" + t.y])) {
                delete n[t.x + "-" + t.y];
                Cache.save("bonusjobs", n);
              }
              return;
            }
            var r = window.GameMap.JobHandler.Featured[t.x + "-" + t.y],
              i;
            n[t.x + "-" + t.y] = {};
            for (i in r) {
              if (!r.hasOwnProperty(i)) {
                continue;
              }
              n[t.x + "-" + t.y][i] = r[i];
              n[t.x + "-" + t.y][i]["time"] = new Date().getTime();
            }
            Cache.save("bonusjobs", n);
          };
          GameInject.injectRadialmenu(function (t) {
            e(t);
          });
        };
        var u = function () {
          var t =
            "div#mmap_twdb_bonusjobs {position:absolute; top:40px; right:10px;}\n" +
            'div#mmap_twdb_bonusjobs > input[type="checkbox"] {margin-left:6px; cursor:pointer;}\n' +
            "div#mmap_twdb_bonusjobs > div {position:relative; display:inline-block; height:9px; width:9px; margin:1px;}\n" +
            "div#mmap_twdb_bonusjobs > img {margin-left:3px; cursor:pointer; position:relative; display:inline-block; height:16px; width:16px; top:-4px;}";
          TWDB.Util.addCss(t, "minimap");
          var n = function () {
            var t = e('<div id="mmap_twdb_bonusjobs" />')
              .append(
                e(
                  '<input title="Εμφάνιση Χρυσών δουλειών" type="checkbox" ' +
                  (i.gold ? 'checked="checked"' : "") +
                  " />"
                ).change(function () {
                  i.gold = e(this).is(":checked");
                  a();
                })
              )
              .append(
                '<div title="Εμφάνιση Χρυσών δουλειών" style="background-color:yellow; border:1px solid red;" />'
              )
              .append(
                e(
                  '<input title="Εμφάνιση Ασημένιων δουλειών" type="checkbox" ' +
                  (i.silver ? 'checked="checked"' : "") +
                  " />"
                ).change(function () {
                  i.silver = e(this).is(":checked");
                  a();
                })
              )
              .append(
                '<div title="Εμφάνιση Ασημένιων δουλειών" style="background-color:white; border:1px solid black;" />'
              )
              .append(
                e(
                  '<img title="Εισαγωγή - Δουλειών με μπόνους" src="' +
                  Images.iconExport +
                  '" />'
                ).click(function () {
                  f();
                })
              )
              .append(
                e(
                  '<img title="Εξαγωγή - Δουλειών με μπόνους" src="' +
                  Images.iconImport +
                  '" />'
                ).click(function () {
                  l();
                })
              )
              .append(
                e(
                  '<img title="Επαναφορά - Δουλειών με μπόνους" src="' +
                  Images.iconReset2 +
                  '" />'
                ).click(function () {
                  c();
                })
              );
            e(MinimapWindow.window.divMain).find(".minimap-right").append(t);
            a();
          };
          GameInject.injectMinimap(function () {
            n();
          });
        };
        var a = function () {
          Cache.save("bonusdisplay", i);
          e(
            "#minimap_worldmap > div.TWDBbonusjob",
            MinimapWindow.window.divMain
          ).remove();
          var t = function (t, n, r, i, s) {
            var o = 0.00513;
            var u = parseInt(t * o, 10) - 3;
            var a = parseInt(n * o, 10) + 2;
            var f = "";
            if (i > 1) {
              f =
                "-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);";
            }
            var l = e(
              '<div class="TWDBbonusjob" style="z-index:7;position:absolute;display:block;width:4px;height:4px;background-color:' +
              (r ? "yellow" : "white") +
              ";left:" +
              u +
              "px;top:" +
              a +
              "px;" +
              f +
              "border:1px solid " +
              (r ? "red" : "black") +
              ';" />'
            )
              .click(
                (function (e, t) {
                  return function () {
                    window.GameMap.center(e, t);
                  };
                })(t, n)
              )
              .addMousePopup(
                '<div style="min-width:60px;text-align:center">' +
                s.join('<div class="marker_popup_divider"></div>') +
                "</div>"
              );
            e(MinimapWindow.window.divMain).find("#minimap_worldmap").append(l);
          };
          var r = n;
          for (key in r) {
            if (!r.hasOwnProperty(key)) {
              continue;
            }
            var s = r[key];
            var o = false;
            var u = 0;
            var a = [];
            for (var f in s) {
              if (!s.hasOwnProperty(f)) {
                continue;
              }
              if (s[f].gold) {
                if (!i.gold) {
                  continue;
                }
                o = true;
                u++;
              }
              if (s[f].silver) {
                if (!i.silver) {
                  continue;
                }
                u++;
              }
              var l = s[f].x;
              var c = s[f].y;
              job = JobList.getJobById(s[f].job_id);
              a.push(Jobs.getPopup(s[f].job_id, s[f].gold ? "gold" : "silver"));
            }
            if (u > 0) {
              t(l, c, o, u, a);
            }
          }
        };
        var f = function () {
          var t = [];
          for (var r in n) {
            if (!n.hasOwnProperty(r)) {
              continue;
            }
            var i = n[r];
            for (var s in i) {
              if (!i.hasOwnProperty(s)) {
                continue;
              }
              var o = Jobs.getJobById(s);
              var u = Math.ceil(i[s].x / 6635) + (i[s].y > 10176 ? 7 : 0);
              t.push({
                name: o.name,
                bonus: i[s].gold ? "gold" : "silver",
                country: u,
                x: i[s].x,
                y: i[s].y,
                id: s,
              });
            }
          }
          var a = e("<textarea />")
            .css({
              width: "500px",
              height: "200px",
              "background-color": "transparent",
              "border-width": "0px",
            })
            .click(function () {
              this.select();
            });
          var f = "";
          var l = 1;
          var c = function (e) {
            if (f !== e) {
              f = e;
              l = 1;
            } else {
              l *= -1;
            }
            var n = function (e, t) {
              return e[f] > t[f] ? l : -1 * l;
            };
            t.sort(n);
            var r = "";
            var i = "";
            for (var s = 0; s < t.length; s++) {
              var o = t[s];
              if (f == "country" && i !== o.country) {
                i = o.country;
                r += "-- ?country " + i + " --" + "\n";
              }
              r +=
                o.name +
                "; " +
                o.bonus +
                "; " +
                o.x +
                "-" +
                o.y +
                "; " +
                o.id +
                "\n";
            }
            a.val(r);
          };
          c("name");
          var h = e("<div />")
            .css({
              width: "500px",
              height: "22px",
              position: "relative",
              display: "block",
            })
            .append(
              e(
                '<img src="' +
                Images.iconName +
                '" title=" Ταξινόμηση κατά Όνομα "  style="margin:0px 2px 0px 2px;cursor:pointer;" />'
              ).click(function () {
                c("name");
              })
            )
            .append(
              e(
                '<img src="' +
                Images.iconCount +
                '" title=" Ταξινόμηση κατά Κομητεία " style="margin:0px 2px 0px 2px;cursor:pointer;" />'
              ).click(function () {
                c("country");
              })
            );
          new west.gui.Dialog(
            "Εξαγωγή - Δουλειών με μπόνους",
            e("<div />").append(h).append(a)
          )
            .addButton("ΟΚ")
            .show();
        };
        var l = function () {
          var t = e("<textarea />").css({ width: "400px", height: "100px" });
          var r = function () {
            var r = t.val(),
              i = r.split(/[\n,\r,\r\n]/),
              s,
              o,
              u,
              f,
              l,
              c;
            for (s = 0; s < i.length; s++) {
              o = i[s].split(";", 4);
              if (
                o.length !== 4 ||
                !e.isNumeric(o[3]) ||
                !Jobs.getJobById(Number(o[3]))
              ) {
                continue;
              }
              u = String(o[2]).split("-", 2);
              if (u.length !== 2 || !e.isNumeric(u[0]) || !e.isNumeric(u[1])) {
                continue;
              }
              f = Number(o[3]);
              l = {
                gold: e.trim(o[1]) == "gold" ? true : false,
                group_id: Jobs.getJobById(f).groupid,
                job_id: f,
                silver: e.trim(o[1]) == "gold" ? false : true,
                x: Number(u[0]),
                y: Number(u[1]),
                time: new Date().getTime(),
              };
              c = Number(u[0]) + "-" + Number(u[1]);
              if (!isDefined(n[c])) {
                n[c] = {};
              }
              n[c][f] = l;
            }
            Cache.save("bonusjobs", n);
            a();
          };
          new west.gui.Dialog("Εισαγωγή - Δουλειών με μπόνους", t)
            .addButton("ΟΚ", r)
            .addButton("Ακύρωση")
            .show();
        };
        var c = function (e) {
          try {
            if (e) {
              for (var t in n) {
                if (!n.hasOwnProperty(t)) {
                  continue;
                }
                var r = n[t];
                var i = 0;
                for (var s in r) {
                  if (!r.hasOwnProperty(s)) {
                    continue;
                  }
                  if (e == "gold" && r[s].gold) {
                    i++;
                    continue;
                  }
                  if (e == "silver" && r[s].silver) {
                    i++;
                    continue;
                  }
                  delete r[s];
                }
                if (i == 0) {
                  delete n[t];
                }
              }
              Cache.save("bonusjobs", n);
              a();
              new UserMessage(
                "Επαναφορά - Δουλειών με μπόνους",
                UserMessage.TYPE_SUCCESS
              ).show();
            } else {
              var o = "tw-db Επαναφορά";
              var u =
                '<div class="txcenter">Επαναφορά - Δουλειών με μπόνους</div>';
              new west.gui.Dialog(o, u, west.gui.Dialog.SYS_QUESTION)
                .addButton("Όλες", function () {
                  c("all");
                })
                .addButton("Χρυσές", function () {
                  c("silver");
                })
                .addButton("Ασημένιες", function () {
                  c("gold");
                })
                .addButton("Ακύρωση")
                .show();
            }
          } catch (f) {
            Error.report(f, "bonusjob reset");
          }
        };
        return t;
      })($);
      Debugger.BonusJobs = BonusJobs;
      var Chat = (function (e) {
        var t = {};
        var n = false;
        var i = {
          ":/": "sore",
          "=:)": "invader",
          ">:(": "angry",
          ":'(": "cry",
          ":)": "smile",
          ":D": "grin",
          ":(": "frown",
          ";)": "smirk",
          ":P": "tongue",
          ":o": "ohmy",
          ":x": "muted",
          ":|": "silent",
          ">.<": "palm",
          "-.-": "nc",
          "o.O": "oo",
          "O.o": "oo",
          "^_^": "happy",
          o_O: "oo",
          "x.x": "xx",
          "T.T": "cry",
          "el pollo diablo!": "elpollodiablo",
          "!el pollo diablo": "elpollodiablo_mirror",
          "el pollo diablo?!": "elpollodiablo_front",
          "add me": "sheep.gif",
          "add me!": "sheep_rainbow.gif",
        };
        var s = [];
        var o = {};
        var u = function () {
          if (o.ready) {
            return;
          }
          if (Settings.get("chat", true)) {
            GameInject.ChatLayout(function (e) {
              f(e);
            });
            GameInject.ChatSend(function (e) {
              a(e);
            });
            var e = Cache.load("chathistory");
            if (typeof e == "object" && e !== null) {
              if (e.color) {
                e = e.color;
                Cache.save("chathistory", e);
              }
              s = e;
            }
            if (
              $(
                "div.tw2gui_window.chat.nominimize div.tw2gui_window_buttons_close"
              ).click().length > 0
            ) {
              ChatWindow.open();
            }
          }
          o.ready = true;
        };
        o = Loader.add("Chat", "tw-db Chat Enhancement", u, {
          Settings: true,
          Cache: true,
        });
        var a = function (e) {
          var t = e.input.val();
          if (!t) {
            return;
          }
          var n = function (t) {
            if (e._caps) {
              t = t.toUpperCase();
            }
            if (e._bold) {
              t = t.replace(/\*/g, "~");
              t = "*" + t + "*";
            }
            return t;
          };
          if (t.substr(0, 1) == "/") {
            r = new RegExp("^\\/(tell|msg)\\s+([^:]+):(.+)$");
            v = t.match(r);
            if (v) {
              if (e._color) {
                t = "/tell " + v[2] + ":/" + e._color + n(v[3]);
              } else {
                t = "/tell " + v[2] + ":" + n(v[3]);
              }
            }
            e.input.val(t);
            return;
          }
          t = n(t);
          if (e._color) {
            t = "/" + e._color + t;
          }
          e.input.val(t);
          return;
        };
        var f = function (e) {
          var t = e.mainDiv.find(".TWDBchat");
          if (t.length == 0) {
            e.mainDiv
              .find(".chat_input")
              .find(".cbg")
              .css("left", "38px")
              .addClass(".TWDBchat");
            e._color = null;
            e._bold = false;
            e._caps = false;
            l(e);
            m(e);
          }
        };
        var l = function (t) {
          var n;
          var r = e(
            '<span style="padding:3px;display:none;width:160px;position:absolute;bottom:20px;left:-3px;" />'
          );
          for (var s in i) {
            n = i[s].indexOf(".gif") === -1 ? i[s] + ".png" : i[s];
            r.append(
              e(
                '<img src="' +
                Game.cdnURL +
                "/images/chat/emoticons/" +
                n +
                '?1" title="' +
                s +
                '" style="cursor:pointer;margin:1px;" />'
              ).click(
                (function (e) {
                  return function () {
                    t.input.val(t.input.val() + " " + e + " ");
                    t.input.focus();
                    r.hide();
                  };
                })(s)
              )
            );
          }
          var o = false;
          t.mainDiv.find(".chat_input").append(
            e(
              '<div style="position:absolute;width:15px;height:15px;bottom:7px;vertical-align:top;left:23px;cursor:pointer;" />'
            )
              .append(
                e(
                  '<img style="vertical-align:top;" src="' +
                  Images.iconChatSM +
                  '" />'
                )
              )
              .append(r)
              .on("mouseenter", function () {
                  o = true;
                  r.show();
                })
              .on("mouseleave", function () {
                  o = false;
                  setTimeout(function () {
                    if (!o) {
                      r.hide();
                    }
                  }, 200);
                }
              )
          );
        };
        var c = function (e) {
          var t = e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
          if (t) {
            return (
              String(parseInt((t[1] * 9) / 255 + 0.5, 10)) +
              String(parseInt((t[2] * 9) / 255 + 0.5, 10)) +
              String(parseInt((t[3] * 9) / 255 + 0.5, 10))
            );
          } else {
            return "000";
          }
        };
        var h = function (e) {
          return (
            "rgb(" +
            parseInt((e[0] * 255) / 9, 10) +
            "," +
            parseInt((e[1] * 255) / 9, 10) +
            "," +
            parseInt((e[2] * 255) / 9, 10) +
            ")"
          );
        };
        var p = function (e, t) {
          if (isDefined(t.color)) {
            var n = c(t.color);
            var r = s.length;
            for (var i = 0; i < r; i++) {
              var o = s.shift();
              if (o !== n) {
                s.push(o);
              }
            }
            s.push(n);
            if (s.length > 5) {
              s.shift();
            }
            Cache.save("chathistory", s);
            e._color = n;
          }
          if (t.color === null) {
            e._color = null;
          }
          if (isDefined(t.bold)) {
            e._bold = t.bold;
          }
          if (isDefined(t.caps)) {
            e._caps = t.caps;
          }
          if (e._bold) {
            e.mainDiv.find(".TWDBtext").css("font-weight", "bold");
          } else {
            e.mainDiv.find(".TWDBtext").css("font-weight", "normal");
          }
          if (e._caps) {
            e.mainDiv.find(".TWDBtext").html("A");
          } else {
            e.mainDiv.find(".TWDBtext").html("a");
          }
          if (e._color) {
            e.mainDiv
              .find(".TWDBcolor")
              .children("div")
              .children("div")
              .css("background-color", h(e._color));
            if (e._color[1] >= 4) {
              e.mainDiv.find(".TWDBtext").css("color", "#000");
            } else {
              e.mainDiv.find(".TWDBtext").css("color", "#fff");
            }
          } else {
            e.mainDiv
              .find(".TWDBcolor")
              .children("div")
              .children("div")
              .css("background-color", "#e0e2e0");
            e.mainDiv.find(".TWDBtext").css("color", "#000");
          }
          e.input.focus();
        };
        var d = function (t) {
          return e(
            '<div style="position:absolute;display:block;width:15px;height:15px;"/>'
          )
            .append(
              e(
                '<div style="position:absolute;width:15px;height:1px;top:7px;left:0px;background-color:' +
                t +
                ';opacity:0.1;" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:1px;height:15px;top:0px;left:7px;background-color:' +
                t +
                ';opacity:0.1;" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:15px;height:3px;top:6px;left:0px;background-color:' +
                t +
                ';opacity:0.33;" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:3px;height:15px;top:0px;left:6px;background-color:' +
                t +
                ';opacity:0.33;" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:15px;height:5px;top:5px;left:0px;background-color:' +
                t +
                ';opacity:0.47;" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:5px;height:15px;top:0px;left:5px;background-color:' +
                t +
                ';opacity:0.47;" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:13px;height:9px;top:3px;left:1px;background-color:' +
                t +
                ';opacity:0.6;" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:9px;height:13px;top:1px;left:3px;background-color:' +
                t +
                ';opacity:0.6;" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:11px;height:11px;top:2px;left:2px;background-color:' +
                t +
                ';opacity:0.8;" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:13px;height:7px;top:4px;left:1px;background-color:' +
                t +
                ';" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:7px;height:13px;top:1px;left:4px;background-color:' +
                t +
                ';" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:9px;height:11px;top:2px;left:3px;background-color:' +
                t +
                ';" />'
              )
            )
            .append(
              e(
                '<div style="position:absolute;width:11px;height:9px;top:3px;left:2px;background-color:' +
                t +
                ';" />'
              )
            );
        };
        var m = function (t) {
          try {
            var n = e(
              '<span style="position:relative;display:none;padding:3px;width:300px;position:absolute;bottom:17px;left:-5px;" />'
            );
            n.append(
              '<div style="position:absolute;height: 50px; width:25;display:block" />'
            );
            var r = [
              "black",
              "red",
              "blue",
              "yellow",
              "green",
              "brown",
              "magenta",
              "gray",
            ];
            n.append(
              e(
                '<div style="display:inline-block;width:15px;height:15px;padding:2px;opacity:0.5;"/>'
              )
                .append(d("#e0e2e0"))
                .append(
                  e(
                    '<div style="position:absolute;width:15px;height:15px;" ><table border="0" cellspacing="0" cellpadding="0" style="padding:0px;margin:0px;border:0px;" ><tr><td style="display:block;width:15px;height:15px;vertical-align:top;text-align:center;font-size:11px;color:#000;font-weight:bold;">a</td></tr></table></div>'
                  )
                )
                .click(function () {
                  if (e(this).css("opacity") == 0.5) {
                    p(t, { bold: true });
                    e(this).css("opacity", 1);
                  } else {
                    p(t, { bold: false });
                    e(this).css("opacity", 0.5);
                  }
                  n.hide();
                })
            );
            n.append(
              e(
                '<div style="display:inline-block;width:15px;height:15px;padding:2px;opacity:0.5;"/>'
              )
                .append(d("#e0e2e0"))
                .append(
                  e(
                    '<div style="position:absolute;width:15px;height:15px;" ><table border="0" cellspacing="0" cellpadding="0" style="padding:0px;margin:0px;border:0px;" ><tr><td style="display:block;width:15px;height:15px;vertical-align:top;text-align:center;font-size:11px;color:#000;">A</td></tr></table></div>'
                  )
                )
                .click(function () {
                  if (e(this).css("opacity") == 0.5) {
                    p(t, { caps: true });
                    e(this).css("opacity", 1);
                  } else {
                    p(t, { caps: false });
                    e(this).css("opacity", 0.5);
                  }
                  n.hide();
                })
            );
            for (var i = 0; i < r.length; i++) {
              n.append(
                e(
                  '<div style="display:inline-block;width:15px;height:15px;padding:2px;"/>'
                )
                  .append(d(r[i]))
                  .click(function () {
                    p(t, {
                      color: e(this)
                        .children("div")
                        .children("div")
                        .css("background-color"),
                    });
                    n.hide();
                  })
              );
            }
            n.append(
              e(
                '<div style="margin:2px;display:inline-block;vertical-align:top;width:15px;height:15px;background:url(' +
                Images.iconChatNoColor +
                ')no-repeat 0px 0px transparent;"/>'
              ).click(function () {
                p(t, { color: null });
                n.hide();
              })
            );
            n.append(
              e(
                '<div style="margin:3px;display:inline-block;vertical-align:top;width:13px;height:13px;background:url(' +
                Images.iconChat +
                ')no-repeat 0px 0px transparent;"/>'
              ).click(function () {
                g(t);
                n.hide();
              })
            );
            var s = false;
            t.mainDiv.find(".chat_input").append(
              e(
                '<div class="TWDBcolor" style="position:absolute;width:15px;height:15px;bottom:7px;vertical-align:top;left:5px;cursor:pointer;" />'
              )
                .append(d("#e0e2e0"))
                .append(
                  e(
                    '<div style="position:absolute;width:15px;height:15px;" ><table border="0" cellspacing="0" cellpadding="0" style="padding:0px;margin:0px;border:0px;" ><tr><td class="TWDBtext" style="display:block;width:15px;height:15px;vertical-align:top;text-align:center;font-size:11px;color:#000;">a</td></tr></table></div>'
                  )
                )
                .append(n)
                .on("mouseenter", function () {
                    s = true;
                    n.show();
                  })
                .on("mouseleave", function () {
                    s = false;
                    setTimeout(function () {
                      if (!s) {
                        n.hide();
                      }
                    }, 200);
                  }
                )
            );
          } catch (o) {
            Error.report(o, "injectColor");
          }
        };
        var g = function (t) {
          var n = t.mainDiv.find(".TWDBcolor").children("div").children("div");
          var r = c(n.css("background-color"));
          var i = {};
          i.customColor = e(
            '<div style="width:50px;height:50px;display:inline-block;vertical-align:top;margin: 5px;" />'
          );
          i.customColor.css(
            "background-color",
            h(c(n.css("background-color")))
          );
          var o = function (e, t) {
            if ((t && r[e] == 9) || (!t && r[e] == 0)) {
              return;
            }
            var n = [Number(r[0]), Number(r[1]), Number(r[2])];
            n[e] += t ? 1 : -1;
            r = String(n[0]) + String(n[1]) + String(n[2]);
            i.input.val(r);
            if (r[e] == 0) {
              i.plusminus[e].children(".butMinus").css("opacity", 0.3);
            } else {
              i.plusminus[e].children(".butMinus").css("opacity", 1);
            }
            if (r[e] == 9) {
              i.plusminus[e].children(".butPlus").css("opacity", 0.3);
            } else {
              i.plusminus[e].children(".butPlus").css("opacity", 1);
            }
            i.customColor.css("background-color", h(r));
          };
          var u = e(
            '<div style="width:42px;height:48px;display:inline-block;vertical-align:top;margin: 6px 5px 6px 5px;" />'
          );
          i.plusminus = [];
          for (var a = 0; a < 3; a++) {
            switch (a) {
              case 0:
                var f = "#f00";
                break;
              case 1:
                var f = "#0f0";
                break;
              case 2:
                var f = "#00f";
                break;
            }
            i.plusminus[a] = e(
              '<div class="tw2gui_plusminus" style="display:inline-block;background-color:' +
              f +
              ';width:12px;height:46px;padding:1px;"><span class="butPlus" style="cursor:pointer;"></span><span style="width:12px;height:10px;display:inline-block;"></span><span class="butMinus" style="cursor:pointer;"></span></div>'
            );
            i.plusminus[a].children(".butMinus").click(
              (function (e) {
                return function () {
                  o(e, false);
                };
              })(a)
            );
            i.plusminus[a].children(".butPlus").click(
              (function (e) {
                return function () {
                  o(e, true);
                };
              })(a)
            );
            if (r[a] == 0) {
              i.plusminus[a].children(".butMinus").css("opacity", 0.3);
            }
            if (r[a] == 9) {
              i.plusminus[a].children(".butPlus").css("opacity", 0.3);
            }
            u.append(i.plusminus[a]);
          }
          u.append(i.plusminus[0])
            .append(i.plusminus[1])
            .append(i.plusminus[2]);
          i.input = e(
            '<input maxLength="3" type="text" value="' +
            r +
            '" style="position: relative; top: -35px; left: 2px;color: rgb(255, 255, 255); font-weight: bold; letter-spacing: 6px; text-shadow: 1px 1px 1px rgb(0, 0, 0); width: 43px; background: none repeat scroll 0pt 0pt transparent; border: medium none; height: 18px; line-height: 18px; margin: 0pt; outline: medium none;" />'
          );
          i.input.keyup(function () {
            var e = i.input.val();
            if (e.length < 3) {
              return;
            }
            if (!e.match(/(\d){3}/)) {
              i.input.val(r);
              return;
            }
            r = e;
            for (var t = 0; t < 3; t++) {
              if (r[t] == 0) {
                i.plusminus[t].children(".butMinus").css("opacity", 0.3);
              } else {
                i.plusminus[t].children(".butMinus").css("opacity", 1);
              }
              if (r[t] == 9) {
                i.plusminus[t].children(".butPlus").css("opacity", 0.3);
              } else {
                i.plusminus[t].children(".butPlus").css("opacity", 1);
              }
            }
            i.customColor.css("background-color", h(r));
            i.input.attr("value", r);
          });
          u.append(i.input);
          var l = { bold: t._bold, caps: t._caps };
          var d = e(
            '<div style="height:50px;display:inline-block;vertical-align:top;margin: 5px;" />'
          );
          var v = new west.gui.Checkbox(
            "*έντονα*",
            l.bold ? "tw2gui_checkbox_checked" : "",
            function () {
              l.bold = l.bold ? false : true;
            }
          );
          e(v.getMainDiv()).css("display", "block").css("margin-bottom", "5px");
          d.append(v.getMainDiv());
          var v = new west.gui.Checkbox(
            "ΚΕΦΑΛΑΙΑ",
            l.caps ? "tw2gui_checkbox_checked" : "",
            function () {
              l.caps = l.caps ? false : true;
            }
          );
          d.append(v.getMainDiv());
          var m = e(
            '<div style="width:160px;height:50px;display:inline-block;vertical-align:top;border: 1px solid #000;padding: 0px;margin: 5px;" />'
          );
          m.append(
            '<span style="width:140px;height:15px;display:inline-block;text-align:center;padding: 4px 0px 2px 0px;font-size:11px;">Ιστορικό</span>'
          );
          for (var a = 0; a < s.length; a++) {
            var g = e(
              '<div style="width:20px;height:20px;display:inline-block;vertical-align:top;margin: 0px 0px 0px 10px;cursor:pointer;background-color:' +
              h(s[a]) +
              ';" />'
            );
            g.click(function () {
              p(t, {
                color: e(this).css("background-color"),
                bold: l.bold,
                caps: l.caps,
              });
              i.colorBox.hide();
            });
            m.append(g);
          }
          var y = e("<div />")
            .append(i.customColor)
            .append(u)
            .append(d)
            .append(m);
          i.colorBox = new west.gui.Dialog("Χρώμα", y);
          i.colorBox.addButton("OK", function () {
            p(t, {
              color: e(i.customColor).css("background-color"),
              bold: l.bold,
              caps: l.caps,
            });
          });
          i.colorBox.addButton("Ακύρωση");
          i.colorBox.show();
        };
        return t;
      })(jQuery);
      Debugger.Chat = Chat;
      var Collector = (function (e) {
        var t = {};
        var n = false;
        var r = {};
        var i = function () {
          if (r.ready) {
            return;
          }
          if (Settings.get("collector", true)) {
            GameInject.injectItem("Trader", "collector", function (e) {
              return s(e);
            });
            GameInject.injectTrader("collector", function (e) {
              if (t.isNewItem(e.item_id)) {
                var n =
                  '<img src="' +
                  Images.iconNew +
                  '" class="TWDBcollector" title=" Δεν έχετε ακόμα αυτό το αντικείμενο " ' +
                  ' style="position:absolute;top:0px;left:0px;padding:0px;border:0px;margin:0px;" />';
                return n;
              }
              return "";
            });
            GameInject.injectMarket("collector", function (e) {
              return o(e);
            });
            GameInject.injectGetBids();
          }
          r.ready = true;
        };
        r = Loader.add("Collector", "tw-db Collector", i, { Settings: true });
        t.isNewItem = function (e) {
          var t = w.ItemManager.get(e);
          var n = w.Bag.getItemsIdsByBaseItemId(t.item_base_id);
          var r = w.Wear.wear[t.type];
          var i = r && r.obj.item_base_id == t.item_base_id;
          var s = TWDB.ClothCalc.bids[t.item_id];
          var o = TWDB.ClothCalc.recipes[t.item_id];
          if (n.length || i || s || o) {
            return false;
          } else {
            return true;
          }
        };
        var s = function (e) {
          e.divMain.find(".TWDBcollector").remove();
          if (t.isNewItem(e.obj.item_id)) {
            e.divMain.append(
              '<img src="' +
              Images.iconNew +
              '" class="TWDBcollector" title=" Δεν έχετε ακόμα αυτό το αντικείμενο " style="position:absolute;top:-8px;left:-15px;padding:0px;border:0px;margin:0px;" />'
            );
          }
        };
        var o = function (e) {
          if (t.isNewItem(e)) {
            return (
              '<img src="' +
              Images.iconNew +
              '" class="TWDBcollector" title=" Δεν έχετε ακόμα αυτό το αντικείμενο " style="width:18px;height:18px;position:relative;top:0px;left:0px;padding:0px;border:0px;margin:0px;" />'
            );
          } else {
            return "";
          }
        };
        return t;
      })($);
      Debugger.Collector = Collector;
      var Snippets = (function ($) {
        var _self = {};
        var timeout = null;
        var interval = null;
        var loader = {};
        var init = function () {
          if (loader.ready) {
            return;
          }
          trustTWDB();
          if (Settings.get("customcounterpos", true)) {
            repositionEventCounters();
          }
          if (Settings.get("noscrollbars", false)) {
            disableScrollbars();
          }
          if (Settings.get("fortrecruitment", true)) {
            activateFortRecruitment();
          }
          if (Settings.get("noworkqueuepa", true)) {
            removeWorkQueuePA();
          }
          if (Settings.get("nofetchallpa", false)) {
            removeVariousPA();
          }
          if (Settings.get("nowofnuggets", false)) {
            changeWofNuggets();
          }
          if (Settings.get("marketselldialog", true)) {
            enhanceMarketSellDialog();
          }
          if (Settings.get("weeklycrafting", true)) {
            weeklyCrafting();
          }
          if (Settings.get("pinitems", true)) {
            GameInject.injectInventoryAddItemsPinItems();
            GameInject.injectInventoryAddItemDivToInvPinItems();
          }
          if (Settings.get("telegramsource", true))
            GameInject.injectTelegramWindowAppendTelegramDisplaySource();
          if (Settings.get("noshopsale", false)) {
            supressOnGoingEntries();
          }
          if (Settings.get("expbarvalues", true)) {
            expBarValues();
          }
          if (Settings.get("mini_chatgui", false)) {
            allowChatGuiMinimize();
          }
          if (Settings.get("tasklistpoints", true)) {
            addTaskJobsHints();
            GameInject.injectTaskJobs();
          }
          var e = new ServerDate().date;
          loader.ready = true;
        };
        loader = Loader.add("Snippets", "tw-db code Snippets", init, {
          Settings: true,
        });
        var trustTWDB = function () {
          try {
            var str = showlink.toString();
            str = str.replace("the-west", "tw-db|the-west");
            str = str.replace("|com|", "|com|info|");
            eval("showlink = " + str);
          } catch (e) { }
        };
        var repositionEventCounters = function () {
          TWDB.Util.addCss(
            "@media (min-width: 1320px) { .custom_unit_counter {top: -1px!important; margin-left: 310px!important;} #hiro_friends_container {top: -1px!important; margin-right: 304px!important;} }"
          );
        };
        var disableScrollbars = function () {
          $("body").css({ overflow: "hidden" });
        };
        var allowChatGuiMinimize = function () {
          TWDB.Util.addCss(
            "div#ui_bottomleft { width: auto; overflow: hidden; }" +
            "div#ui_chat { margin-top: 12px; }" +
            "div#ui_chat div#toggleMinChat { position: absolute; top: -14px; left: 5px; width: 27px; display: block; background-size: 108px 42px; border: 0px solid rgba(0, 0, 0, 0); background-clip: content-box; }" +
            "div#ui_chat.minchat div#toggleMinChat { background-position: 0px 0px; border-width: 0px 8px 34px 0px; }" +
            "div#ui_chat.minchat div#servertime { display: none; }" +
            "div#ui_chat.minchat > div.tabs div { display: none; }" +
            "div#ui_chat.minchat div.container div.friend { display: none!important; }" +
            "div#ui_chat.minchat div.container div.general { display: block!important; }" +
            "div#ui_chat.minchat div.container div.vertical_divider { display: none; }" +
            "div#ui_chat.minchat img.leave_channel { display: none!important; }" +
            "div#ui_chat div.minchat_tabr { display: none; }" +
            'div#ui_chat.minchat div.minchat_tabr { display: block; position: absolute; left: 32px; top: 0px; width: 8px; height: 34px; background: url("' +
            to_cdn("images/interface/chat/chat-top.png?1") +
            '") top right; }' +
            "div#ui_chat.minchat { position: relative; left: -10px; top: 4px; width: 39px; }" +
            'div#ui_chat.minchat > div.tabs { width: 32px; background: url("' +
            to_cdn("images/interface/chat/chat-top.png?1") +
            '"); }' +
            "div#ui_chat.minchat div.chat_channel { width: 24px; }" +
            "div#ui_chat.minchat div.chat_channel .new_message { left: 2px; top: 0px; }" +
            "div#ui_chat.minchat div.chat_channel div.online_count { background: none; position: absolute; right: 0px; top: -1px; width: auto; height: auto; line-height: normal; padding: 0px; font-size: 8pt; font-weight: bold; text-align: right; text-shadow: -1px 1px 1px #FFF, 0px 0px 2px #FFF; cursor: default; }" +
            "div#ui_chat.minchat div.container { width: 40px; background-position-x: right; }" +
            "div#ui_chat.minchat div.row_title { left: 5px; width: 32px; opacity: 0; }" +
            "div#ui_chat.minchat div.tw2gui_scrollpane { width: 50px; }",
            "minchat"
          );
          $("div#ui_chat")
            .append('<div class="minchat_tabr" />')
            .toggleClass("minchat", Settings.get("mini_chatgui_min", true))
            .children(".tabs")
            .first()
            .append(
              $('<div id="toggleMinChat" class="tw2gui_arrow_up_top" />').on(
                "click",
                function (e) {
                  e.stopPropagation();
                  Settings.set(
                    "mini_chatgui_min",
                    $("div#ui_chat").toggleClass("minchat").hasClass("minchat")
                  );
                  return false;
                }
              )
            );
        };
        var addTaskJobsHints = function () {
          var e =
            "div#ui_workcontainer div.twdb_lp_hint { position: absolute; left: 2px; width: 18px; height: 18px; background-color: #432; border: 2px ridge #976; border-radius: 11px; background-blend-mode: soft-light; }" +
            "div.twdb_lp_hint > img { position: absolute; left: 1px; top: 1px; }";
          TWDB.Util.addCss(e);
          var t = function () {
            if (TaskQueue.queue.length) {
              var e,
                t = $("div#ui_workcontainer"),
                n,
                r;
              for (e = 0; e < TaskQueue.queue.length; e++) {
                if (TaskQueue.queue[e].type === "job") {
                  n = null;
                  r =
                    TWDB.ClothCalc.calcdata.loaded &&
                    TaskQueue.queue[e].data.job_points <
                    TWDB.ClothCalc.calcdata.jobs[
                      TaskQueue.queue[e].data.job.id
                    ].laborpoints.sum -
                    5;
                  if (TaskQueue.queue[e].data.job_points < 0) {
                    n = west.gui.Icon.get(
                      "exclamation-priority-3",
                      "αρνητικοί πόντοι εργασίας"
                    );
                  } else if (
                    TaskQueue.queue[e].data.job_points <
                    TaskQueue.queue[e].data.job.malus / 5
                  ) {
                    n = west.gui.Icon.get(
                      "exclamation-priority-2",
                      "χαμηλοί πόντοι εργασίας"
                    );
                  } else if (r) {
                    n = west.gui.Icon.get(
                      "exclamation-priority-1",
                      "Μη βέλτιστοι πόντοι εργασίας"
                    );
                  }
                  if (n !== null) {
                    $(".task-queuePos-" + e + " > div.icon", t)
                      .children(".twdb_lp_hint")
                      .remove()
                      .end()
                      .append(
                        $('<div class="twdb_lp_hint" />')
                          .toggleClass("tw2gui-iconset tw2gui-icon-star", !r)
                          .append(n)
                      );
                  }
                }
              }
            }
          };
          EventHandler.listen(["taskqueue-updated", "taskqueue-ready"], t);
        };
        var expBarValues = function () {
          if (isDefined(w.SlySuite)) {
            TWDB.Settings.set("expbarvalues", false);
            return;
          }
          TWDB.Util.addCss(
            "div#ui_experience_bar .label {text-shadow: 3px 1px 1px #000, 3px -1px 1px #000, -2px 1px 1px #000, -2px 0px 0px #000;}"
          );
          var e = function (e) {
            return Math.abs(e) >= 1e5
              ? Math.fround(e / 1e6).toFixed(2) + "m"
              : Math.abs(e) >= 1e4
                ? Math.round(e / 1e3) + "k"
                : e;
          };
          var t = function () {
            var t = $("#ui_experience_bar"),
              n =
                undefined === Character.getTrackingAchievement()
                  ? WestUi.updateTrackXp(t)
                  : WestUi.updateTrackAchievement(t);
            $(".label", t).off("mouseenter mouseleave");
            $(".label span", t).show();
            var r = "";
            if (Character.level < 250) {
              r = n.percent + "% - " + e(n.current) + " / " + e(n.required);
              r += " (" + e(n.required - n.current) + ")";
            } else r = Character.experience.toLocaleString();
            $(".label span", t).html(r);
          };
          EventHandler.listen("character_exp_changed", t);
          EventHandler.listen("character_tracking_achievement_changed", t);
          t();
        };
        var supressOnGoingEntries = function () {
          var e = ["shop_sale"];
          var t = function (e) {
            if ($.isArray(e)) {
              for (var n = 0; n < e.length; n++) {
                t(e[n]);
              }
            } else if (typeof e === "string") {
              var r = WestUi.NotiBar.main.list;
              for (var n = 0; n < r.length; n++) {
                if (
                  $(r[n].element)
                    .children()
                    .is("div.image." + e)
                ) {
                  WestUi.NotiBar.remove(r[n]);
                }
              }
            }
          };
          var n = function (e) {
            try {
              WestUi.NotiBar.__twdb__add =
                WestUi.NotiBar.__twdb__add || WestUi.NotiBar.add;
              WestUi.NotiBar.add = function (t) {
                var n = $(".image", t.element);
                for (var r = 0; r < e.length; r++) {
                  if (n.hasClass(e[r])) {
                    return;
                  }
                }
                WestUi.NotiBar.__twdb__add.apply(this, arguments);
              };
            } catch (t) {
              Error.report(t, "manipulate WestUi.NotiBar.add");
            }
          };
          n(e);
          t(e);
        };
        var removeWorkQueuePA = function () {
          try {
            TWDB.Util.addCss(
              "#queuedTasks .buyPremiumTask {background: none!important}"
            );
            Premium.checkForAutomationPremium = function (e, t) {
              if (typeof t !== "undefined") return t();
            };
          } catch (e) {
            Error.report(e, "manipulate removeWorkQueuePA");
          }
        };
        var changeWofNuggets = function () {
          try {
            west.gui.payHandler.prototype.__twdb__addPayOption =
              west.gui.payHandler.prototype.addPayOption;
            west.gui.payHandler.prototype.addPayOption = function (e) {
              this.__twdb__addPayOption.apply(this, arguments);
              if (false === e || "nugget" === e || 2 == e || 2 == e.id) {
                return this;
              }
              this.setSelectedPayId(e.id || e);
              return this;
            };
          } catch (e) {
            Error.report(e, "manipulate changeWofNuggets");
          }
        };
        var removeVariousPA = function () {
          var e = [],
            t;
          if (Settings.get("nofetchallpa", false)) e.push("marketdelivery all");
          if (!e.length) return;
          t = new RegExp(e.join("|"));
          try {
            Premium.twdb_confirmUse = Premium.confirmUse;
            Premium.confirmUse = function (e, n, r, i, s, o, u, a) {
              if (t.test(e)) {
                if (typeof u !== "undefined") return u();
              } else {
                return Premium.twdb_confirmUse(e, n, r, i, s, o, u, a);
              }
            };
          } catch (n) {
            Error.report(n, "manipulate removeVariousPA");
          }
        };
        var activateFortRecruitment = function () {
          try {
            FortBattleWindow.__twdb__getInfoArea =
              FortBattleWindow.__twdb__getInfoArea ||
              FortBattleWindow.getInfoArea;
            FortBattleWindow.getInfoArea = function () {
              this.preBattle.battleData.canSetPrivilege = true;
              return FortBattleWindow.__twdb__getInfoArea.apply(
                this,
                arguments
              );
            };
          } catch (e) {
            Error.report(e, "manipulate FortBattleWindow.getInfoArea");
          }
        };
        var enhanceMarketSellDialog = function () {
          var e;
          var t = TWDB.Cache.load("msdsettings");
          if (typeof t !== "object" || t == null) {
            t = { cb: {} };
          } else if (typeof t.cb !== "object" || t.cb == null) {
            t.cb = {};
          }
          try {
            if (!isDefined(west.gui.Dialog.prototype.__twdb__show)) {
              west.gui.Dialog.prototype.__twdb__show =
                west.gui.Dialog.prototype.show;
            }
            if (TWDB.script.isDev()) {
              west.gui.Dialog.prototype.show = function () {
                if (this.divMain.attr("id") === "market_createoffer_window") {
                  var e = this.__twdb__show();
                  w.setTimeout(function () {
                    MarketWindow.TWDB_touchUpSellDialog(e);
                  }, 25);
                  return e;
                }
                var t = ["div#equip_manager_list", "span.twdb_banking"].join(
                  ", "
                );
                if ($(this.divMain).find(t).addBack().is(t)) {
                  return this.setModal(false)
                    .setBlockGame(false)
                    .setDraggable(true)
                    .__twdb__show();
                }
                return this.__twdb__show();
              };
            } else {
              west.gui.Dialog.prototype.show = function () {
                if (this.divMain.attr("id") === "market_createoffer_window") {
                  var e = this.__twdb__show();
                  w.setTimeout(function () {
                    MarketWindow.TWDB_touchUpSellDialog(e);
                  }, 25);
                  return e;
                }
                return this.__twdb__show();
              };
            }
            if (!isDefined(MarketWindow.TWDB_createMarketOffer)) {
              MarketWindow.TWDB_createMarketOffer =
                MarketWindow.createMarketOffer;
            }
            MarketWindow.createMarketOffer = function (t) {
              var n = typeof t == "number" ? t : $(t).data("itemId");
              if (n === undefined) {
                var r = $(this).data("dnd_droppedObj");
                n = r.data("itemId");
              }
              e = w.ItemManager.get(n);
              return MarketWindow.TWDB_createMarketOffer(n);
            };
          } catch (n) {
            Error.report(n, "manipulate market sell dialog");
          }
          MarketWindow.TWDB_touchUpSellDialog = function (n) {
            if (n.divMain.attr("id") !== "market_createoffer_window") {
              return;
            }
            var r = $("div.tw2gui_dialog_content", n.divMain);
            if (r.find("#auction_item_slot", r).html() == "")
              return w.setTimeout(function () {
                MarketWindow.TWDB_touchUpSellDialog(n);
              }, 25);
            $("div.tw2gui_dialog_framefix").css({
              left: "50%",
              top: "50%",
              width: "1px",
              height: "1px",
            });
            $("textarea#auction_description", r)
              .css("width", "270px")
              .closest("tr")
              .append("<td id='twdb_msd_desc_cc'>");
            var i = $("table:nth-child(2)", r);
            $("tr:first-child", i).after(
              $("<tr>").append(
                '<td id="twdb_msd_bid_btn_cc">',
                '<td id="twdb_msd_bid_cc" style="min-width: 90px;">',
                '<td id="twdb_msd_buy_btn_cc">',
                '<td id="twdb_msd_buy_cc" style="min-width: 90px;">'
              )
            );
            $(
              "tr:nth-last-child(5) td:nth-child(2) span.tw2gui_textfield",
              i
            ).after(
              '<span id="twdb_msd_mult_cc" title="Ρύθμιση (πολλαπλασιασμός) της τρέχουσας τιμής με αυτόν τον αριθμό" style="background-image: url(&quot;/images/ranking/town_ranking_icons.png&quot;); display:inline-block; height:16px; width:16px; background-position:0px -80px; cursor:pointer;">&nbsp;</span>'
            );
            $("tr:last-child td:first-child", i)
              .attr("colspan", 3)
              .before('<td id="twdb_msd_opt_cc">');
            var s = function () {
              n.divMain.css({
                "margin-top": "-" + n.divMain.height() / 2 + "px",
                "margin-left": "-" + n.divMain.width() / 2 + "px",
              });
            };
            var o = function () {
              var e,
                n = this.groupClass;
              $("div.tw2gui_checkbox." + n)
                .not(this.divMain)
                .removeClass("tw2gui_checkbox_checked");
              if (this.isSelected()) {
                e = this.getValue();
                this.divMain.next().click();
              } else {
                e = 0;
              }
              t.cb[n] = e;
              TWDB.Cache.save("msdsettings", t);
              new UserMessage(
                "Αποθήκευση επιτυχής",
                UserMessage.TYPE_SUCCESS
              ).show();
              return this;
            };
            var u = function (e, n) {
              t[e] = n;
              TWDB.Cache.save("msdsettings", t);
              new UserMessage(
                "Αποθήκευση επιτυχής",
                UserMessage.TYPE_SUCCESS
              ).show();
            };
            var a = function () {
              var e, n;
              for (e in t.cb) {
                if (!t.cb.hasOwnProperty(e)) continue;
                $("div.tw2gui_checkbox." + e).each(function () {
                  n = $(this).guiElement();
                  if (n.getValue() === t.cb[e]) {
                    n.setSelected(true, true);
                    $(this).next().click();
                  }
                });
              }
              $("textarea#auction_description", r).val(t.description || "");
              $("span#market_days.tw2gui_combobox", r)
                .guiElement()
                .select(t.duration || 1);
              $("span#market_rights.tw2gui_combobox", r)
                ?.guiElement()
                ?.select(isDefined(t.rights) ? t.rights : 2);
            };
            $("#twdb_msd_desc_cc", r).append(
              $(
                '<div class="tw2gui-iconset tw2gui-icon-save" title="Αποθήκευση περιγραφής για μελλοντικές δημοπρασίες">'
              ).click(function () {
                u("description", $("textarea#auction_description", r).val());
              }),
              $(
                '<div class="tw2gui-iconset tw2gui-icon-abort" title="Επαναφορά περιγραφής">'
              ).click(function () {
                u("description", "");
                $("textarea#auction_description", r).val("");
              })
            );
            $("#twdb_msd_bid_btn_cc", r).append(
              $(
                '<span class="tw2gui-iconset tw2gui-icon-abort" title="Επαναφορά επιλογής" style="display: inline-block;">'
              ).click(function () {
                $("div.tw2gui_checkbox.twdb_msd_bid_fix", r).each(function () {
                  const checkbox = $(this).guiElement();
                  if (checkbox && checkbox.isSelected()) {
                    checkbox.setSelected(false, true);
                    o.call(checkbox);
                  }
                });
                $("#market_min_bid", r).val("").keyup();
              })
            );
            $("#twdb_msd_buy_btn_cc", r).append(
              $(
                '<span class="tw2gui-iconset tw2gui-icon-abort" title="Επαναφορά επιλογής" style="display: inline-block;">'
              ).click(function () {
                $("div.tw2gui_checkbox.twdb_msd_buy_fix", r).each(function () {
                  const checkbox = $(this).guiElement();
                  if (checkbox && checkbox.isSelected()) {
                    checkbox.setSelected(false, true);
                    o.call(checkbox);
                  }
                });
                $("#market_max_price", r).val("").keyup();
              })
            );
            $("#twdb_msd_buy_cc", r)
              .append(
                new west.gui.Checkbox("", "twdb_msd_buy_fix", o)
                  .setTitle("Χρήση ως προεπιλεγμένη τιμή")
                  .setValue(2).divMain
              )
              .append(
                $('<div class="tw2gui_checkbox" title="Τιμή αγοράς">')
                  .append(
                    '<span class="invPopup_buyicon" style="height:20px;">'
                  )
                  .click(function () {
                    $("#market_max_price", r)
                      .val(e.price || 1)
                      .keyup();
                  })
              )
              .append("&nbsp;&nbsp;")
              .append(
                new west.gui.Checkbox("", "twdb_msd_buy_fix", o)
                  .setTitle("Χρήση ως προεπιλεγμένη τιμή")
                  .setValue(1).divMain
              )
              .append(
                $('<div class="tw2gui_checkbox" title="Τιμή πώλησης">')
                  .append(
                    '<span class="invPopup_sellicon" style="height:20px;">'
                  )
                  .click(function () {
                    $("#market_max_price", r)
                      .val(e.sell_price || Math.round(e.price / 2) || 1)
                      .keyup();
                  })
              );
            $("#twdb_msd_bid_cc", r)
              .append(
                new west.gui.Checkbox("", "twdb_msd_bid_fix", o)
                  .setTitle("Χρήση ως προεπιλεγμένη τιμή")
                  .setValue(2).divMain
              )
              .append(
                $('<div class="tw2gui_checkbox" title="Τιμή αγοράς">')
                  .append(
                    '<span class="invPopup_buyicon" style="height:20px;">'
                  )
                  .click(function () {
                    $("#market_min_bid", r)
                      .val(e.price || 1)
                      .keyup();
                  })
              )
              .append("&nbsp;&nbsp;")
              .append(
                new west.gui.Checkbox("", "twdb_msd_bid_fix", o)
                  .setTitle("Χρήση ως προεπιλεγμένη τιμή")
                  .setValue(1).divMain
              )
              .append(
                $('<div class="tw2gui_checkbox" title="Τιμή πώλησης">')
                  .append(
                    '<span class="invPopup_sellicon" style="height:20px;">'
                  )
                  .click(function () {
                    $("#market_min_bid", r)
                      .val(e.sell_price || Math.round(e.price / 2) || 1)
                      .keyup();
                  })
              );
            $("#twdb_msd_mult_cc", r).click(function () {
              var e,
                t = parseInt($("#market_sell_itemStack", r).val(), 10);
              if (t > 0) {
                e = parseInt($("#market_min_bid", r).val(), 10);
                if (e > 0) {
                  $("#market_min_bid", r)
                    .val(t * e)
                    .keyup();
                }
                e = parseInt($("#market_max_price", r).val(), 10);
                if (e > 0) {
                  $("#market_max_price", r)
                    .val(t * e)
                    .keyup();
                }
              }
            });
            $("#twdb_msd_opt_cc", r).append(
              $(
                '<span class="tw2gui-iconset tw2gui-icon-save" title="Αποθήκευση διάρκειας και δικαιωμάτων για μελλοντικές δημοπρασίες" style="display: inline-block;">'
              ).click(function () {
                u("duration", parseInt($("#market_days", r).data("value"), 10));
                u("rights", parseInt($("#market_rights", r).data("value"), 10));
              }),
              $(
                '<span class="tw2gui-iconset tw2gui-icon-abort" title="Επαναφορά επιλογής" style="display: inline-block;">'
              ).click(function () {
                u("duration", 1);
                $("span#market_days.tw2gui_combobox", r).guiElement().select(1);
                u("rights", 2);
                $("span#market_rights.tw2gui_combobox", r)
                  .guiElement()
                  .select(2);
              })
            );
            var f = $("span#market_rights.tw2gui_combobox", r)?.guiElement()
              ?.items;
            if (f && f.length === 3) {
              var l = ["home", "flag", "world"];
              for (var c = 0; c < f.length; c++) {
                f[c].node[0].innerHTML =
                  '<span class="tw2gui-iconset tw2gui-icon-' +
                  l[f[c].value] +
                  '" style="display: inline-block;position: relative;top: 4px;"></span>&nbsp;' +
                  f[c].node[0].innerHTML;
              }
            }
            var h = $("h4", r),
              p = $("table#mps_otheroffers", r);
            if (
              $("tr", p).length > 2 ||
              $("tr:nth-child(2) > td", p).attr("colspan") !== 4
            ) {
              h.html(h.html() + "&nbsp;(" + ($("tr", p).length - 1) + ")")
                .click(function () {
                  p.toggle();
                  s();
                })
                .css({ cursor: "pointer" });
            } else {
              h.html(h.html() + "&nbsp;(0)");
              p.hide();
            }
            s();
            a();
          };
        };
        var weeklyCrafting = function () {
          if (w.Character.professionId && w.Character.professionSkill > 599) {
            var e = function (e) {
              var t = new OnGoingEntry();
              var n = ItemManager.get(ItemManager.get(e).craftitem);
              var r =
                "<div style='text-align:center;'>Μπορείς να δημιουργήσεις ξανά!<br />" +
                '<div class="item  item_inventory" style="display:inline-block;float:none;"><img class="tw_item item_inventory_img" src="' +
                n.image +
                '"></div><br />' +
                n.name +
                "</div>";
              t.init(
                "",
                function () {
                  CharacterWindow.open("crafting");
                  TWDB.Cache.save("craftingCheck", {
                    found: false,
                    date: null,
                  });
                },
                11
              );
              t.setTooltip(r);
              t.setImageClass("work");
              t.highlightBorder();
              WestUi.NotiBar.add(t);
              TitleTicker.setNotifyMessage("Δημιουργία");
            };
            var t = function () {
              var r = TWDB.Cache.load("craftingCheck") || {
                found: false,
                date: null,
              };
              if (!r.found) {
                return n();
              }
              var i = new Date(r.date).getTime() - new ServerDate().getTime();
              if (i < 0) {
                return e(r.found);
              } else if (i < 864e5) {
                if (i < 18e4) {
                  w.setTimeout(function () {
                    e(r.found);
                  }, i);
                } else {
                  w.setTimeout(function () {
                    t();
                  }, parseInt(i / 2, 10));
                }
              }
            };
            var n = function () {
              Ajax.remoteCall("crafting", "", {}, function (e) {
                if (e.error) {
                  return new UserMessage(e.msg).show();
                }
                if (
                  e.hasOwnProperty("recipes_content") &&
                  e.recipes_content.length > 0
                ) {
                  var n;
                  var r = [20099e3, 20104e3, 20109e3, 20114e3];
                  for (n = 0; n < e.recipes_content.length; n++) {
                    if (r.indexOf(e.recipes_content[n].item_id) !== -1) {
                      if (e.recipes_content[n].last_craft) {
                        TWDB.Cache.save("craftingCheck", {
                          found: e.recipes_content[n].item_id,
                          date: new Date(
                            new ServerDate().getTime() +
                            parseInt(
                              e.recipes_content[n].last_craft * 1e3,
                              10
                            )
                          ),
                        });
                      } else {
                        TWDB.Cache.save("craftingCheck", {
                          found: e.recipes_content[n].item_id,
                          date: new Date(null),
                        });
                      }
                      return t();
                    }
                  }
                }
                TWDB.Cache.save("craftingCheck", { found: false, date: null });
              });
            };
            t();
          }
        };
        return _self;
      })($);
      Debugger.Snippets = Snippets;
      var GameInject = (function ($) {
        var _self = {};
        var save = {};
        var minimap = [];
        var questlog = [];
        var radialmenu = [];
        var quests = [];
        var ready = false;
        var timeout = null;
        var interval = null;
        var _position = [];
        var _reportreceived = [];
        _self.CharacterButton = (function (e) {
          var t = {};
          var n = 0;
          var r = null;
          t.add = function (t) {
            if (n == 0) {
              var i =
                "div#twdb_characbut {width:36px; height:35px; position:absolute; left:141px; top:131px; border-bottom-left-radius:8px;" +
                "background:url(" +
                Game.cdnURL +
                "/images/interface/character/character.png?3) no-repeat -141px -105px transparent;}";
              TWDB.Util.addCss(i);
              r = e('<div id="twdb_characbut" />');
              e("#ui_character_container").prepend(r);
            }
            n++;
            r.css({
              height: 10 + 26 * n + "px",
              "background-position": "-141px " + (26 * n - 131) + "px",
            });
            var s = e(
              '<div class="char_links" style="top:' +
              (6 + (n - 1) * 26) +
              "px;left:6px;background:url(" +
              t +
              ')no-repeat 0px 0px transparent;"/>'
            );
            s.on("mouseenter", function () {
                e(this).css("background-position", "-25px 0px");
              })
              .on("mouseleave", function () {
                e(this).css("background-position", "0px 0px");
              });
            r.append(s);
            return s;
          };
          return t;
        })($);
        _self.injectTaskJobs = function () {
          try {
            var e = TaskJob;
            TaskJob = function () {
              var t = e.apply(this, arguments);
              t.__twdb__getTitle = t.getTitle;
              t.getTitle = function () {
                return (
                  t.__twdb__getTitle() +
                  "Πόντοι εργασίας: " +
                  (this.data.job_points < 0 ? "<b class='text_red'>" : "<b>") +
                  this.data.job_points +
                  "</b><br />"
                );
              };
              return t;
            };
          } catch (t) {
            Error.report(t, "manipulate TaskJob template");
          }
          try {
            if (TaskQueue.queue.length) {
              var n = $("script:contains('TaskQueue.init')")
                .text()
                .match(/TaskQueue\.init\(\s*(\[[^\]]*\])/);
              if (n.length === 2) {
                n = JSON.parse(n[1]);
                TaskQueue.init(n, TaskQueue.limit);
              }
            }
          } catch (t) {
            Error.report(t, "manipulate existing Job tasks");
          }
        };
        _self.ChatLayout = (function (e) {
          var t = [];
          return function (e) {
            if (t.length == 0) {
              try {
                save["window.Chat.Layout.Tab.prototype.getMainDiv"] =
                  window.Chat.Layout.Tab.prototype.getMainDiv;
                window.Chat.Layout.Tab.prototype.getMainDiv = function () {
                  for (var e = 0; e < t.length; e++) {
                    try {
                      t[e](this);
                    } catch (n) {
                      Error.report(n, "callbacks on Chat Layout");
                    }
                  }
                  return this.mainDiv;
                };
              } catch (n) {
                Error.report(n, "manipulate Chat Layout");
                window.Chat.Layout.Tab.prototype.getMainDiv =
                  save["window.Chat.Layout.Tab.prototype.getMainDiv"];
              }
            }
            t.push(e);
          };
        })($);
        _self.ChatSend = (function (e) {
          var t = [];
          return function (e) {
            if (t.length == 0) {
              try {
                window.Chat.Layout.Tab.prototype.twdb_send =
                  window.Chat.Layout.Tab.prototype.send;
                window.Chat.Layout.Tab.prototype.send = function () {
                  for (var e = 0; e < t.length; e++) {
                    try {
                      t[e](this);
                    } catch (n) {
                      Error.report(n, "callbacks on Chat Send");
                    }
                  }
                  this.twdb_send();
                };
              } catch (n) {
                Error.report(n, "manipulate Chat Send");
                window.Chat.Layout.Tab.prototype.send =
                  window.Chat.Layout.Tab.prototype.twdb_send;
              }
            }
            t.push(e);
          };
        })($);
        _self.MarketOfferTable = (function (e) {
          var t = [];
          return function (e) {
            if (t.length == 0) {
              try {
                save["MarketWindow.Offer.updateTable"] =
                  MarketWindow.Offer.updateTable;
                MarketWindow.Offer.updateTable = function (e) {
                  save["MarketWindow.Offer.updateTable"](e);
                  for (var n = 0; n < t.length; n++) {
                    try {
                      t[n](e);
                    } catch (r) {
                      Error.report(r, "callbacks MarketOfferTable");
                    }
                  }
                };
              } catch (n) {
                Error.report(n, "manipulate MarketOfferTable");
                MarketWindow.Offer.updateTable =
                  save["MarketWindow.Offer.updateTable"];
              }
            }
            t.push(e);
          };
        })($);
        _self.MarketWatchlistTable = (function (e) {
          var t = [];
          return function (e) {
            if (t.length == 0) {
              try {
                save["MarketWindow.Watchlist.updateTable"] =
                  MarketWindow.Watchlist.updateTable;
                MarketWindow.Watchlist.updateTable = function (e) {
                  save["MarketWindow.Watchlist.updateTable"](e);
                  for (var n = 0; n < t.length; n++) {
                    try {
                      t[n](e);
                    } catch (r) {
                      Error.report(r, "callbacks MarketWatchlistTable");
                    }
                  }
                };
              } catch (n) {
                Error.report(n, "manipulate MarketWatchlistTable");
                MarketWindow.Watchlist.updateTable =
                  save["MarketWindow.Watchlist.updateTable"];
              }
            }
            t.push(e);
          };
        })($);
        _self.MarketWhatIsHotTable = (function (e) {
          var t = [];
          return function (e) {
            if (t.length == 0) {
              try {
                save["MarketWindow.WhatIsHot.updateTable"] =
                  MarketWindow.WhatIsHot.updateTable;
                MarketWindow.WhatIsHot.updateTable = function (e) {
                  save["MarketWindow.WhatIsHot.updateTable"](e);
                  for (var n = 0; n < t.length; n++) {
                    try {
                      t[n](e);
                    } catch (r) {
                      Error.report(r, "callbacks MarketWhatIsHotTable");
                    }
                  }
                };
              } catch (n) {
                Error.report(n, "manipulate MarketWhatIsHotTable");
                MarketWindow.WhatIsHot.updateTable =
                  save["MarketWindow.WhatIsHot.updateTable"];
              }
            }
            t.push(e);
          };
        })($);
        _self.injectSetDuelMotivation = (function (e) {
          var t = [];
          return function (e) {
            if (t.length == 0) {
              try {
                Character.twdb_setDuelMotivation = Character.setDuelMotivation;
                Character.setDuelMotivation = function (e) {
                  this.twdb_setDuelMotivation(e);
                  for (var n = 0; n < t.length; n++) {
                    try {
                      t[n](e);
                    } catch (r) {
                      Error.report(r, "callbacks setDuelMotivation");
                    }
                  }
                };
              } catch (n) {
                Error.report(n, "manipulate setDuelMotivation");
                Character.setDuelMotivation = twdb_Character.setDuelMotivation;
              }
            }
            t.push(e);
          };
        })($);
        _self.ItemUse = (function ($) {
          var callbacks = [];
          return function (callback) {
            if (callbacks.length == 0) {
              ItemUse.twdb = function (e, t) {
                for (var n = 0; n < callbacks.length; n++) {
                  try {
                    callbacks[n](e, t);
                  } catch (r) {
                    Error.report(r, "callbacks on ItemUse");
                  }
                }
              };
              save["ItemUse.doIt"] = ItemUse.doIt;
              try {
                var toolkit = ItemUse.doItOrigin ? "doItOrigin" : "doIt",
                  str = ItemUse[toolkit].toString(),
                  pos = str.indexOf("EventHandler.signal('item_used'"),
                  inject =
                    str.substr(0, pos) +
                    "ItemUse.twdb(itemId,res);" +
                    str.substr(pos);
                eval("ItemUse." + toolkit + " = " + inject);
              } catch (e) {
                ItemUse.doIt = save["ItemUse.doIt"];
                Error.report(e, "manipulate ItemUse");
              }
            }
            callbacks.push(callback);
          };
        })($);
        _self.injectItem = function (type, name, callback) {
          var item = type + "Item";
          if (typeof save[item] == "undefined") {
            save[item] = tw2widget[item].prototype.getMainDiv;
          }
          try {
            tw2widget[item].prototype["TWDB" + name] = function (e) {
              try {
                return callback(e);
              } catch (t) {
                Error.report(t, "injected " + e + " function: " + name);
                return "";
              }
            };
          } catch (e) {
            Error.report(e, "inject " + item + " function: " + name);
          }
          try {
            var inject = "this.TWDB" + name + "(this);";
            inject.replace(/ /g, "");
            var newfunction = tw2widget[item].prototype.getMainDiv
              .toString()
              .replace("return", inject + "\n return");
            eval(
              "tw2widget['" + item + "'].prototype.getMainDiv = " + newfunction
            );
          } catch (e) {
            Error.report(e, "manipulate " + item + ".prototype.getMainDiv");
            tw2widget[item].prototype.getMainDiv = save[item];
          }
        };
        _self.injectTrader = function (name, callback) {
          if (
            typeof save["west.game.shop.item.view.prototype.render"] ==
            "undefined"
          ) {
            save["west.game.shop.item.view.prototype.render"] =
              west.game.shop.item.view.prototype.render;
          }
          try {
            west.game.shop.item.view.prototype["TWDB" + name] = function (e) {
              try {
                return callback(e);
              } catch (t) {
                Error.report(t, "callback on injectTrader, function: " + name);
                return "";
              }
            };
          } catch (e) {
            Error.report(
              e,
              "injectTrader, creating callback function: " + name
            );
          }
          try {
            var str = west.game.shop.item.view.prototype.render.toString();
            var inject =
              "window.setTimeout(function() {$item.append(that.TWDB" +
              name +
              "(model.getItemData()))}, 100);";
            inject.replace(/ /g, "");
            var newfunction = str.replace(
              "return $item",
              inject + "\n return $item"
            );
            eval("west.game.shop.item.view.prototype.render = " + newfunction);
          } catch (e) {
            Error.report(
              e,
              "manipulate west.game.shop.item.view.prototype.render"
            );
            west.game.shop.item.view.prototype.render =
              save["west.game.shop.item.view.prototype.render"];
          }
        };
        _self.injectMarket = function (name, callback) {
          if (typeof save.MarketWindow == "undefined") {
            save.MarketWindow = MarketWindow.getClearName.toString();
          }
          try {
            MarketWindow["TWDB" + name] = function (e) {
              try {
                return callback(e);
              } catch (t) {
                Error.report(t, "injected MarketWindow function:" + name);
              }
              return "";
            };
          } catch (e) {
            Error.report(e, "inject MarketWindow function:" + name);
          }
          try {
            var str = MarketWindow.getClearName.toString();
            var inject = "this.TWDB" + name + "(obj.item_id)";
            inject.replace(/ /g, "");
            var newfunction = "";
            while (str.indexOf("return") !== -1) {
              var pos = str.indexOf("return");
              newfunction +=
                str.slice(0, pos + 6) + " " + inject + " + String(";
              str = str.substr(pos + 7);
              var pos = str.indexOf(";");
              newfunction += str.slice(0, pos) + ");";
              str = str.substr(pos + 1);
            }
            newfunction += str;
            eval("MarketWindow.getClearName = " + newfunction);
          } catch (e) {
            Error.report(e, "manipulate MarketWindow.getClearName");
            eval("MarketWindow.getClearName = " + save.MarketWindow);
          }
        };
        _self.injectGetBids = function () {
          try {
            MarketWindow.twdb_showTab2 =
              MarketWindow.twdb_showTab2 || MarketWindow.showTab;
            MarketWindow.showTab = function (e) {
              if (e != "sell" && e != "marketmap") TWDB.ClothCalc.getBids();
              MarketWindow.twdb_showTab2.apply(this, arguments);
            };
          } catch (e) {
            Error.report(e, "manipulate MarketWindow.showTab (2)");
          }
        };
        _self.addTabOnMessagesWindow = function (name, shortname, callback) {
          if (typeof save.MessagesWindowOpen == "undefined") {
            save.MessagesWindowOpen = MessagesWindow.open.toString();
            save.MessagesWindowTab = MessagesWindow.showTab.toString();
          }
          try {
            var inject =
              "MessagesWindow.window.addTab('" +
              name +
              "', '" +
              shortname +
              "', tabclick).appendToContentPane($('<div class=\"messages-" +
              shortname +
              "\"/>'));";
            var newfunction = MessagesWindow.open
              .toString()
              .replace(
                /MessagesWindow.Telegram.DOM/g,
                inject + "MessagesWindow.Telegram.DOM"
              );
            eval(
              "(function ($) {" +
              "MessagesWindow.open = " +
              newfunction +
              "})(jQuery);"
            );
          } catch (e) {
            Error.report(e, "manipulate MessagesWindow.open");
            eval(
              "(function ($) {" +
              "MessagesWindow.open = " +
              save.MessagesWindowOpen +
              "})(jQuery);"
            );
          }
          try {
            MessagesWindow["TWDB-" + shortname] = function () {
              callback();
            };
          } catch (e) {
            Error.report(e, "add showTab to MessagesWindow");
          }
          try {
            var inject =
              "case '" +
              shortname +
              "':MessagesWindow['TWDB-" +
              shortname +
              "']();break;";
            var newfunction = MessagesWindow.showTab
              .toString()
              .replace(/switch(\s)*\(id\)(\s)*{/g, "switch (id) { " + inject);
            eval(
              "(function ($) {" +
              "MessagesWindow.showTab = " +
              newfunction +
              "})(jQuery);"
            );
          } catch (e) {
            Error.report(e, "manipulate MessagesWindow.showTab");
            eval(
              "(function ($) {" +
              "MessagesWindow.showTab = " +
              save.MessagesWindowTab +
              "})(jQuery);"
            );
          }
        };
        _self.addTabOnMarketWindow = function (e, t, n) {
          var r = function (e, n) {
            if (!MarketWindow.window) return;
            MarketWindow.window
              .activateTab(n)
              .$("div.tw2gui_window_content_pane > *", MarketWindow.DOM)
              .each(function (e, t) {
                if ($(t).hasClass("marketplace-" + n)) {
                  $(t).children().fadeIn();
                  $(t).show();
                } else {
                  $(t).children().fadeOut();
                  $(t).hide();
                }
              });
            MarketWindow["TWDB-" + t]();
          };
          try {
            MarketWindow.twdb_open =
              MarketWindow.twdb_open || MarketWindow.open;
            MarketWindow.open = function () {
              this.twdb_open.apply(this, arguments);
              MarketWindow.window
                .addTab(e, t, r)
                .appendToContentPane($('<div class="marketplace-' + t + '"/>'));
            };
          } catch (i) {
            Error.report(i, "manipulate MarketWindow.open");
          }
          try {
            MarketWindow["TWDB-" + t] = function () {
              n();
            };
          } catch (i) {
            Error.report(i, "add showTab to MarketWindow");
          }
          try {
            MarketWindow.twdb_showTab =
              MarketWindow.twdb_showTab || MarketWindow.showTab;
            MarketWindow.showTab = function () {
              MarketWindow.window.setSize(748, 471).removeClass("premium-buy");
              this.twdb_showTab.apply(this, arguments);
            };
          } catch (i) {
            Error.report(i, "manipulate MarketWindow.showTab (1)");
          }
        };
        var waitForMinimap = function (e) {
          if (interval) {
            window.clearInterval(timeout);
            window.clearInterval(interval);
          }
          var t = function () {
            if (
              !MinimapWindow.window ||
              $(MinimapWindow.window.divMain).find(".mmap_jobs").length == 0
            ) {
              return;
            }
            if ($(MinimapWindow.window).find(".loader").is(":visible")) {
              return;
            }
            window.clearInterval(timeout);
            window.clearInterval(interval);
            interval = null;
            timeout = null;
            for (var e = 0; e < minimap.length; e++) {
              try {
                minimap[e]();
              } catch (t) {
                Error.report(t, "MinimapWindow inject");
              }
            }
          };
          timeout = setInterval(function () {
            window.clearInterval(interval);
            window.clearInterval(timeout);
            interval = null;
            timeout = null;
          }, 3e5);
          interval = setInterval(function () {
            t();
          }, 200);
        };
        _self.injectMinimap = function (e) {
          try {
            if (!MinimapWindow._open) {
              MinimapWindow._open = MinimapWindow.open;
              MinimapWindow.open = function (e) {
                try {
                  MinimapWindow._open(e);
                  waitForMinimap();
                } catch (t) {
                  Error.report(t, "MinimapWindow.open");
                }
              };
            }
          } catch (t) {
            Error.report(t, "manipulate MinimapWindow.open");
          }
          try {
            if (!MinimapWindow._refreshWindow) {
              MinimapWindow._refreshWindow = MinimapWindow.refreshWindow;
              MinimapWindow.refreshWindow = function () {
                try {
                  MinimapWindow._refreshWindow();
                  window.setTimeout(function () {
                    waitForMinimap();
                  }, 2500);
                } catch (e) {
                  Error.report(e, "MinimapWindow.refreshWindow");
                }
              };
            }
          } catch (t) {
            Error.report(t, "manipulate MinimapWindow.refreshWindow");
          }
          minimap.push(function () {
            e();
          });
        };
        _self.injectRadialmenu = function (e) {
          try {
            if (!window.GameMap.Radialmenu.prototype._open) {
              window.GameMap.Radialmenu.prototype._open =
                window.GameMap.Radialmenu.prototype.open;
              window.GameMap.Radialmenu.prototype.open = function (e) {
                try {
                  this._open(e);
                  for (var t = 0; t < radialmenu.length; t++) {
                    radialmenu[t](this);
                  }
                } catch (n) {
                  Error.report(n, "Radialmenu.open");
                }
              };
            }
          } catch (t) {
            Error.report(t, "manipulate Radialmenu.open");
          }
          radialmenu.push(function (t) {
            e(t);
          });
        };
        _self.injectQuestLog = function (e) {
          try {
            if (!QuestEmployerView._buildQuestLog) {
              QuestEmployerView._buildQuestLog =
                QuestEmployerView.buildQuestLog;
              QuestEmployerView.buildQuestLog = function (e) {
                try {
                  QuestEmployerView._buildQuestLog(e);
                  for (var t = 0; t < questlog.length; t++) {
                    questlog[t](e);
                  }
                } catch (n) {
                  Error.report(n, "QuestEmployerView.buildQuestLog");
                }
              };
            }
            questlog.push(function (t) {
              e(t);
            });
          } catch (t) {
            Error.report(t, "manipulate QuestEmployerView.buildQuestLog");
          }
        };
        _self.injectQuest = function (e) {
          try {
            if (!Quest.prototype._render) {
              Quest.prototype._render = Quest.render;
              Quest.prototype.render = function () {
                try {
                  this._render();
                  for (var e = 0; e < quests.length; e++) {
                    quests[e](this);
                  }
                } catch (t) {
                  Error.report(t, "Quest.render");
                }
              };
            }
            quests.push(function (t) {
              e(t);
            });
          } catch (t) {
            Error.report(t, "manipulate Quest.render");
          }
        };
        _self.injectReportReceivedEntry = function (callback) {
          try {
            if (_reportreceived.length == 0) {
              try {
                var inject = "this._TWDB(msg);";
                var newfunction = OnGoingReportReceivedEntry.toString().replace(
                  "{",
                  "{\n" + inject + "\n"
                );
                eval("OnGoingReportReceivedEntry = " + newfunction);
                OnGoingReportReceivedEntry.prototype = new OnGoingEntry();
                OnGoingReportReceivedEntry.prototype._TWDB = function (e) {
                  try {
                    for (var t = 0; t < _reportreceived.length; t++) {
                      _reportreceived[t](e);
                    }
                  } catch (n) {
                    Error.report(n, "OnGoingReportReceivedEntry");
                  }
                };
              } catch (e) {
                Error.report(e, "manipulate " + item + ".prototype.getMainDiv");
                eval(item + ".prototype.getMainDiv = " + save[item]);
              }
            }
          } catch (e) {
            Error.report(e, "manipulate OnGoingReportReceivedEntry");
          }
          _reportreceived.push(function (e) {
            callback(e);
          });
        };
        _self.injectInventoryAddItemsPinItems = function () {
          try {
            Inventory.__CCPI__addItems =
              Inventory.__CCPI__addItems || Inventory.addItems;
            Inventory.addItems = function (e, t) {
              Inventory.__CCPI__addItems.apply(this, arguments);
              if (!$("#CC_pin_items").length) {
                Inventory.DOM.children(".actions").append(
                  $('<div id="CC_pin_items" class="tw2gui_iconbutton" />')
                    .attr({
                      title:
                        "Εναλλαγή λειτουργίας καρφιτσώματος".twdb_twiceHTMLUnescape(),
                    })
                    .toggleClass("pinact", TWDB.Settings.itemPinningMode === 1)
                );
              }
              $("#CC_pin_items")
                .off("click")
                .click(function () {
                  TWDB.Settings.itemPinningMode ^= true;
                  $(this).toggleClass(
                    "pinact",
                    TWDB.Settings.itemPinningMode === 1
                  );
                  Inventory.addItems(e, t);
                });
              if ((e || Inventory.defaultCategory) == "new") {
                $.each(
                  (TWDB.Settings.get("pinnedItems") || []).slice().reverse(),
                  function (e, t) {
                    var n = Bag.getItemByItemId(t);
                    if (n) Inventory.addItemDivToInv(n, true);
                  }
                );
              }
            };
            var e =
              "div#CC_pin_items {" +
              'background-image: url("' +
              Images.pinItems +
              '");' +
              "background-position: top;" +
              "width: 34px;" +
              "height: 36px;" +
              "position: absolute;" +
              "left: 0px!important; }" +
              "div#CC_pin_items.pinact { background-position: bottom; }" +
              "div.actions:has(.bag_resize) div#CC_pin_items {" +
              "left: 24px!important; }";
            TWDB.Util.addCss(e, "pinning");
          } catch (t) {
            Error.report(t, "manipulate Inventory.addItems (pin items)");
          }
        };
        _self.injectInventoryAddItemDivToInvPinItems = function () {
          try {
            Inventory.__CCPI__addItemDivToInv =
              Inventory.__CCPI__addItemDivToInv || Inventory.addItemDivToInv;
            Inventory.addItemDivToInv = function (e, t) {
              if (!TWDB.Settings.itemPinningMode && !t)
                Inventory.__CCPI__addItemDivToInv.apply(this, arguments);
              else {
                var n = TWDB.Settings.get("pinnedItems") || [],
                  r = e.getId();
                var i = $("<div>").append(
                  e.getMainDiv().data("itemId", e.getId())
                );
                i.find("img")
                  .off("click")
                  .click(
                    TWDB.Settings.itemPinningMode
                      ? function (e) {
                        var t = n.indexOf(r);
                        if (t < 0) {
                          if (n.length >= Inventory.latestSize) return;
                          n.push(r);
                        } else n.splice(t, 1);
                        $(this).parent().parent().toggleClass("opacity05");
                        TWDB.Settings.set("pinnedItems", n);
                      }
                      : function (t) {
                        Inventory.clickHandler(e.getId(), t);
                      }
                  );
                if (TWDB.Settings.itemPinningMode)
                  i.addClass(n.indexOf(r) < 0 ? "opacity05" : "");
                else
                  i.find("img").setDraggable(
                    Inventory.announceDragStart,
                    Inventory.announceDragStop
                  );
                if (t) {
                  i.addClass("pinned").prependTo($("#bag", Inventory.DOM));
                  $("#bag > div:empty", Inventory.DOM).remove();
                  if ($("#bag > div").length > Inventory.latestSize)
                    $("#bag > div:not(.pinned):first", Inventory.DOM).detach();
                } else i.appendTo($("#bag", Inventory.DOM));
              }
            };
            var e =
              "#bag > .pinned > .item {" +
              'background: rgba(134, 93, 39, 0.4) url("' +
              Images.pinMini +
              '") -1px -1px no-repeat;' +
              "border-radius: 4px;" +
              "-webkit-box-shadow: inset 0px 0px 2px 1px #852;" +
              "-moz-box-shadow: inset 0px 0px 2px 1px #852;" +
              "box-shadow: inset 0px 0px 2px 1px #852; }" +
              "#bag > .pinned > .item span.count { bottom: -1px; left: 1px; }" +
              "#bag > .pinned > .item span.usable { right: -1px; }" +
              "#bag > .pinned > .item span.item_level { opacity: 0.4; top: 1px; left: initial; right: 1px; background-color: rgba(0, 0, 0, 0); }" +
              "#bag > .pinned > .item span.cooldown { top: 2px; left: 15px; }";
            TWDB.Util.addCss(e, "pinning");
          } catch (t) {
            Error.report(t, "manipulate Inventory.addItemDivToInv (pin items)");
          }
        };
        _self.injectTelegramWindowAppendTelegramDisplaySource = function (e) {
          try {
            TelegramWindow.__CCDTS__appendTelegram =
              TelegramWindow.__CCDTS__appendTelegram ||
              TelegramWindow.appendTelegram;
            TelegramWindow.appendTelegram = function (e, t) {
              TelegramWindow.__CCDTS__appendTelegram.apply(this, arguments);
              t.contentPane
                .find(".telegram-head:last .author")
                .css({
                  left: "81px",
                  width: "140px",
                  background:
                    "url(/images/window/messages/post-head.jpg) -16px 0",
                })
                .before(
                  $('<div class="telegram-source"><div>BB</div></div>')
                    .attr(
                      "title",
                      "Εναλλαγή μεταξύ μη μορφοποιημένου μηνύματος και του αρχικού"
                    )
                    .click(function () {
                      var t = $(this).toggleClass("active").hasClass("active");
                      $(this)
                        .closest(".telegram-head")
                        .next(".telegram-post")
                        .html(
                          t
                            ? e.text
                              .replace(/<(\/?(b|i|u|del))>/g, "[$1]")
                              .replace(
                                /<a href="[^"]+PlayerProfileWindow[^"]+">([^<]+)<\/a>/g,
                                "[player]$1[/player]"
                              )
                              .replace(
                                /<a href="[^"]+TownWindow[^"]+">([^<]+)<\/a>/g,
                                "[town]$1[/town]"
                              )
                              .replace(
                                /<a href="[^"]+FortWindow[^"]+">([^<]+)<\/a>/g,
                                "[fort]$1[/fort]"
                              )
                              .replace(
                                /<a href="[^"]+AllianceWindow[^"]+">([^<]+)<\/a>/g,
                                "[alliance]$1[/alliance]"
                              )
                              .replace(
                                /<a class="external_link" href="[^=]+=redirect[^=]+=([^"]+)" target="_blank">([^<]+)<\/a>/g,
                                function (e, t, n) {
                                  return (
                                    "[url=" +
                                    decodeURIComponent(t) +
                                    "]" +
                                    n +
                                    "[/url]"
                                  );
                                }
                              )
                            : Game.TextHandler.parse(e.text)
                        );
                    })
                );
            };
            TWDB.Util.addCss(
              ".telegram-source { position: absolute; width: 24px; height: 24px; cursor: pointer; " +
              "background: url(/images/window/messages/icons.png) 72px -3px; " +
              "left: 52px; }\n" +
              ".telegram-source div { display: inline-block; width: 14px; height: 11px; color: white; " +
              "background: #523F30; font-size: 10px; margin: 4px; padding: 0px 0 5px 2px; line-height: 16px; " +
              "font-family: Impact, sans-serif; font-weight: 300; }\n" +
              ".telegram-source.active div { background: blue; }\n"
            );
          } catch (t) {
            Error.report(
              t,
              "manipulate TelegramWindow.appendTelegram (display telegram source)"
            );
          }
        };
        return _self;
      })($);
      Debugger.GameInject = GameInject;
      var Quests = (function (e) {
        var t = {};
        var n = {};
        var r = function () {
          if (n.ready) {
            return;
          }
          if (Settings.get("questcancle", true)) {
            s();
          }
          n.ready = true;
        };
        n = Loader.add("Quests", "tw-db Quests", r, { Settings: true });
        var s = function () {
          try {
            var e = QuestWindow.cancelQuest;
            QuestWindow.cancelQuest = function (t) {
              new west.gui.Dialog(
                "Ακύρωση Αποστολής;",
                "Είστε βέβαιοι ότι επιθυμείτε να ακυρώσετε αυτή την αποστολή;"
              )
                .setIcon(west.gui.Dialog.SYS_QUESTION)
                .setModal(true, false, {
                  bg: Game.cdnURL + "/images/curtain_bg.png",
                  opacity: 0.4,
                })
                .addButton("Ναι", function () {
                  e(t);
                })
                .addButton("Όχι", function () { })
                .show();
            };
          } catch (t) {
            Error.report(t, "inject " + item + " function: " + name);
          }
        };
        return t;
      })($);
      Debugger.Quests = Quests;
      var DuelMotivation = (function (e) {
        var t = {};
        var n = {};
        var r = null;
        var i = null;
        var s = null;
        var o = null;
        var u = 0;
        var a = "";
        var f = 0;
        var l = "";
        var c = false;
        var h = function () {
          if (n.ready) {
            return;
          }
          if (!Settings.get("duelmotivation", false)) {
            n.ready = true;
            return;
          }
          if (
            Character.setDuelProtection
              .toString()
              .search("duelprotection_changed") == -1
          ) {
            Character.twdb_setDuelProtection = Character.setDuelProtection;
            Character.setDuelProtection = function (e) {
              if (e === 0) {
                e = 1;
              }
              var t = e !== Character.duelProtection;
              Character.twdb_setDuelProtection.apply(this, arguments);
              if (t) {
                EventHandler.signal("duelprotection_changed", []);
              }
            };
          } else if (TWDB.script.isDev()) {
            console.log("setDuelProtection changed");
            new UserMessage("setDuelProtection changed").show();
          }
          var t =
            "div#ui_character_container .twdb_charcont_ext {background-image:" +
            e("#ui_character_container").css("background-image") +
            "; background-repeat:no-repeat; background-position:bottom left; width:143px; height:15px; position:absolute; left:0px; top:173px; padding-top:2px;}" +
            "div#ui_character_container #duelmot_bar {background-image:url(" +
            TWDB.images.duelMotBar +
            "); background-repeat:no-repeat; background-position:0px -26px; top:2px; left:3px; height:13px; width:137px; position:absolute; color:#FFF; text-align:center; font-size:8pt; line-height:12px; font-weight:bold; text-shadow: 1px 0px 1px #000, -1px 0px 1px #000;}" +
            "div#ui_character_container .duelmot_ko {background-position:0px -13px!important;}" +
            "div#ui_character_container .duelmot_protect {background-position:0px 0px!important;}" +
            "div#ui_character_container .duelmot_warn {background-position:0px 0px; top:2px; left:3px; opacity:0;}" +
            "div#ui_character_container .duelmot_dim {opacity:0.6;}";
          TWDB.Util.addCss(t, "duelmot");
          c = Game.duelProtectionEarly === Game.duelProtectionHours;
          p();
          EventHandler.listen("duelprotection_changed", function () {
            v();
          });
          EventHandler.listen("duelmotivation_changed", function () {
            m();
          });
          v();
          m(true);
          if (Character.homeTown.town_id !== 0) {
            Ajax.remoteCallMode(
              "building_saloon",
              "get_data",
              { town_id: Character.homeTown.town_id },
              function (e) {
                if (e.error) {
                  return new UserMessage(e.msg).show();
                }
                Character.setDuelMotivation(e.motivation);
              }
            );
          }
          n.ready = true;
        };
        var p = function () {
          e("#ui_character_container").css({
            "background-repeat": "no-repeat",
            height: "191px",
          });
          e(".energy_add").css({ top: "161px" });
          var t = e('<div class="twdb_charcont_ext" />').insertBefore(
            ".energy_bar"
          );
          r = e('<div id="duelmot_bar" class="duelmot_dim" />').appendTo(t);
          i = e('<div class="status_bar duelmot_warn" />').appendTo(t);
        };
        var d = function (e, t, n, s, o) {
          if (e === undefined) {
            e = "";
          }
          if (t === undefined) {
            t = false;
          }
          if (n === undefined) {
            n = false;
          }
          if (s === undefined) {
            s = false;
          }
          if (!s) {
            if (typeof n === "string") {
              r.attr("class", n);
            }
            r.text(e);
            if (typeof t === "string") {
              i.addMousePopup(t);
            }
          } else {
            i.fadeTo(400, 1, function () {
              d(e, t, n, false);
              if (o) {
                o();
              }
              i.fadeTo(400, 0);
            });
          }
        };
        var v = function () {
          if (s === Character.duelProtection) {
            return;
          }
          s = Character.duelProtection;
          if (Character.getDuelProtection(true) > new ServerDate().getTime()) {
            g();
          } else if (u > 0) {
            o = 666;
          } else {
            m();
          }
        };
        var m = function (e) {
          if (o === Character.duelMotivation || u > 0) {
            return;
          }
          o = Character.duelMotivation;
          var t = Math.round(Character.duelMotivation * 100);
          d(
            t + "%",
            "Κίνητρο μονομαχίας:&nbsp;" + t + "%",
            e ? "duelmot_dim" : ""
          );
        };
        var g = function (e) {
          if (f) {
            w.clearInterval(f);
          }
          var t = new ServerDate().getTime();
          var n = Character.getMandatoryDuelProtection(true);
          var r = Character.getDuelProtection(true);
          a = "<div style='text-align:center;'>Ώρα λιποθυμίας<br />";
          if (!c && n > t && !e) {
            a +=
              "ΚΟ - Αναστολή μονομαχίας μέχρι&nbsp;" +
              new Date(n).toLocaleString() +
              "<br />";
            u = parseInt((n - t) / 1e3, 10);
            l = "getMandatoryDuelProtection";
          } else {
            u = parseInt((r - t) / 1e3, 10);
            l = "getDuelProtection";
          }
          u = Math.max(0, u);
          a +=
            "ΚΟ - Προστασία μονομαχίας μέχρι&nbsp;" +
            new Date(r).toLocaleString() +
            "</div>";
          d(
            u.formatDuration(),
            a,
            l === "getDuelProtection" ? "duelmot_protect" : "duelmot_ko",
            true
          );
          i.addClass("koblink").click(function () {
            i.removeClass("koblink").stop(true, false).css({ opacity: 0 });
          });
          f = w.setInterval(function () {
            y();
          }, 1e3);
        };
        var y = function () {
          if (u > 0) {
            if (u % 180 === 0) {
              u =
                parseInt(
                  (Character[l](true) - new ServerDate().getTime()) / 1e3,
                  10
                ) || 0;
            } else {
              u--;
            }
            if (u <= 0 || o === 666) {
              w.clearInterval(f);
              i.stop(true, true);
              u = 0;
              if (l === "getDuelProtection" || o === 666) {
                o = null;
                return d("", "", "", true, m);
              } else {
                return g(true);
              }
            }
            d(u.formatDuration());
            if (u <= 1800 && i.hasClass("koblink") && u % 8 === 0) {
              i.fadeTo(500, 0.5).fadeTo(500, 0);
            }
            return;
          }
          o = null;
          m();
        };
        n = Loader.add("DuelMotivation", "tw-db DuelMotivation", h, {
          Settings: true,
        });
        return t;
      })($);
      Debugger.DuelMotivation = DuelMotivation;
      var Bank = (function (e) {
        var t = {};
        var n = true;
        var r = {};
        var i = function () {
          if (r.ready) {
            return;
          }
          if (Settings.get("autodeposit", false)) {
            EventHandler.listen("position_change", function () {
              u();
            });
            u();
          }
          if (Settings.get("deposit", true)) {
            s();
          }
          r.ready = true;
        };
        r = Loader.add("Bank", "tw-db Bank", i, { Settings: true });
        var s = function () {
          btn = GameInject.CharacterButton.add(Images.buttonBank);
          btn
            .click(function () {
              o();
            })
            .addMousePopup("Κατάθεση χρημάτων");
        };
        var o = function () {
          new west.gui.Dialog(
            "Κατάθεση χρημάτων",
            e(
              "<span class='twdb_banking'>Χρήματα: " +
              w.Character.money +
              "</span>"
            )
          )
            .setIcon(west.gui.Dialog.SYS_QUESTION)
            .setModal(true, false)
            .addButton("Ναι", function () {
              a(1);
            })
            .addButton("Όχι")
            .show();
        };
        var u = function () {
          try {
            if (w.Character.homeTown.town_id == 0 || w.Character.money <= 10) {
              n = true;
              return;
            }
            if (
              w.Character.position.x == w.Character.homeTown.x &&
              w.Character.position.y == w.Character.homeTown.y
            ) {
              if (n) {
                n = false;
                new west.gui.Dialog(
                  "Κατάθεση χρημάτων",
                  e(
                    "<span class='twdb_banking'>Έχετε φτάσει στην πόλη σας. Μήπως θέλετε να καταθέσετε τα χρήματα σας; <br />Χρήματα: " +
                    w.Character.money +
                    "</span>"
                  )
                )
                  .setIcon(west.gui.Dialog.SYS_QUESTION)
                  .setModal(true, false)
                  .addButton("Ναι", function () {
                    n = true;
                    a(w.Character.homeTown.town_id);
                  })
                  .addButton("Όχι")
                  .show();
              }
            } else {
              n = true;
            }
          } catch (t) {
            Error.report(t, "autoDeposit");
          }
        };
        var a = function (e) {
          if (w.Character.money <= 0) {
            return;
          }
          w.BankWindow.townid = e;
          w.BankWindow.DOM = new west.gui.Textfield(
            "tb_balance_input_" + w.BankWindow.townid
          )
            .setSize(10)
            .setValue(w.Character.money)
            .getMainDiv();
          w.BankWindow.Balance.add();
        };
        return t;
      })($);
      Debugger.Bank = Bank;
      var Market = (function (e) {
        var t = {};
        var n = false;
        var r = false;
        var i = {};
        var s = {};
        var o = function () {
          if (s.ready) return;
          if (Settings.get("marketmap", false)) {
            GameInject.addTabOnMarketWindow(
              "Χάρτης Αγοράς",
              "marketmap",
              function () {
                c();
              }
            );
            TWDB.Util.addCss(
              ".twdb_mmap_point { width: 7px;" +
              "height: 7px;" +
              "background-color: #F00;" +
              "position: absolute;" +
              "border: 1px solid #000;" +
              "border-radius: 5px; }"
            );
          }
          if (Settings.get("marketreminder", true)) {
            GameInject.MarketOfferTable(function (e) {
              u(e);
            });
            GameInject.MarketWatchlistTable(function (e) {
              a(e);
            });
            l.init();
          }
          s.ready = true;
        };
        s = Loader.add("Market", "tw-db Market", o, { Settings: true });
        var u = function (t) {
          for (var n = 0; n < t.length; n++) {
            var r = t[n];
            var i = e('<div class="mpo_alert" />');
            e(MarketWindow.offerTable.getMainDiv())
              .children()
              .find(".marketBidsData_" + r.market_offer_id)
              .append(i);
            if (!r.isFinished) {
              i.append(f(r));
            }
          }
        };
        var a = function (t) {
          for (var n = 0; n < t.length; n++) {
            var r = t[n];
            var i = e('<div class="mpo_alert" />');
            e(MarketWindow.watchlistTable.getMainDiv())
              .children()
              .find(".marketWatchData_" + r.market_offer_id)
              .append(i);
            if (!r.isFinished) {
              i.append(f(r));
            }
          }
        };
        var f = function (t) {
          var n = e('<img src="' + Images.iconAlarm + '" />').css({
            cursor: "pointer",
          });
          n.click(
            (function (e, t) {
              return function () {
                l.create(e, t);
              };
            })(t, n)
          );
          if (l.exists(t.market_offer_id) === false) {
            n.css("opacity", 0.5);
          }
          return n;
        };
        var l = (function (e) {
          var t = {},
            n = {},
            r = {};
          t.init = function () {
            var e = Cache.load("marketreminder");
            if (isDefined(e)) {
              n = e;
            }
            for (var t in n) {
              i(t);
            }
          };
          t.exists = function (e) {
            return isDefined(n[e]);
          };
          var i = function (e) {
            var t = n[e],
              r = Math.max(
                t.ends * 1e3 - new Date().getTime() - t.reminder * 60 * 1e3,
                100
              );
            t.timer = setTimeout(
              (function (e) {
                return function () {
                  u(e);
                };
              })(e),
              r
            );
          };
          var s = function (e, r, s) {
            var o = parseInt(r.getValue(), 10);
            if (isNaN(o) || o < 1) {
              t.create(e, s);
              return;
            }
            if (new Date().getTime() / 1e3 + o * 60 >= e.auction_end_date) {
              new UserMessage("?remindertoolate").show();
              t.create(e, s);
              return;
            }
            if (t.exists(e.market_offer_id)) {
              clearTimeout(n[e.market_offer_id].timer);
              delete n[e.market_offer_id].timer;
            }
            n[e.market_offer_id] = {
              ends: e.auction_end_date,
              reminder: o,
              id: e.market_offer_id,
              item: e.item_id,
            };
            Cache.save("marketreminder", n);
            i(e.market_offer_id);
          };
          var o = function (e) {
            delete n[e];
            Cache.save("marketreminder", n);
          };
          var u = function (t) {
            var r = n[t],
              i = ItemManager.get(r.item),
              s = new OnGoingEntry();
            s.init();
            s.setTooltip(
              "Δημοπρασία: " +
              i.name +
              ", Τέλος: " +
              Number(
                r.ends - new Date().getTime() / 1e3
              ).getTimeString4Timestamp()
            );
            s.setImage(e('<img src="' + Images.notiBell + '" />'));
            WestUi.NotiBar.add(s);
            TitleTicker.setNotifyMessage(
              "Δημοπρασία: " +
              i.name +
              ", Τέλος: " +
              Number(
                r.ends - new Date().getTime() / 1e3
              ).getTimeString4Timestamp()
            );
            AudioController.play(AudioController.SOUND_NEWMSG);
            o(t);
          };
          t.create = function (r, i) {
            var u = e("<div />").append(
              '<span style="position:relative; width:100%;display:block;">Τέλος δημοπρασίας: ' +
              r.auction_ends_in.getTimeString4Timestamp() +
              "</span>"
            ),
              a = new west.gui.Textfield("twdb_analyser_last")
                .maxlength(4)
                .onlyNumeric()
                .setLabel("Υπενθύμιση πριν την λήξη δημοπρασίας: ")
                .setPlaceholder("λεπτά");
            u.append(a.getMainDiv());
            if (t.exists(r.market_offer_id)) {
              a.setValue(n[r.market_offer_id].reminder);
              i.css("opacity", 1);
            } else {
              i.css("opacity", 0.5);
            }
            var f = new west.gui.Dialog("Υπενθύμιση αγοράς", u)
              .setIcon(west.gui.Dialog.SYS_QUESTION)
              .setModal(true, false, {
                bg: w.Game.cdnURL + "/images/curtain_bg.png",
                opacity: 0.4,
              })
              .addButton("ΟΚ", function () {
                i.css("opacity", 1);
                s(r, a, i);
              });
            if (t.exists(r.market_offer_id)) {
              f.addButton("Διαγραφή", function () {
                o(r.market_offer_id);
                i.css("opacity", 0.5);
              });
            }
            f.addButton("Ακύρωση", function () { }).show();
          };
          return t;
        })(e);
        var c = function () {
          try {
            window.MarketWindow.window.showLoader();
            window.MarketWindow.window
              .setTitle("Χάρτης Αγοράς")
              .setSize(840, 655)
              .addClass("premium-buy");
            var t = -111,
              s = -1;
            r = e(
              '<div style="position:relative;display:block;margin:10px 9px 10px 9px;width:770px;height:338px;" />'
            );
            for (var o = 1; o < 16; o++) {
              if (o == 8) {
                s += 169;
                t = -111;
              }
              t += 110;
              var u = e(
                '<img style="position:absolute;border:1px solid #000;width:110px;height:169px;left:' +
                t +
                "px;top:" +
                s +
                'px;" src="' +
                Game.cdnURL +
                "/images/map/minimap/county_" +
                o +
                '.jpg" />'
              );
              if (o == 4) {
                u.css({ height: "114px" });
              } else {
                if (o == 11) {
                  u.css({ height: "114px", top: s + 55 + "px" });
                } else {
                  if (o == 15) {
                    u.css({
                      height: "108px",
                      width: "109px",
                      left: "329px",
                      top: "114px",
                    });
                  }
                }
              }
              r.append(u);
            }
            n = e("<div />").append(r);
            e(MarketWindow.window.getContentPane())
              .find(".marketplace-marketmap")
              .children()
              .remove();
            e(MarketWindow.window.getContentPane())
              .find(".marketplace-marketmap")
              .append(n);
            i = {};
            p();
          } catch (a) {
            Error.report(a, "Market map");
          }
        };
        var h = function (e, t, n, r, s, o, u) {
          if (!isDefined(i[e])) {
            i[e] = {
              name: t,
              town_id: e,
              x: n,
              y: r,
              count: 0,
              offers_end: {},
              offers_unend: {},
              money: 0,
              distance: window.GameMap.calcWayTime(window.Character.position, {
                x: n,
                y: r,
              }).formatDuration(),
            };
          }
          var a = i[e];
          if (s !== "") {
            if (!isDefined(a.offers_end[s.item_id])) {
              a.count++;
              a.offers_end[s.item_id] = s;
            } else {
              a.offers_end[s.item_id].count += s.count;
            }
          }
          if (o !== "") {
            if (!isDefined(a.offers_unend[o.item_id])) {
              a.count++;
              a.offers_unend[o.item_id] = o;
            } else {
              a.offers_unend[o.item_id].count += o.count;
            }
          }
          if (u !== 0) {
            a.money += u;
          }
        };
        var p = function () {
          Ajax.remoteCall("building_market", "fetch_bids", {}, function (e) {
            if (e.error)
              return new UserMessage(e.msg, UserMessage.TYPE_ERROR).show();
            var t = e.msg.search_result;
            for (var n = 0; n < t.length; n++) {
              if (
                t[n].auction_ends_in < 0 ||
                t[n].current_bid == t[n].max_price
              ) {
                var r = {
                  item_id: t[n].item_id,
                  count: parseFloat(t[n].item_count),
                };
                var i = "";
              } else {
                var i = {
                  item_id: t[n].item_id,
                  count: parseFloat(t[n].item_count),
                };
                var r = "";
              }
              h(
                t[n].market_town_id,
                t[n].market_town_name,
                t[n].market_town_x,
                t[n].market_town_y,
                r,
                i,
                0
              );
            }
            d();
          });
        };
        var d = function () {
          Ajax.remoteCall(
            "building_market",
            "fetch_offers",
            { page: 0 },
            function (e) {
              if (e.error)
                return new UserMessage(e.msg, UserMessage.TYPE_ERROR).show();
              var t = e.msg.search_result;
              for (var n = 0; n < t.length; n++) {
                var r = "";
                if (t[n].auction_ends_in < 0 && !t[n].current_bid) {
                  r = {
                    item_id: t[n].item_id,
                    count: parseFloat(t[n].item_count),
                  };
                }
                h(
                  t[n].market_town_id,
                  t[n].market_town_name,
                  t[n].market_town_x,
                  t[n].market_town_y,
                  r,
                  "",
                  t[n].current_bid
                );
              }
              v();
            }
          );
        };
        var v = function () {
          for (var t in i) {
            var n = i[t];
            var s =
              '<div style="max-width: 305px;"><b>' +
              n.name +
              "</b>" +
              (n["money"] == 0 ? "" : " " + n["money"] + "$") +
              "<br/>";
            var o = 0,
              u;
            for (var a in n["offers_end"]) {
              o++;
              if (o > 19) {
                s += " ... ";
                break;
              }
              u = n["offers_end"][a];
              if (n["offers_end"][a] !== 0) {
                s +=
                  '<div class="item item_inventory"><img width="53" height="53" src="' +
                  ItemManager.get(a).image +
                  '" class="tw_item item_inventory_img dnd_draggable dnd_dragElem" style="margin-left:3px;margin-top:4px;"><span class="count" style="display: block;"><p>' +
                  u.count +
                  "</p></span></div>";
              }
            }
            for (a in n["offers_unend"]) {
              o++;
              if (o > 19) {
                s += " ... ";
                break;
              }
              u = n["offers_unend"][a];
              if (n["offers_unend"][a] !== 0) {
                s +=
                  '<div style="opacity:0.35" class="item item_inventory"><img width="53" height="53" src="' +
                  ItemManager.get(a).image +
                  '" class="tw_item item_inventory_img dnd_draggable dnd_dragElem" style="margin-left:3px;margin-top:4px;"><span class="count" style="display: block;"><p>' +
                  u.count +
                  "</p></span></div>";
              }
            }
            s += "</div>";
            e("<div />")
              .css({
                left: (n.x / (181 * window.GameMap.tileSize)) * 770 - 5 + "px",
                top: (n.y / (79 * window.GameMap.tileSize)) * 338 - 5 + "px",
              })
              .attr({ class: "twdb_mmap_point", id: t, title: s })
              .click(
                (function (e) {
                  return function () {
                    TownWindow.open(e.x, e.y);
                  };
                })(n)
              )
              .appendTo(r);
          }
          e(
            "<img src='" +
            to_cdn("images/map/minimap/icons/miniicon_pos.png") +
            "' />"
          )
            .css({
              left:
                (Character.position.x / (181 * window.GameMap.tileSize)) * 770 -
                8 +
                "px",
              top:
                (Character.position.y / (79 * window.GameMap.tileSize)) * 338 -
                8 +
                "px",
              width: "16px",
              height: "16px",
            })
            .attr({
              class: "mmap_mappoint",
              id: "mmap_icon_pos",
              title: "Η θέση σου",
            })
            .appendTo(r);
          m();
        };
        var m = function () {
          try {
            var t = [],
              r,
              s,
              o;
            for (r in i) {
              t.push({ id: r, distance: i[r].distance });
            }
            t.sort(function (e, t) {
              return e.distance == t.distance
                ? 0
                : e.distance > t.distance
                  ? 1
                  : -1;
            });
            o = "";
            for (var u = 0; u < t.length; u++) {
              var a = i[t[u].id];
              o +=
                '<div><a onclick="TownWindow.open(' +
                a.x +
                ", " +
                a.y +
                ');">' +
                a.name +
                "</a>" +
                ' <a title="Ένδειξη πόλης στον χάρτη" onclick="GameMap.center(' +
                a["x"] +
                ", " +
                a["y"] +
                ')"><img src="' +
                Game.cdnURL +
                '/images/icons/center.png" /></a>' +
                " Απόσταση: " +
                a["distance"] +
                ' <a title="Μετακίνηση στην πόλη" onclick="TaskQueue.add(new TaskWalk(' +
                a.town_id +
                ",'town'))\"><img src=\"" +
                Game.cdnURL +
                '/images/map/icons/instantwork.png"></a>' +
                (a["money"] == 0 ? "" : " " + a["money"] + "$") +
                "<br />";
              for (s in a["offers_end"]) {
                var f = a["offers_end"][s];
                if (a["offers_end"][s] !== 0) {
                  var l = new ItemPopup(ItemManager.get(s));
                  o +=
                    '<div class="item item_inventory" title="' +
                    l.getXHTML().escapeHTML() +
                    '"><img width="53" height="53" src="' +
                    ItemManager.get(s).image +
                    '" class="tw_item item_inventory_img dnd_draggable dnd_dragElem" style="margin-left:3px;margin-top:4px;"><span class="count" style="display: block;"><p>' +
                    f.count +
                    "</p></span></div>";
                }
              }
              for (s in a["offers_unend"]) {
                var f = a["offers_unend"][s];
                if (a["offers_unend"][s] !== 0) {
                  var l = new ItemPopup(ItemManager.get(s));
                  o +=
                    '<div style="opacity:0.35" class="item item_inventory" title="' +
                    l.getXHTML().escapeHTML() +
                    '"><img width="53" height="53" src="' +
                    ItemManager.get(s).image +
                    '" class="tw_item item_inventory_img dnd_draggable dnd_dragElem" style="margin-left:3px;margin-top:4px;"><span class="count" style="display: block;"><p>' +
                    f.count +
                    "</p></span></div>";
                }
              }
              o += "</div>";
              for (var c = 0; c <= (a.count - (a.count % 12)) / 12; c++) {
                o += a.count == 0 ? "<br/>" : "<br/><br/><br/><br/>";
              }
            }
            var h = new west.gui.Scrollpane();
            e(h.getMainDiv()).css({ height: "200px", "margin-left": "8px" });
            h.appendContent(o);
            n.append(h.getMainDiv());
          } catch (p) {
            Error.report(p, "Market createTownList");
          }
          window.MarketWindow.window.hideLoader();
        };
        return t;
      })($);
      Debugger.Market = Market;
      var Fort = (function ($) {
        var _self = {};
        var loader = {};
        var init = function () {
          if (loader.ready) {
            return;
          }
          if (Settings.get("enhancedfortrecruitment", true)) {
            inject();
          }
          loader.ready = true;
        };
        loader = Loader.add("Fort", "tw-db Fort", init, { Settings: true });
        var inject = function () {
          try {
            var gradeValues = {
              TRAITOR: "-2",
              RESERVIST: "-1",
              RECRUIT: "0",
              PRIVATE: "1",
              SERGEANT: "2",
              CAPTAIN: "3",
              MAJOR_GENERAL: "4",
              GENERAL: "5",
            };
            var gradeNames = {
              "-2": "traitor",
              "-1": "reservist",
              0: "recruit",
              1: "private",
              2: "sergeant",
              3: "captain",
              4: "major_general",
              5: "general",
            };
            var getGradeImg = function (e, t, n, r) {
              try {
                return (
                  '<img class="' +
                  (n || "") +
                  '" src="' +
                  window.Game.cdnURL +
                  "/images/chat/servicegrade_" +
                  gradeNames[e] +
                  '.png" title="' +
                  (t
                    ? window.Chat.rankTitles[gradeNames[e]].escapeHTML()
                    : "") +
                  (isDefined(r) && r !== "" ? " (" + r + ")" : "") +
                  '" />'
                );
              } catch (i) {
                Error.report(i, "getGradeImg");
              }
            };
            var newfunction = String(FortBattleWindow.updateRecruitlist);
            newfunction = newfunction
              .replace(
                /\.addColumns\(\['count', ?'name', ?'town', ?'rank', ?'class', ?'status', ?'evaluated'\]\)/,
                ".addColumns(['count','name','town','rank','class','status','healthpoints'])"
              )
              .replace(
                /\.appendToThCell\('head', ?'evaluated' ?,.*?,.*?\);/,
                ".appendToThCell('head','healthpoints','Ταξινόμηση κατά Yγεία','<span class=\"sort sort-healthpoints\" style=\"margin-left: 15px;\">'+'Π.Υ.'+'</span>');"
              )
              .replace(
                /evaluated ?: ?list\[i\]\.officername ?\|\| ?''/,
                "healthpoints:'<p style=\"font-weight: 700; color: '+((this.preBattle.battleData.fortCoords.x-list[i].coords.x==0&&this.preBattle.battleData.fortCoords.y-list[i].coords.y==0) ? 'rgb(0, 153, 0)' : ((Math.abs(this.preBattle.battleData.fortCoords.x-list[i].coords.x)<=500&&Math.abs(this.preBattle.battleData.fortCoords.y-list[i].coords.y)<=500) ? 'rgb(255, 119, 0)' : 'rgb(255, 0, 0)'))+'\">'+list[i].currhealth+'/'+list[i].maxhealth+'</p>'"
              );
            eval(
              "FortBattleWindow.updateRecruitlist=(function(){ var lastStamp; return " +
              newfunction +
              "})();"
            );
            const originalUpdate = FortBattleWindow.updateRecruitlist;
            FortBattleWindow.updateRecruitlist = function (...args) {
              const result = originalUpdate.apply(this, args);
              try {
                const thStatus = TWDS.q1(
                  ".cell_5 .sort-status",
                  this.infoareaEl[0]
                );
                if (thStatus) {
                  thStatus.textContent = "Βαθμός";
                }
              } catch (e) { }
              return result;
            };
            var fb_sort = String(FortBattleWindow.recruitListClick);
            fb_sort = "FortBattleWindow.recruitListClick=" + fb_sort;
            fb_sort = fb_sort
              .replace(/pp ?< ?ownPriv/, "pp<ownPriv&&ownPriv>gv.SERGEANT")
              .replace(
                /var hidden ?= ?function\(classKey, ?privKey\) ?{ ?return that\.preBattle\.isHidden\(classKey, ?'rank_'\+ ?privKey\); ?};/,
                "var hidden=function(classKey,privKey, location){return that.preBattle.isHidden(classKey,'rank_'+privKey, null, null, location);};"
              )
              .replace(
                /return ?{message: ?sorting, ?title: ?title};/,
                "else if(key=='healthpoints'){title='Ταξινόμηση κατά Yγεία';sorting.append(getSortLink('Αύξουσα τρέχουσα Yγεία','>currhealth'));sorting.append(getSortLink('Φθίνουσα τρέχουσα Yγεία','<currhealth')); sorting.append(getSortLink('Αύξουσα μέγιστη Υγεία','>maxhealth'));sorting.append(getSortLink('Φθίνουσα μέγιστη Υγεία','<maxhealth'));sorting.append('<br />');sorting.append(getSortLink('Αύξουσα Απόσταση','>distance'));sorting.append(getSortLink('Φθίνουσα Απόσταση','<distance'));sorting.append(getVisLink(hidden(null,'-3','atfort')?'Εμφάνιση παικτών στο οχυρό':'Απόκρυψη παικτών στο οχυρό','atfort'));sorting.append(getVisLink(hidden(null,'-3','nearbyfort')?'Εμφάνιση παικτών κοντά στο οχυρό':'Απόκρυψη παικτών κοντά στο οχυρό','nearbyfort'));sorting.append(getVisLink(hidden(null,'-3','notatfort')?'Εμφάνιση παικτών μακρυά από το οχυρό':'Απόκρυψη παικτών μακρυά από το οχυρό','notatfort'));}return{message:sorting,title:title};"
              );
            eval(fb_sort);
            PreBattle.recruitSorting.currhealth = function (e, t, n) {
              return n
                ? e.currhealth == t.currhealth
                : e.currhealth < t.currhealth;
            };
            PreBattle.recruitSorting.maxhealth = function (e, t, n) {
              return n ? e.maxhealth == t.maxhealth : e.maxhealth < t.maxhealth;
            };
            PreBattle.recruitSorting.distance = function (e, t, n, r, i, s) { };
            PreBattle.isHidden = function (e, t, n, r, i) {
              if (i == null) {
                var s = this.battleData.fortCoords.x - n;
                var o = this.battleData.fortCoords.y - r;
                var u = "notatfort";
                if (s == 0 && o == 0) {
                  u = "atfort";
                } else if (Math.abs(s) <= 500 && Math.abs(o) <= 500) {
                  u = "nearbyfort";
                }
              } else if (i !== null) {
                var u = i;
              }
              return (
                (e !== undefined && this.recruitlistVisibility[e]) ||
                (t !== undefined && this.recruitlistVisibility[t]) ||
                (u !== undefined && this.recruitlistVisibility[u])
              );
            };
          } catch (e) {
            Error.report(e, "Fort");
          }
        };
        return _self;
      })($);
      Debugger.Fort = Fort;
      var CCstarter = (function (e) {
        var t = {};
        var n = {};
        var r = function () {
          if (n.ready) {
            return;
          }
          ClothCalc.ready = n.ready;
          ClothCalc.init();
          n.ready = true;
        };
        n = Loader.add("ClothCalc", "tw-db ClothCalc", r, {});
        return t;
      })($);
      Debugger.CCstarter = CCstarter;
      if (
        (w.location.href.indexOf(".the-west.") !== -1 ||
          w.location.href.indexOf(".tw.innogames.") !== -1) &&
        w.location.href.indexOf("game.php") !== -1
      ) {
        Loader.init();
      }
    })(jQuery);
  }
});